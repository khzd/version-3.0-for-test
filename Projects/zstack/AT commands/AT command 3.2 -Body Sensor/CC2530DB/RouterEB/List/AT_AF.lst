###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         19/Jul/2015  11:18:37 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\Source\AT_AF.c                              #
#    Command line       =  -f "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\Tools\CC2530DB\f8wRouter. #
#                          cfg" (-DCPU32MHZ -DROOT=__near_func                #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f                   #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig. #
#                          cfg" (-DZIGBEEPRO -DSECURE=0                       #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0x2015                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "S:\zigbee\Myzigbe\version  #
#                          3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\A #
#                          T commands\AT command 3.2 -Body                    #
#                          Sensor\Source\AT_AF.c" -D ZIGBEEPRO -D             #
#                          NWK_AUTO_POLL -D HAL_UART=TRUE -D HOLD_AUTO_START  #
#                          -D NV_RESTORE -D REFLECTOR -D                      #
#                          xHAL_UART_ISR_TX_MAX=200 -D xPOWER_SAVING -D       #
#                          ZCL_READ -D ZCL_WRITE -D ZCL_IDENTIFY -D           #
#                          ZCL_ON_OFF -D ZCL_DISCOVER -D HAL_UART_ISR=1 -D    #
#                          HAL_UART_DMA=0 -D xZTOOL_P1 -D xMT_TASK -D         #
#                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                    #
#                          xLCD_SUPPORTED=DEBUG -D xMT_UART_DEFAULT_OVERFLOW= #
#                          FALSE -lC "S:\zigbee\Myzigbe\version 3.0 for new   #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\RouterEB\List\" -lA                #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\RouterEB\List\" --diag_suppress    #
#                          Pe001,Pa010 -o "S:\zigbee\Myzigbe\version 3.0 for  #
#                          new ZStack-CC2530-2.5.1a\Projects\zstack\AT        #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\RouterEB\Obj\" -e                  #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body Sensor\CC2530DB\"    #
#                          -I "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\Source\" -I                     #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\Source\hal\" -I                 #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\Source\Modified\" -I            #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\ZMain\TI2530DB\" -I       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\hal\incl #
#                          ude\" -I "S:\zigbee\Myzigbe\version 3.0 for new    #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\hal\targ #
#                          et\CC2530EB\" -I "S:\zigbee\Myzigbe\version 3.0    #
#                          for new ZStack-CC2530-2.5.1a\Projects\zstack\AT    #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\mac\incl #
#                          ude\" -I "S:\zigbee\Myzigbe\version 3.0 for new    #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\mac\high #
#                          _level\" -I "S:\zigbee\Myzigbe\version 3.0 for     #
#                          new ZStack-CC2530-2.5.1a\Projects\zstack\AT        #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\mac\low_ #
#                          level\srf04\" -I "S:\zigbee\Myzigbe\version 3.0    #
#                          for new ZStack-CC2530-2.5.1a\Projects\zstack\AT    #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\mac\low_ #
#                          level\srf04\single_chip\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\mt\" -I  #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\osal\inc #
#                          lude\" -I "S:\zigbee\Myzigbe\version 3.0 for new   #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\services #
#                          \saddr\" -I "S:\zigbee\Myzigbe\version 3.0 for     #
#                          new ZStack-CC2530-2.5.1a\Projects\zstack\AT        #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\services #
#                          \sdata\" -I "S:\zigbee\Myzigbe\version 3.0 for     #
#                          new ZStack-CC2530-2.5.1a\Projects\zstack\AT        #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\af #
#                          \" -I "S:\zigbee\Myzigbe\version 3.0 for new       #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\nw #
#                          k\" -I "S:\zigbee\Myzigbe\version 3.0 for new      #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\sa #
#                          pi\" -I "S:\zigbee\Myzigbe\version 3.0 for new     #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\se #
#                          c\" -I "S:\zigbee\Myzigbe\version 3.0 for new      #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\sy #
#                          s\" -I "S:\zigbee\Myzigbe\version 3.0 for new      #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\zd #
#                          o\" -I "S:\zigbee\Myzigbe\version 3.0 for new      #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\stack\zc #
#                          l\" -I "S:\zigbee\Myzigbe\version 3.0 for new      #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\zmac\"   #
#                          -I "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\..\..\..\..\..\Components\zmac\f8w #
#                          \" -Ohz --require_prototypes                       #
#    List file          =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\RouterEB\List\AT_AF.lst            #
#    Object file        =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2 -Body                      #
#                          Sensor\CC2530DB\RouterEB\Obj\AT_AF.r51             #
#                                                                             #
#                                                                             #
###############################################################################

S:\zigbee\Myzigbe\version 3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\AT commands\AT command 3.2 -Body Sensor\Source\AT_AF.c
      1          /**************************************************************************************************
      2            Filename:       AT_AF.c
      3          
      4            Description:    AT command module
      5            Author:         Xiao Wang
      6          **************************************************************************************************/
      7          
      8          
      9          #include "OSAL.h"
     10          #include "ZGlobals.h"
     11          #include "AF.h"
     12          #include "aps_groups.h"
     13          #include "ZDApp.h"
     14          
     15          
     16          #include "At_include.h"
     17          
     18          #include "hal_led.h"
     19          #include "zcl.h"
     20          /*************************************global variable*****************
     21          *
     22          */
     23          
     24          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     25          aps_Group_t AT_AF_Group={
   \                     AT_AF_Group:
   \   000000                DS 18
   \   000012                REQUIRE `?<Initializer for AT_AF_Group>`
   \   000012                REQUIRE __INIT_XDATA_I
     26            AT_AF_GROUP_ID,                               //group id
     27            {'A','T','_','A','F','_','g','r','o','u','p','\0'}    //group name "AT_AF_group"
     28          };
     29          

   \                                 In  segment XDATA_ROM_C, align 1
     30          const cId_t AT_AF_ClusterList[AT_AF_MAX_CLUSTERS] = AT_AF_ClusterList_ ;
   \                     AT_AF_ClusterList:
   \   000000   0000         DW 0
   \   000002   0100         DW 1
   \   000004   0200         DW 2
   \   000006   0300         DW 3
   \   000008   0400         DW 4
   \   00000A   0600         DW 6
   \   00000C   0000         DW 0
     31          

   \                                 In  segment XDATA_ROM_C, align 1
     32          const SimpleDescriptionFormat_t AT_AF_SimpleDesc =
   \                     AT_AF_SimpleDesc:
   \   000000   CC           DB 204
   \   000001   0700         DW 7
   \   000003   0200         DW 2
   \   000005   00           DB 0
   \   000006   07           DB 7
   \   000007   ....         DW AT_AF_ClusterList
   \   000009   07           DB 7
   \   00000A   ....         DW AT_AF_ClusterList
     33          {
     34            AT_AF_ENDPOINT,              //  int Endpoint;
     35            AT_AF_PROFID,                //  uint16 AppProfId[2];
     36            AT_AF_DEVICEID,              //  uint16 AppDeviceId[2];
     37            AT_AF_DEVICE_VERSION,        //  int   AppDevVer:4;
     38            AT_AF_FLAGS,                 //  int   AppFlags:4;
     39            AT_AF_MAX_CLUSTERS,                                     //  uint8  AppNumInClusters;
     40            (cId_t *)AT_AF_ClusterList,                            //  uint8 *pAppInClusterList;
     41            AT_AF_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     42            (cId_t *)AT_AF_ClusterList   //  uint8 *pAppInClusterList;
     43          };
     44          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     45          endPointDesc_t AT_AF_epDesc;
   \                     AT_AF_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     46          uint8 AT_AF_TransID;  // This is the unique message ID (counter)
   \                     AT_AF_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     47          
     48          /****************Local function*********************/
     49          void AT_AF_Cmd_REPPRINT_CB(afIncomingMSGPacket_t *pkt );
     50          void AT_AF_Cmd_REPPRINT_req(afIncomingMSGPacket_t *pkt  );
     51          void AT_AF_Cmd_REPPRINT_rsp(afIncomingMSGPacket_t *pkt );
     52          void AT_AF_Cmd_REPENABLE_CB(afIncomingMSGPacket_t *pkt );
     53          void AT_AF_Cmd_REPENABLE_req(afIncomingMSGPacket_t *pkt  );
     54          void AT_AF_Cmd_REPENABLE_rsp(afIncomingMSGPacket_t *pkt );
     55          
     56          void AT_AF_Cmd_HA_DISC_CB(afIncomingMSGPacket_t *pkt );
     57          void AT_AF_Cmd_HA_DISC_req(afIncomingMSGPacket_t *pkt  );
     58          void AT_AF_Cmd_HA_DISC_rsp(afIncomingMSGPacket_t *pkt );
     59          
     60          void AT_AF_Cmd_HA_CIDDISC_CB(afIncomingMSGPacket_t *pkt );
     61          void AT_AF_Cmd_HA_CIDDISC_req(afIncomingMSGPacket_t *pkt  );
     62          void AT_AF_Cmd_HA_CIDDISC_rsp(afIncomingMSGPacket_t *pkt );
     63          
     64          void AT_AF_Cmd_R_CIDDISC_CB(afIncomingMSGPacket_t *pkt );
     65          void AT_AF_Cmd_R_CIDDISC_req(afIncomingMSGPacket_t *pkt  );
     66          void AT_AF_Cmd_R_CIDDISC_rsp(afIncomingMSGPacket_t *pkt );
     67          
     68          void AT_AF_Cmd_POWER_SVING_EXP_CB(afIncomingMSGPacket_t *pkt );
     69          
     70          void AT_AF_TEST_KEY_CB(afIncomingMSGPacket_t *pkt );
     71          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     72          void AT_AF_Register(uint8 *task_id){
   \                     AT_AF_Register:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
     73           // Fill out the endpoint description.
     74            AT_AF_epDesc.endPoint = AT_AF_ENDPOINT;
   \   000004   90....       MOV     DPTR,#AT_AF_epDesc
   \   000007   74CC         MOV     A,#-0x34
   \   000009   F0           MOVX    @DPTR,A
     75            AT_AF_epDesc.task_id = task_id;
   \   00000A   A3           INC     DPTR
   \   00000B   EA           MOV     A,R2
   \   00000C   F0           MOVX    @DPTR,A
   \   00000D   A3           INC     DPTR
   \   00000E   EB           MOV     A,R3
   \   00000F   F0           MOVX    @DPTR,A
     76            AT_AF_epDesc.simpleDesc
     77                      = (SimpleDescriptionFormat_t *)&AT_AF_SimpleDesc;
   \   000010   A3           INC     DPTR
   \   000011   74..         MOV     A,#AT_AF_SimpleDesc & 0xff
   \   000013   F0           MOVX    @DPTR,A
   \   000014   A3           INC     DPTR
   \   000015   74..         MOV     A,#(AT_AF_SimpleDesc >> 8) & 0xff
   \   000017   F0           MOVX    @DPTR,A
     78            AT_AF_epDesc.latencyReq = noLatencyReqs;
   \   000018   A3           INC     DPTR
   \   000019   E4           CLR     A
   \   00001A   F0           MOVX    @DPTR,A
     79            
     80            // Register the endpoint description with the AF
     81            afRegister( &AT_AF_epDesc );
   \   00001B                ; Setup parameters for call to function afRegister
   \   00001B   7A..         MOV     R2,#AT_AF_epDesc & 0xff
   \   00001D   7B..         MOV     R3,#(AT_AF_epDesc >> 8) & 0xff
   \   00001F   12....       LCALL   ??afRegister?relay
     82            
     83            aps_AddGroup( AT_AF_ENDPOINT, &AT_AF_Group );
   \   000022                ; Setup parameters for call to function aps_AddGroup
   \   000022   7A..         MOV     R2,#AT_AF_Group & 0xff
   \   000024   7B..         MOV     R3,#(AT_AF_Group >> 8) & 0xff
   \   000026   79CC         MOV     R1,#-0x34
   \   000028   12....       LCALL   ??aps_AddGroup?relay
     84            
     85          }
   \   00002B   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
     86          
     87          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     88          void AT_AF_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     AT_AF_MessageMSGCB:
     89          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
     90            
     91            switch ( pkt->clusterId )
   \   000005   8A82         MOV     DPL,R2
   \   000007   8B83         MOV     DPH,R3
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   12....       LCALL   ??Subroutine45_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   000010   78..         MOV     R0,#?V0 + 0
   \   000012   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for AT_AF_MessageMSGCB>_0`:
   \   000015   0000         DW        0
   \   000017   06           DB        6
   \   000018   ....         DW        ??AT_AF_MessageMSGCB_0
   \   00001A   ....         DW        ??AT_AF_MessageMSGCB_1
   \   00001C   ....         DW        ??AT_AF_MessageMSGCB_2
   \   00001E   ....         DW        ??AT_AF_MessageMSGCB_3
   \   000020   ....         DW        ??AT_AF_MessageMSGCB_4
   \   000022   ....         DW        ??AT_AF_MessageMSGCB_5
   \   000024   ....         DW        ??AT_AF_MessageMSGCB_6
   \   000026   ....         DW        ??AT_AF_MessageMSGCB_7
     92            {
     93              case AT_AF_Cmd_REPPRINT_CLUSTERID:
     94                AT_AF_Cmd_REPPRINT_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_1:
   \   000028                ; Setup parameters for call to function AT_AF_Cmd_REPPRINT_CB
   \   000028   12....       LCALL   ??AT_AF_Cmd_REPPRINT_CB?relay
     95                break;
   \   00002B   801C         SJMP    ??AT_AF_MessageMSGCB_0
     96              case AT_AF_Cmd_REPENABLE_CLUSTERID:
     97                AT_AF_Cmd_REPENABLE_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_2:
   \   00002D                ; Setup parameters for call to function AT_AF_Cmd_REPENABLE_CB
   \   00002D   12....       LCALL   ??AT_AF_Cmd_REPENABLE_CB?relay
     98                break;
   \   000030   8017         SJMP    ??AT_AF_MessageMSGCB_0
     99              case  AT_AF_Cmd_HA_DISC_CLUSTERID:
    100                AT_AF_Cmd_HA_DISC_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_3:
   \   000032                ; Setup parameters for call to function AT_AF_Cmd_HA_DISC_CB
   \   000032   12....       LCALL   ??AT_AF_Cmd_HA_DISC_CB?relay
    101                break;
   \   000035   8012         SJMP    ??AT_AF_MessageMSGCB_0
    102              case  AT_AF_Cmd_HA_CIDDISC_CLUSTERID:
    103                AT_AF_Cmd_HA_CIDDISC_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_4:
   \   000037                ; Setup parameters for call to function AT_AF_Cmd_HA_CIDDISC_CB
   \   000037   12....       LCALL   ??AT_AF_Cmd_HA_CIDDISC_CB?relay
    104                break;
   \   00003A   800D         SJMP    ??AT_AF_MessageMSGCB_0
    105              case  AT_AF_Cmd_R_CIDDISC_CLUSTERID:
    106                AT_AF_Cmd_R_CIDDISC_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_5:
   \   00003C                ; Setup parameters for call to function AT_AF_Cmd_R_CIDDISC_CB
   \   00003C   12....       LCALL   ??AT_AF_Cmd_R_CIDDISC_CB?relay
    107                break;
   \   00003F   8008         SJMP    ??AT_AF_MessageMSGCB_0
    108              case  AT_AF_TEST_KEY_CLUSTERID:
    109                AT_AF_TEST_KEY_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_6:
   \   000041                ; Setup parameters for call to function AT_AF_TEST_KEY_CB
   \   000041   12....       LCALL   ??AT_AF_TEST_KEY_CB?relay
    110                break;
   \   000044   8003         SJMP    ??AT_AF_MessageMSGCB_0
    111              case  AT_AF_POWER_SVING_EXP_CLUSTERID:
    112                AT_AF_Cmd_POWER_SVING_EXP_CB(pkt);
   \                     ??AT_AF_MessageMSGCB_7:
   \   000046                ; Setup parameters for call to function AT_AF_Cmd_POWER_SVING_EXP_CB
   \   000046   12....       LCALL   ??AT_AF_Cmd_POWER_SVING_EXP_CB?relay
    113                break;
    114                
    115            }
    116          }
   \                     ??AT_AF_MessageMSGCB_0:
   \   000049                REQUIRE ?Subroutine1
   \   000049                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine45_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 1,A
   \   000007   22           RET
    117          
    118          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    119          afStatus_t AT_AF_Cmd_send_simple_(uint16 nwkAddr,uint16 CID,uint8 len, uint8 *buff){
   \                     AT_AF_Cmd_send_simple_:
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   7418         MOV     A,#0x18
   \   00000E   12....       LCALL   ?XSTACK_DISP0_8
   \   000011   12....       LCALL   ??Subroutine45_0 & 0xFFFF
    120            
    121            afAddrType_t dstAddr;
    122            dstAddr.endPoint = AT_AF_ENDPOINT;
   \                     ??CrossCallReturnLabel_66:
   \   000014   7409         MOV     A,#0x9
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   74CC         MOV     A,#-0x34
   \   00001B   F0           MOVX    @DPTR,A
    123            dstAddr.addr.shortAddr =nwkAddr;
   \   00001C   85..82       MOV     DPL,?XSP + 0
   \   00001F   85..83       MOV     DPH,?XSP + 1
   \   000022   EA           MOV     A,R2
   \   000023   F0           MOVX    @DPTR,A
   \   000024   A3           INC     DPTR
   \   000025   EB           MOV     A,R3
   \   000026   F0           MOVX    @DPTR,A
    124            dstAddr.addrMode = (afAddrMode_t) Addr16Bit;
   \   000027   7408         MOV     A,#0x8
   \   000029   12....       LCALL   ?XSTACK_DISP0_8
   \   00002C   7402         MOV     A,#0x2
   \   00002E   F0           MOVX    @DPTR,A
    125            
    126            return AF_DataRequest( &dstAddr, & AT_AF_epDesc,
    127                                 CID,
    128                                 len,
    129                                 buff,
    130                                 &AT_AF_TransID,
    131                                 AF_DISCV_ROUTE,
    132                                 AF_DEFAULT_RADIUS );
   \   00002F                ; Setup parameters for call to function AF_DataRequest
   \   00002F   75..1E       MOV     ?V0 + 2,#0x1e
   \   000032   78..         MOV     R0,#?V0 + 2
   \   000034   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000037   75....       MOV     ?V0 + 2,#AT_AF_TransID & 0xff
   \   00003A   75....       MOV     ?V0 + 3,#(AT_AF_TransID >> 8) & 0xff
   \   00003D   78..         MOV     R0,#?V0 + 2
   \   00003F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000042   78..         MOV     R0,#?V0 + 0
   \   000044   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000047   8E..         MOV     ?V0 + 0,R6
   \   000049   75..00       MOV     ?V0 + 1,#0x0
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   8C..         MOV     ?V0 + 0,R4
   \   000053   8D..         MOV     ?V0 + 1,R5
   \   000055   78..         MOV     R0,#?V0 + 0
   \   000057   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005A   7920         MOV     R1,#0x20
   \   00005C   7C..         MOV     R4,#AT_AF_epDesc & 0xff
   \   00005E   7D..         MOV     R5,#(AT_AF_epDesc >> 8) & 0xff
   \   000060   7409         MOV     A,#0x9
   \   000062   12....       LCALL   ?XSTACK_DISP0_8
   \   000065   AA82         MOV     R2,DPL
   \   000067   AB83         MOV     R3,DPH
   \   000069   12....       LCALL   ??AF_DataRequest?relay
   \   00006C   7409         MOV     A,#0x9
   \   00006E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000071   740C         MOV     A,#0xc
   \   000073   12....       LCALL   ?DEALLOC_XSTACK8
   \   000076                REQUIRE ?Subroutine2
   \   000076                ; // Fall through to label ?Subroutine2
    133          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    134          
    135          
    136          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    137          void AT_AF_Cmd_REPPRINT_req(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_REPPRINT_req:
   \   000000   74F3         MOV     A,#-0xd
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 13
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
    138            const uint8 AT_CMD_EP_ARRAY[] = AT_CMD_EPs;
   \   00000E   7403         MOV     A,#0x3
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   AC82         MOV     R4,DPL
   \   000015   AD83         MOV     R5,DPH
   \   000017   7583..       MOV     DPH,#(`?<Constant {7}>` >> 8) & 0xff
   \   00001A   7582..       MOV     DPL,#`?<Constant {7}>` & 0xff
   \   00001D   7401         MOV     A,#0x1
   \   00001F   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    139            uint8 epNum = afNumEndPoints()-1;
   \   000022                ; Setup parameters for call to function afNumEndPoints
   \   000022   12....       LCALL   ??afNumEndPoints?relay
   \   000025   E9           MOV     A,R1
   \   000026   14           DEC     A
   \   000027   F5..         MOV     ?V0 + 4,A
    140            byte* epBuf = (byte*)  osal_mem_alloc(epNum);
   \   000029                ; Setup parameters for call to function osal_mem_alloc
   \   000029   FA           MOV     R2,A
   \   00002A   7B00         MOV     R3,#0x0
   \   00002C   12....       LCALL   ??osal_mem_alloc?relay
   \   00002F   8A..         MOV     ?V0 + 2,R2
   \   000031   8B..         MOV     ?V0 + 3,R3
   \   000033   AE..         MOV     R6,?V0 + 2
   \   000035   AF..         MOV     R7,?V0 + 3
    141            if(epBuf==NULL) return;
   \   000037   EE           MOV     A,R6
   \   000038   4F           ORL     A,R7
   \   000039   7003         JNZ     $+5
   \   00003B   02....       LJMP    ??AT_AF_Cmd_REPPRINT_req_0 & 0xFFFF
    142            afEndPoints( epBuf, true);
   \   00003E                ; Setup parameters for call to function afEndPoints
   \   00003E   7901         MOV     R1,#0x1
   \   000040   12....       LCALL   ??afEndPoints?relay
    143            AT_sort_arr(epBuf,epNum);
   \   000043                ; Setup parameters for call to function AT_sort_arr
   \   000043   A9..         MOV     R1,?V0 + 4
   \   000045   EE           MOV     A,R6
   \   000046   FA           MOV     R2,A
   \   000047   EF           MOV     A,R7
   \   000048   FB           MOV     R3,A
   \   000049   12....       LCALL   ??AT_sort_arr?relay
    144            
    145            //the epStatus store the search result
    146            uint8 pbuf_temp[sizeof(AT_CMD_EP_ARRAY)+sizeof(AT_AF_hdr)];
    147            AT_AF_Cmd_REPPRINT_rsp_t* pbuf = (AT_AF_Cmd_REPPRINT_rsp_t*)pbuf_temp;
    148            pbuf->hdr.cmd=AT_AF_Cmd_rsp;
   \   00004C   85..82       MOV     DPL,?XSP + 0
   \   00004F   85..83       MOV     DPH,?XSP + 1
   \   000052   7480         MOV     A,#-0x80
   \   000054   F0           MOVX    @DPTR,A
    149            pbuf->hdr.numItem=AT_CMD_EPs_Num;
   \   000055   90....       MOV     DPTR,#AT_CMD_EPs_Num
   \   000058   E0           MOVX    A,@DPTR
   \   000059   C0E0         PUSH    A
   \   00005B   7401         MOV     A,#0x1
   \   00005D   12....       LCALL   ?XSTACK_DISP0_8
   \   000060   D0E0         POP     A
   \   000062   F0           MOVX    @DPTR,A
    150            
    151            int i,j;
    152            for(i=0,j=0;j<AT_CMD_EPs_Num;j++){
   \   000063   7A00         MOV     R2,#0x0
   \   000065   7B00         MOV     R3,#0x0
   \   000067   7800         MOV     R0,#0x0
   \   000069   7900         MOV     R1,#0x0
   \   00006B   800D         SJMP    ??AT_AF_Cmd_REPPRINT_req_1
    153              if(epBuf[i]==AT_CMD_EP_ARRAY[j]){
    154                pbuf->status[j] = AT_AF_enable;
    155                i++;
    156              }
    157              else pbuf->status[j] = AT_AF_disable;
   \                     ??AT_AF_Cmd_REPPRINT_req_2:
   \   00006D   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000070   E4           CLR     A
   \   000071   F0           MOVX    @DPTR,A
   \                     ??AT_AF_Cmd_REPPRINT_req_3:
   \   000072   E8           MOV     A,R0
   \   000073   2401         ADD     A,#0x1
   \   000075   08           INC     R0
   \   000076   E9           MOV     A,R1
   \   000077   3400         ADDC    A,#0x0
   \   000079   F9           MOV     R1,A
   \                     ??AT_AF_Cmd_REPPRINT_req_1:
   \   00007A   90....       MOV     DPTR,#AT_CMD_EPs_Num
   \   00007D   E0           MOVX    A,@DPTR
   \   00007E   FC           MOV     R4,A
   \   00007F   C3           CLR     C
   \   000080   E8           MOV     A,R0
   \   000081   9C           SUBB    A,R4
   \   000082   E9           MOV     A,R1
   \   000083   9400         SUBB    A,#0x0
   \   000085   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000087   65D0         XRL     A,PSW
   \   000089   33           RLC     A
   \   00008A   EE           MOV     A,R6
   \   00008B   502B         JNC     ??AT_AF_Cmd_REPPRINT_req_4
   \   00008D   2A           ADD     A,R2
   \   00008E   F582         MOV     DPL,A
   \   000090   EF           MOV     A,R7
   \   000091   3B           ADDC    A,R3
   \   000092   F583         MOV     DPH,A
   \   000094   E0           MOVX    A,@DPTR
   \   000095   FC           MOV     R4,A
   \   000096   7403         MOV     A,#0x3
   \   000098   12....       LCALL   ?XSTACK_DISP0_8
   \   00009B   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   00009E   E0           MOVX    A,@DPTR
   \   00009F   6C           XRL     A,R4
   \   0000A0   85..82       MOV     DPL,?XSP + 0
   \   0000A3   85..83       MOV     DPH,?XSP + 1
   \   0000A6   70C5         JNZ     ??AT_AF_Cmd_REPPRINT_req_2
   \   0000A8   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   0000AB   7401         MOV     A,#0x1
   \   0000AD   F0           MOVX    @DPTR,A
   \   0000AE   EA           MOV     A,R2
   \   0000AF   2401         ADD     A,#0x1
   \   0000B1   0A           INC     R2
   \   0000B2   EB           MOV     A,R3
   \   0000B3   3400         ADDC    A,#0x0
   \   0000B5   FB           MOV     R3,A
   \   0000B6   80BA         SJMP    ??AT_AF_Cmd_REPPRINT_req_3
    158            }
    159            osal_mem_free(epBuf);
   \                     ??AT_AF_Cmd_REPPRINT_req_4:
   \   0000B8                ; Setup parameters for call to function osal_mem_free
   \   0000B8   FA           MOV     R2,A
   \   0000B9   EF           MOV     A,R7
   \   0000BA   FB           MOV     R3,A
   \   0000BB   12....       LCALL   ??osal_mem_free?relay
    160            AF_DataRequest( & (pkt->srcAddr), & AT_AF_epDesc,
    161                                 AT_AF_Cmd_REPPRINT_CLUSTERID,
    162                                 sizeof(AT_CMD_EP_ARRAY)+sizeof(AT_AF_hdr),
    163                                 (uint8*)pbuf,
    164                                 &AT_AF_TransID,
    165                                 AF_DISCV_ROUTE,
    166                                 AF_DEFAULT_RADIUS );
   \   0000BE                ; Setup parameters for call to function AF_DataRequest
   \   0000BE   75..1E       MOV     ?V0 + 2,#0x1e
   \   0000C1   78..         MOV     R0,#?V0 + 2
   \   0000C3   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000C6   75....       MOV     ?V0 + 2,#AT_AF_TransID & 0xff
   \   0000C9   75....       MOV     ?V0 + 3,#(AT_AF_TransID >> 8) & 0xff
   \   0000CC   78..         MOV     R0,#?V0 + 2
   \   0000CE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D1   7403         MOV     A,#0x3
   \   0000D3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D6   8582..       MOV     ?V0 + 2,DPL
   \   0000D9   8583..       MOV     ?V0 + 3,DPH
   \   0000DC   78..         MOV     R0,#?V0 + 2
   \   0000DE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E1   75..03       MOV     ?V0 + 2,#0x3
   \   0000E4   75..00       MOV     ?V0 + 3,#0x0
   \   0000E7   78..         MOV     R0,#?V0 + 2
   \   0000E9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000EC   E4           CLR     A
   \   0000ED   F5..         MOV     ?V0 + 2,A
   \   0000EF   78..         MOV     R0,#?V0 + 2
   \   0000F1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F4   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   0000F7   12....       LCALL   ?DEALLOC_XSTACK8
    167            
    168          }
   \                     ??AT_AF_Cmd_REPPRINT_req_0:
   \   0000FA   7404         MOV     A,#0x4
   \   0000FC   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000FF   7F05         MOV     R7,#0x5
   \   000101   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   E582         MOV     A,DPL
   \   000002   28           ADD     A,R0
   \   000003   F582         MOV     DPL,A
   \   000005   E583         MOV     A,DPH
   \   000007   39           ADDC    A,R1
   \   000008   F583         MOV     DPH,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   7920         MOV     R1,#0x20
   \   000002   7C..         MOV     R4,#AT_AF_epDesc & 0xff
   \   000004   7D..         MOV     R5,#(AT_AF_epDesc >> 8) & 0xff
   \   000006   E5..         MOV     A,?V0 + 0
   \   000008   2406         ADD     A,#0x6
   \   00000A   FA           MOV     R2,A
   \   00000B   E5..         MOV     A,?V0 + 1
   \   00000D                REQUIRE ??Subroutine53_0
   \   00000D                ; // Fall through to label ??Subroutine53_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine53_0:
   \   000000   3400         ADDC    A,#0x0
   \   000002   FB           MOV     R3,A
   \   000003   12....       LCALL   ??AF_DataRequest?relay
   \   000006   7409         MOV     A,#0x9
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    169          void AT_AF_Cmd_REPPRINT_rsp(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_REPPRINT_rsp:
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 5
   \   000005   74FB         MOV     A,#-0x5
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 2,R2
   \   00000C   8B..         MOV     ?V0 + 3,R3
    170            uint8* epStatus = ((AT_AF_Cmd_REPPRINT_rsp_t*) pkt->cmd.Data)->status;
   \   00000E   12....       LCALL   ??Subroutine52_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   000011   12....       LCALL   ??Subroutine51_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   000014   2402         ADD     A,#0x2
   \   000016   F5..         MOV     ?V0 + 4,A
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   3400         ADDC    A,#0x0
   \   00001C   F5..         MOV     ?V0 + 5,A
    171            const uint8 AT_CMD_EP_ARRAY[] = AT_CMD_EPs;
   \   00001E   85..82       MOV     DPL,?XSP + 0
   \   000021   85..83       MOV     DPH,?XSP + 1
   \   000024   AC82         MOV     R4,DPL
   \   000026   AD83         MOV     R5,DPH
   \   000028   7583..       MOV     DPH,#(`?<Constant {7}>_1` >> 8) & 0xff
   \   00002B   7582..       MOV     DPL,#`?<Constant {7}>_1` & 0xff
   \   00002E   7401         MOV     A,#0x1
   \   000030   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    172            
    173            uint8 i;
    174            char str[4];
    175            AT_RESP_START();
   \   000033                ; Setup parameters for call to function AT_HalUARTWrite
   \   000033   7C02         MOV     R4,#0x2
   \   000035   FD           MOV     R5,A
   \   000036   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000038   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   00003A   F9           MOV     R1,A
   \   00003B   12....       LCALL   ??AT_HalUARTWrite?relay
    176            AT_RESP("<nodeID>,<EndPoint>:<Status>",
    177                    sizeof("<nodeID>,<EndPoint>:<Status>")-1);
   \   00003E                ; Setup parameters for call to function AT_HalUARTWrite
   \   00003E   7C1C         MOV     R4,#0x1c
   \   000040   7D00         MOV     R5,#0x0
   \   000042   7A..         MOV     R2,#`?<Constant "<nodeID>,<EndPoint>:<...">` & 0xff
   \   000044   7B..         MOV     R3,#(`?<Constant "<nodeID>,<EndPoint>:<...">` >> 8) & 0xff
   \   000046   7900         MOV     R1,#0x0
   \   000048   12....       LCALL   ??AT_HalUARTWrite?relay
    178            for(i=0;i<((AT_AF_Cmd_REPPRINT_rsp_t*) pkt->cmd.Data)->hdr.numItem;i++){
   \   00004B   75..00       MOV     ?V0 + 0,#0x0
   \   00004E   800F         SJMP    ??AT_AF_Cmd_REPPRINT_rsp_0
    179              AT_NEXT_LINE();
    180              //display nodeID
    181              if(pkt->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
    182                AT_Int16toChar(pkt->srcAddr.addr.shortAddr,str);
    183                AT_RESP(str,4);
    184              }else AT_RESP("UNKNOWN",sizeof("UNKNOWN")-1);
    185              AT_RESP(",",1);
    186              
    187              //print end point
    188              AT_Int8toChar(AT_CMD_EP_ARRAY[i],str);
    189              AT_RESP(str,2);
    190              
    191              //display status 
    192              if(epStatus[i]==AT_AF_enable){
    193                AT_RESP(":ENABLED",sizeof(":ENABLED")-1);
    194              }
    195              else AT_RESP(":DISABLED",sizeof(":DISABLED")-1);
   \                     ??AT_AF_Cmd_REPPRINT_rsp_1:
   \   000050                ; Setup parameters for call to function AT_HalUARTWrite
   \   000050   7C09         MOV     R4,#0x9
   \   000052   7D00         MOV     R5,#0x0
   \   000054   7A..         MOV     R2,#`?<Constant ":DISABLED">` & 0xff
   \   000056   7B..         MOV     R3,#(`?<Constant ":DISABLED">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_REPPRINT_rsp_2:
   \   000058   7900         MOV     R1,#0x0
   \   00005A   12....       LCALL   ??AT_HalUARTWrite?relay
   \   00005D   05..         INC     ?V0 + 0
   \                     ??AT_AF_Cmd_REPPRINT_rsp_0:
   \   00005F   E5..         MOV     A,?V0 + 2
   \   000061   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_108:
   \   000064   E5..         MOV     A,?V0 + 3
   \   000066   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   000069   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   F8           MOV     R0,A
   \   00006E   E5..         MOV     A,?V0 + 0
   \   000070   C3           CLR     C
   \   000071   98           SUBB    A,R0
   \   000072   7C02         MOV     R4,#0x2
   \   000074   7D00         MOV     R5,#0x0
   \   000076   4003         JC      $+5
   \   000078   02....       LJMP    ??AT_AF_Cmd_REPPRINT_rsp_3 & 0xFFFF
   \   00007B                ; Setup parameters for call to function AT_HalUARTWrite
   \   00007B   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   00007D   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   00007F   7900         MOV     R1,#0x0
   \   000081   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000084   E5..         MOV     A,?V0 + 2
   \   000086   240E         ADD     A,#0xe
   \   000088   F582         MOV     DPL,A
   \   00008A   E5..         MOV     A,?V0 + 3
   \   00008C   12....       LCALL   ??Subroutine41_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   00008F   701D         JNZ     ??AT_AF_Cmd_REPPRINT_rsp_4
   \   000091                ; Setup parameters for call to function AT_Int16toChar
   \   000091   7401         MOV     A,#0x1
   \   000093   12....       LCALL   ?XSTACK_DISP0_8
   \   000096   AC82         MOV     R4,DPL
   \   000098   AD83         MOV     R5,DPH
   \   00009A   85..82       MOV     DPL,?V0 + 2
   \   00009D   85..83       MOV     DPH,?V0 + 3
   \   0000A0   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   0000A3   7401         MOV     A,#0x1
   \   0000A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A8   AA82         MOV     R2,DPL
   \   0000AA   AB83         MOV     R3,DPH
   \   0000AC   8008         SJMP    ??AT_AF_Cmd_REPPRINT_rsp_5
   \                     ??AT_AF_Cmd_REPPRINT_rsp_4:
   \   0000AE                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000AE   7C07         MOV     R4,#0x7
   \   0000B0   7D00         MOV     R5,#0x0
   \   0000B2   7A..         MOV     R2,#`?<Constant "UNKNOWN">` & 0xff
   \   0000B4   7B..         MOV     R3,#(`?<Constant "UNKNOWN">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_REPPRINT_rsp_5:
   \   0000B6   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   0000B9   85..82       MOV     DPL,?V0 + 0
   \   0000BC   AE82         MOV     R6,DPL
   \   0000BE                ; Setup parameters for call to function AT_Int8toChar
   \   0000BE   7401         MOV     A,#0x1
   \   0000C0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C3   AA82         MOV     R2,DPL
   \   0000C5   AB83         MOV     R3,DPH
   \   0000C7   85..82       MOV     DPL,?XSP + 0
   \   0000CA   85..83       MOV     DPH,?XSP + 1
   \   0000CD   E582         MOV     A,DPL
   \   0000CF   2E           ADD     A,R6
   \   0000D0   F582         MOV     DPL,A
   \   0000D2   E583         MOV     A,DPH
   \   0000D4   12....       LCALL   ??Subroutine51_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   0000D7   F9           MOV     R1,A
   \   0000D8   12....       LCALL   ??AT_Int8toChar?relay
   \   0000DB                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000DB   7C02         MOV     R4,#0x2
   \   0000DD   7D00         MOV     R5,#0x0
   \   0000DF   7401         MOV     A,#0x1
   \   0000E1   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E4   AA82         MOV     R2,DPL
   \   0000E6   AB83         MOV     R3,DPH
   \   0000E8   7900         MOV     R1,#0x0
   \   0000EA   12....       LCALL   ??AT_HalUARTWrite?relay
   \   0000ED   E5..         MOV     A,?V0 + 4
   \   0000EF   2E           ADD     A,R6
   \   0000F0   F582         MOV     DPL,A
   \   0000F2   E5..         MOV     A,?V0 + 5
   \   0000F4   12....       LCALL   ??Subroutine51_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   0000F7   6401         XRL     A,#0x1
   \   0000F9   6003         JZ      $+5
   \   0000FB   02....       LJMP    ??AT_AF_Cmd_REPPRINT_rsp_1 & 0xFFFF
   \   0000FE                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000FE   7C08         MOV     R4,#0x8
   \   000100   7D00         MOV     R5,#0x0
   \   000102   7A..         MOV     R2,#`?<Constant ":ENABLED">` & 0xff
   \   000104   7B..         MOV     R3,#(`?<Constant ":ENABLED">` >> 8) & 0xff
   \   000106   02....       LJMP    ??AT_AF_Cmd_REPPRINT_rsp_2 & 0xFFFF
    196            }
    197            AT_RESP_END();
   \                     ??AT_AF_Cmd_REPPRINT_rsp_3:
   \   000109                ; Setup parameters for call to function AT_HalUARTWrite
   \   000109   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   00010B   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   00010D   7900         MOV     R1,#0x0
   \   00010F   12....       LCALL   ??AT_HalUARTWrite?relay
    198          }
   \   000112   02....       LJMP    ?Subroutine3 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine39_0:
   \   000000   2422         ADD     A,#0x22
   \   000002   F582         MOV     DPL,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   7900         MOV     R1,#0x0
   \   000002   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005   7C01         MOV     R4,#0x1
   \   000007   7D00         MOV     R5,#0x0
   \   000009   7A..         MOV     R2,#`?<Constant ",">` & 0xff
   \   00000B   7B..         MOV     R3,#(`?<Constant ",">` >> 8) & 0xff
   \   00000D   7900         MOV     R1,#0x0
   \   00000F   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine41_0:
   \   000000   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   6402         XRL     A,#0x2
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   FA           MOV     R2,A
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   FB           MOV     R3,A
   \   00000B   12....       LCALL   ??AT_Int16toChar?relay
   \   00000E                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000E                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000E                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000E   7C04         MOV     R4,#0x4
   \   000010   7D00         MOV     R5,#0x0
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   7405         MOV     A,#0x5
   \   000002   12....       LCALL   ?DEALLOC_XSTACK8
   \   000005   7F06         MOV     R7,#0x6
   \   000007   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F583         MOV     DPH,A
   \   000006   8882         MOV     DPL,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine46_0:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine51_0:
   \   000000   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine52_0:
   \   000000   EA           MOV     A,R2
   \   000001   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_110:
   \   000004   EB           MOV     A,R3
   \   000005   22           RET
    199          
    200          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    201          void AT_AF_Cmd_REPPRINT_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_REPPRINT_CB:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    202            
    203            AT_AF_hdr *hdr = (AT_AF_hdr*)pkt->cmd.Data;
    204            switch (hdr->cmd){
   \   000004   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000007   6006         JZ      ??AT_AF_Cmd_REPPRINT_CB_0
   \   000009   2480         ADD     A,#-0x80
   \   00000B   6007         JZ      ??AT_AF_Cmd_REPPRINT_CB_1
   \   00000D   8008         SJMP    ??AT_AF_Cmd_REPPRINT_CB_2
    205            case AT_AF_Cmd_req:
    206              AT_AF_Cmd_REPPRINT_req(pkt);
   \                     ??AT_AF_Cmd_REPPRINT_CB_0:
   \   00000F                ; Setup parameters for call to function AT_AF_Cmd_REPPRINT_req
   \   00000F   12....       LCALL   ??AT_AF_Cmd_REPPRINT_req?relay
    207              break;
   \   000012   8003         SJMP    ??AT_AF_Cmd_REPPRINT_CB_2
    208            case AT_AF_Cmd_rsp:
    209              AT_AF_Cmd_REPPRINT_rsp(pkt);
   \                     ??AT_AF_Cmd_REPPRINT_CB_1:
   \   000014                ; Setup parameters for call to function AT_AF_Cmd_REPPRINT_rsp
   \   000014   12....       LCALL   ??AT_AF_Cmd_REPPRINT_rsp?relay
    210              break;
    211            }   
    212          }
   \                     ??AT_AF_Cmd_REPPRINT_CB_2:
   \   000017   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   EA           MOV     A,R2
   \   000001   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_109:
   \   000004   EB           MOV     A,R3
   \   000005                REQUIRE ??Subroutine44_0
   \   000005                ; // Fall through to label ??Subroutine44_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine44_0:
   \   000000   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000003   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   000006   E0           MOVX    A,@DPTR
   \   000007   22           RET
    213          
    214          
    215          /*************************************************************
    216              deal with the requst from other devices for REPENABLE, 
    217              and send a response
    218          *************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    219          void AT_AF_Cmd_REPENABLE_req(afIncomingMSGPacket_t *pkt  ){
   \                     AT_AF_Cmd_REPENABLE_req:
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 5
   \   000005   74FB         MOV     A,#-0x5
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine26 & 0xFFFF
    220            AT_AF_Cmd_REPENABLE_rsp_t rsp;
    221            
    222            AT_AF_Cmd_REPENABLE_req_t *req = (AT_AF_Cmd_REPENABLE_req_t*)pkt->cmd.Data;
   \                     ??CrossCallReturnLabel_99:
   \   00000D   12....       LCALL   ?Subroutine14 & 0xFFFF
    223            uint8 enable =req->enable;
   \                     ??CrossCallReturnLabel_18:
   \   000010   E0           MOVX    A,@DPTR
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   F0           MOVX    @DPTR,A
    224            uint8 ep     =req->ep;
   \   000018   E8           MOV     A,R0
   \   000019   2403         ADD     A,#0x3
   \   00001B   08           INC     R0
   \   00001C   08           INC     R0
   \   00001D   08           INC     R0
   \   00001E   E9           MOV     A,R1
   \   00001F   3400         ADDC    A,#0x0
   \   000021   F9           MOV     R1,A
   \   000022   8882         MOV     DPL,R0
   \   000024   8983         MOV     DPH,R1
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F5..         MOV     ?V0 + 2,A
    225            
    226            rsp.hdr.cmd=AT_AF_Cmd_rsp;
   \   000029   7401         MOV     A,#0x1
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   7480         MOV     A,#-0x80
   \   000030   F0           MOVX    @DPTR,A
    227            rsp.item.ep=req->ep;
   \   000031   8882         MOV     DPL,R0
   \   000033   8983         MOV     DPH,R1
   \   000035   E0           MOVX    A,@DPTR
   \   000036   C0E0         PUSH    A
   \   000038   7403         MOV     A,#0x3
   \   00003A   12....       LCALL   ?XSTACK_DISP0_8
   \   00003D   D0E0         POP     A
   \   00003F   12....       LCALL   ?Subroutine4 & 0xFFFF
    228            
    229            if(enable){
   \                     ??CrossCallReturnLabel_0:
   \   000042   A9..         MOV     R1,?V0 + 2
   \   000044   6022         JZ      ??AT_AF_Cmd_REPENABLE_req_0
    230              if( AT_af_get_ep(ep)){
   \   000046                ; Setup parameters for call to function AT_af_get_ep
   \   000046   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000049   6014         JZ      ??AT_AF_Cmd_REPENABLE_req_1
    231                if(AT_af_register_ep(ep)==afStatus_SUCCESS){ 
   \   00004B                ; Setup parameters for call to function AT_af_register_ep
   \   00004B   A9..         MOV     R1,?V0 + 2
   \   00004D   12....       LCALL   ??AT_af_register_ep?relay
   \   000050   E9           MOV     A,R1
   \   000051   7003         JNZ     ??CrossCallReturnLabel_8
    232                  //enable the end point in ZCL layer
    233                  AT_ZCL_EP_ENABLE( enable,ep);
   \   000053                ; Setup parameters for call to function AT_ZCL_EP_ENABLE
   \   000053   12....       LCALL   ?Subroutine8 & 0xFFFF
    234                  AT_NV_ZCL_saveEPStatus(AT_NV_ZCL_get_index_(ep),&enable);
    235                }
    236                rsp.item.status=AT_AF_enable;
   \                     ??CrossCallReturnLabel_8:
   \   000056   7404         MOV     A,#0x4
   \   000058   12....       LCALL   ?XSTACK_DISP0_8
   \   00005B   7401         MOV     A,#0x1
   \   00005D   801F         SJMP    ??AT_AF_Cmd_REPENABLE_req_2
    237              }else {
    238                rsp.item.status = AT_AF_UNKNOWNEP;
   \                     ??AT_AF_Cmd_REPENABLE_req_1:
   \   00005F   7404         MOV     A,#0x4
   \   000061   12....       LCALL   ?XSTACK_DISP0_8
   \   000064   7402         MOV     A,#0x2
   \   000066   8016         SJMP    ??AT_AF_Cmd_REPENABLE_req_2
    239              }
    240            }
    241            else{
    242          
    243              if(AT_af_get_ep(ep)){
   \                     ??AT_AF_Cmd_REPENABLE_req_0:
   \   000068                ; Setup parameters for call to function AT_af_get_ep
   \   000068   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   00006B   60F2         JZ      ??AT_AF_Cmd_REPENABLE_req_1
    244                if(AT_af_remove_ep(ep)==afStatus_SUCCESS){
   \   00006D                ; Setup parameters for call to function AT_af_remove_ep
   \   00006D   A9..         MOV     R1,?V0 + 2
   \   00006F   12....       LCALL   ??AT_af_remove_ep?relay
   \   000072   E9           MOV     A,R1
   \   000073   7003         JNZ     ??CrossCallReturnLabel_9
    245                  //disable the end point in ZCL layer
    246                  AT_ZCL_EP_ENABLE( enable,ep);
   \   000075                ; Setup parameters for call to function AT_ZCL_EP_ENABLE
   \   000075   12....       LCALL   ?Subroutine8 & 0xFFFF
    247                  //save to NV
    248                  AT_NV_ZCL_saveEPStatus(AT_NV_ZCL_get_index_(ep),&enable);
    249                }
    250                rsp.item.status = AT_AF_disable;
   \                     ??CrossCallReturnLabel_9:
   \   000078   7404         MOV     A,#0x4
   \   00007A   12....       LCALL   ?XSTACK_DISP0_8
   \   00007D   E4           CLR     A
   \                     ??AT_AF_Cmd_REPENABLE_req_2:
   \   00007E   F0           MOVX    @DPTR,A
    251              }else {
    252                rsp.item.status = AT_AF_UNKNOWNEP;
    253              }
    254            }
    255            
    256            AF_DataRequest( & (pkt->srcAddr), & AT_AF_epDesc,
    257                                 AT_AF_Cmd_REPENABLE_CLUSTERID,
    258                                 sizeof(AT_AF_Cmd_REPENABLE_rsp_t),
    259                                 (uint8*)&rsp,
    260                                 &AT_AF_TransID,
    261                                 AF_DISCV_ROUTE,
    262                                 AF_DEFAULT_RADIUS );
   \   00007F                ; Setup parameters for call to function AF_DataRequest
   \   00007F   75..1E       MOV     ?V0 + 2,#0x1e
   \   000082   78..         MOV     R0,#?V0 + 2
   \   000084   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000087   75....       MOV     ?V0 + 2,#AT_AF_TransID & 0xff
   \   00008A   75....       MOV     ?V0 + 3,#(AT_AF_TransID >> 8) & 0xff
   \   00008D   78..         MOV     R0,#?V0 + 2
   \   00008F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000092   7404         MOV     A,#0x4
   \   000094   12....       LCALL   ?XSTACK_DISP0_8
   \   000097   8582..       MOV     ?V0 + 2,DPL
   \   00009A   8583..       MOV     ?V0 + 3,DPH
   \   00009D   78..         MOV     R0,#?V0 + 2
   \   00009F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A2   75..04       MOV     ?V0 + 2,#0x4
   \   0000A5   75..00       MOV     ?V0 + 3,#0x0
   \   0000A8   78..         MOV     R0,#?V0 + 2
   \   0000AA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AD   75..01       MOV     ?V0 + 2,#0x1
   \   0000B0   78..         MOV     R0,#?V0 + 2
   \   0000B2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B5   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   0000B8   12....       LCALL   ?DEALLOC_XSTACK8
    263            
    264          }
   \   0000BB   02....       LJMP    ?Subroutine3 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   12....       LCALL   ??AT_af_get_ep?relay
   \   000003   8B..         MOV     ?V0 + 5,R3
   \   000005   EA           MOV     A,R2
   \   000006   45..         ORL     A,?V0 + 5
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   AA..         MOV     R2,?V0 + 2
   \   000002   85..82       MOV     DPL,?XSP + 0
   \   000005   85..83       MOV     DPH,?XSP + 1
   \   000008   E0           MOVX    A,@DPTR
   \   000009   F9           MOV     R1,A
   \   00000A   12....       LCALL   ??AT_ZCL_EP_ENABLE?relay
   \   00000D                ; Setup parameters for call to function AT_NV_ZCL_saveEPStatus
   \   00000D                ; Setup parameters for call to function AT_NV_ZCL_saveEPStatus
   \   00000D   85..82       MOV     DPL,?XSP + 0
   \   000010   85..83       MOV     DPH,?XSP + 1
   \   000013   AE82         MOV     R6,DPL
   \   000015   AF83         MOV     R7,DPH
   \   000017                ; Setup parameters for call to function AT_NV_ZCL_get_index_
   \   000017                ; Setup parameters for call to function AT_NV_ZCL_get_index_
   \   000017   A9..         MOV     R1,?V0 + 2
   \   000019   12....       LCALL   ??AT_NV_ZCL_get_index_?relay
   \   00001C   EE           MOV     A,R6
   \   00001D   FA           MOV     R2,A
   \   00001E   EF           MOV     A,R7
   \   00001F   FB           MOV     R3,A
   \   000020   12....       LCALL   ??AT_NV_ZCL_saveEPStatus?relay
   \   000023   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000003   8882         MOV     DPL,R0
   \   000005   8983         MOV     DPH,R1
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   3400         ADDC    A,#0x0
   \   000002                REQUIRE ??Subroutine42_0
   \   000002                ; // Fall through to label ??Subroutine42_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine42_0:
   \   000000   F583         MOV     DPH,A
   \   000002                REQUIRE ??Subroutine43_0
   \   000002                ; // Fall through to label ??Subroutine43_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine43_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function afFindEndPointDesc
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   8A..         MOV     ?V0 + 0,R2
   \   000002   8B..         MOV     ?V0 + 1,R3
   \   000004                REQUIRE ??Subroutine52_0
   \   000004                ; // Fall through to label ??Subroutine52_0
    265          
    266          /*************************************************************
    267          deal with the response from other devices
    268          *************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    269          void AT_AF_Cmd_REPENABLE_rsp(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_REPENABLE_rsp:
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine38 & 0xFFFF
    270            AT_AF_Cmd_REPENABLE_rsp_t *rsp = (AT_AF_Cmd_REPENABLE_rsp_t*)pkt->cmd.Data;
   \                     ??CrossCallReturnLabel_105:
   \   00000D   EF           MOV     A,R7
   \   00000E   12....       LCALL   ?Subroutine14 & 0xFFFF
    271            uint8 status =rsp->item.status;
   \                     ??CrossCallReturnLabel_19:
   \   000011   A3           INC     DPTR
   \   000012   E0           MOVX    A,@DPTR
   \   000013   F5..         MOV     ?V0 + 1,A
    272            uint8 ep     =rsp->item.ep;
   \   000015   8882         MOV     DPL,R0
   \   000017   8983         MOV     DPH,R1
   \   000019   A3           INC     DPTR
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 0,A
    273            char str[4];
    274            AT_RESP_START();
   \   00001E                ; Setup parameters for call to function AT_HalUARTWrite
   \   00001E   7C02         MOV     R4,#0x2
   \   000020   7D00         MOV     R5,#0x0
   \   000022   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000024   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000026   7900         MOV     R1,#0x0
   \   000028   12....       LCALL   ??AT_HalUARTWrite?relay
    275                 
    276            switch (status){
   \   00002B   E5..         MOV     A,?V0 + 1
   \   00002D   601A         JZ      ??AT_AF_Cmd_REPENABLE_rsp_0
   \   00002F   14           DEC     A
   \   000030   6005         JZ      ??AT_AF_Cmd_REPENABLE_rsp_1
   \   000032   14           DEC     A
   \   000033   604B         JZ      ??AT_AF_Cmd_REPENABLE_rsp_2
   \   000035   806B         SJMP    ??AT_AF_Cmd_REPENABLE_rsp_3
    277            case AT_AF_enable:
    278              AT_RESP("ENABLED:",sizeof("ENABLED:")-1);
   \                     ??AT_AF_Cmd_REPENABLE_rsp_1:
   \   000037                ; Setup parameters for call to function AT_HalUARTWrite
   \   000037   7C08         MOV     R4,#0x8
   \   000039   7D00         MOV     R5,#0x0
   \   00003B   7A..         MOV     R2,#`?<Constant "ENABLED:">` & 0xff
   \   00003D   7B..         MOV     R3,#(`?<Constant "ENABLED:">` >> 8) & 0xff
   \   00003F   12....       LCALL   ?Subroutine20 & 0xFFFF
    279              //print nodeID
    280              if(pkt->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
   \                     ??CrossCallReturnLabel_47:
   \   000042   7012         JNZ     ??AT_AF_Cmd_REPENABLE_rsp_4
    281                AT_Int16toChar(pkt->srcAddr.addr.shortAddr,str);
   \                     ??AT_AF_Cmd_REPENABLE_rsp_5:
   \   000044                ; Setup parameters for call to function AT_Int16toChar
   \   000044   12....       LCALL   ?Subroutine10 & 0xFFFF
    282                AT_RESP(str,4);
    283              }else AT_RESP("UNKNOWN",sizeof("UNKNOWN")-1);
   \                     ??CrossCallReturnLabel_12:
   \   000047   8015         SJMP    ??AT_AF_Cmd_REPENABLE_rsp_6
    284              AT_RESP(",",1); 
    285              //print end point
    286              AT_Int8toChar(ep,str);
    287              AT_RESP(str,2);
    288              break;
    289            case AT_AF_disable:
    290              AT_RESP("DISABLED:",sizeof("DISABLED:")-1);
   \                     ??AT_AF_Cmd_REPENABLE_rsp_0:
   \   000049                ; Setup parameters for call to function AT_HalUARTWrite
   \   000049   7C09         MOV     R4,#0x9
   \   00004B   7D00         MOV     R5,#0x0
   \   00004D   7A..         MOV     R2,#`?<Constant "DISABLED:">` & 0xff
   \   00004F   7B..         MOV     R3,#(`?<Constant "DISABLED:">` >> 8) & 0xff
   \   000051   12....       LCALL   ?Subroutine20 & 0xFFFF
    291              //print nodeID
    292              if(pkt->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
   \                     ??CrossCallReturnLabel_48:
   \   000054   60EE         JZ      ??AT_AF_Cmd_REPENABLE_rsp_5
   \                     ??AT_AF_Cmd_REPENABLE_rsp_4:
   \   000056                ; Setup parameters for call to function AT_HalUARTWrite
   \   000056   7C07         MOV     R4,#0x7
   \   000058   7D00         MOV     R5,#0x0
   \   00005A   7A..         MOV     R2,#`?<Constant "UNKNOWN">` & 0xff
   \   00005C   7B..         MOV     R3,#(`?<Constant "UNKNOWN">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_REPENABLE_rsp_6:
   \   00005E   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   000061                ; Setup parameters for call to function AT_Int8toChar
   \   000061   85..82       MOV     DPL,?XSP + 0
   \   000064   85..83       MOV     DPH,?XSP + 1
   \   000067   AA82         MOV     R2,DPL
   \   000069   AB83         MOV     R3,DPH
   \   00006B   A9..         MOV     R1,?V0 + 0
   \   00006D   12....       LCALL   ??AT_Int8toChar?relay
   \   000070                ; Setup parameters for call to function AT_HalUARTWrite
   \   000070   7C02         MOV     R4,#0x2
   \   000072   7D00         MOV     R5,#0x0
   \   000074   85..82       MOV     DPL,?XSP + 0
   \   000077   85..83       MOV     DPH,?XSP + 1
   \   00007A   AA82         MOV     R2,DPL
   \   00007C   AB83         MOV     R3,DPH
   \   00007E   801D         SJMP    ??AT_AF_Cmd_REPENABLE_rsp_7
    293                AT_Int16toChar(pkt->srcAddr.addr.shortAddr,str);
    294                AT_RESP(str,4);
    295              }else AT_RESP("UNKNOWN",sizeof("UNKNOWN")-1);
    296              AT_RESP(",",1); 
    297              //print end point
    298              AT_Int8toChar(ep,str);
    299              AT_RESP(str,2);
    300              break;
    301            case AT_AF_UNKNOWNEP:
    302              if(pkt->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
   \                     ??AT_AF_Cmd_REPENABLE_rsp_2:
   \   000080   12....       LCALL   ??Subroutine40_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   000083   7005         JNZ     ??AT_AF_Cmd_REPENABLE_rsp_8
    303                AT_Int16toChar(pkt->srcAddr.addr.shortAddr,str);
   \   000085                ; Setup parameters for call to function AT_Int16toChar
   \   000085   12....       LCALL   ?Subroutine10 & 0xFFFF
    304                AT_RESP(str,4);
    305              }else AT_RESP("UNKNOWN",sizeof("UNKNOWN")-1);
   \                     ??CrossCallReturnLabel_13:
   \   000088   8008         SJMP    ??AT_AF_Cmd_REPENABLE_rsp_9
   \                     ??AT_AF_Cmd_REPENABLE_rsp_8:
   \   00008A                ; Setup parameters for call to function AT_HalUARTWrite
   \   00008A   7C07         MOV     R4,#0x7
   \   00008C   7D00         MOV     R5,#0x0
   \   00008E   7A..         MOV     R2,#`?<Constant "UNKNOWN">` & 0xff
   \   000090   7B..         MOV     R3,#(`?<Constant "UNKNOWN">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_REPENABLE_rsp_9:
   \   000092   12....       LCALL   ?Subroutine25 & 0xFFFF
    306              AT_RESP(",",1); 
    307              //print end point
    308              AT_RESP("UNKNOWNEP",sizeof("UNKNOWNEP")-1);
   \                     ??CrossCallReturnLabel_34:
   \   000095                ; Setup parameters for call to function AT_HalUARTWrite
   \   000095   7C09         MOV     R4,#0x9
   \   000097   7D00         MOV     R5,#0x0
   \   000099   7A..         MOV     R2,#`?<Constant "UNKNOWNEP">` & 0xff
   \   00009B   7B..         MOV     R3,#(`?<Constant "UNKNOWNEP">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_REPENABLE_rsp_7:
   \   00009D   7900         MOV     R1,#0x0
   \   00009F   12....       LCALL   ??AT_HalUARTWrite?relay
    309              break;
    310            }
    311            AT_RESP_END();
   \                     ??AT_AF_Cmd_REPENABLE_rsp_3:
   \   0000A2                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000A2   7C02         MOV     R4,#0x2
   \   0000A4   7D00         MOV     R5,#0x0
   \   0000A6   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   0000A8   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   0000AA   7900         MOV     R1,#0x0
   \   0000AC   12....       LCALL   ??AT_HalUARTWrite?relay
    312          }
   \   0000AF   7404         MOV     A,#0x4
   \   0000B1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000B4   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   EA           MOV     A,R2
   \   000001   FE           MOV     R6,A
   \   000002   EB           MOV     A,R3
   \   000003   FF           MOV     R7,A
   \   000004   EE           MOV     A,R6
   \   000005                REQUIRE ??Subroutine39_0
   \   000005                ; // Fall through to label ??Subroutine39_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   7900         MOV     R1,#0x0
   \   000002   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000005                REQUIRE ??Subroutine40_0
   \   000005                ; // Fall through to label ??Subroutine40_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine40_0:
   \   000000   EE           MOV     A,R6
   \   000001   240E         ADD     A,#0xe
   \   000003   F582         MOV     DPL,A
   \   000005   EF           MOV     A,R7
   \   000006                REQUIRE ??Subroutine41_0
   \   000006                ; // Fall through to label ??Subroutine41_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   AC82         MOV     R4,DPL
   \   000008   AD83         MOV     R5,DPH
   \   00000A   8E82         MOV     DPL,R6
   \   00000C   8F83         MOV     DPH,R7
   \   00000E   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   AA82         MOV     R2,DPL
   \   000019   AB83         MOV     R3,DPH
   \   00001B   22           RET
    313          /**************************************************************
    314          deal with AT_AF_Cmd_REPENABLE_CLUSTERID messages.
    315          *************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    316          void AT_AF_Cmd_REPENABLE_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_REPENABLE_CB:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    317            AT_AF_Cmd_REPENABLE_req_t *req = (AT_AF_Cmd_REPENABLE_req_t *)pkt->cmd.Data;
    318            if(req->hdr.cmd==AT_AF_Cmd_req){
   \   000004   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000007   7005         JNZ     ??AT_AF_Cmd_REPENABLE_CB_0
    319              AT_AF_Cmd_REPENABLE_req(pkt);
   \   000009                ; Setup parameters for call to function AT_AF_Cmd_REPENABLE_req
   \   000009   12....       LCALL   ??AT_AF_Cmd_REPENABLE_req?relay
   \   00000C   8003         SJMP    ??AT_AF_Cmd_REPENABLE_CB_1
    320            }else{
    321              AT_AF_Cmd_REPENABLE_rsp(pkt);
   \                     ??AT_AF_Cmd_REPENABLE_CB_0:
   \   00000E                ; Setup parameters for call to function AT_AF_Cmd_REPENABLE_rsp
   \   00000E   12....       LCALL   ??AT_AF_Cmd_REPENABLE_rsp?relay
    322            }
    323          }
   \                     ??AT_AF_Cmd_REPENABLE_CB_1:
   \   000011   02....       LJMP    ?Subroutine0 & 0xFFFF
    324          
    325          
    326          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    327          void AT_AF_Cmd_HA_DISC_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_HA_DISC_CB:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    328            AT_AF_hdr *req = (AT_AF_hdr *)pkt->cmd.Data;
    329            if(req->cmd==AT_AF_Cmd_req){
   \   000004   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   000007   7005         JNZ     ??AT_AF_Cmd_HA_DISC_CB_0
    330              AT_AF_Cmd_HA_DISC_req(pkt);
   \   000009                ; Setup parameters for call to function AT_AF_Cmd_HA_DISC_req
   \   000009   12....       LCALL   ??AT_AF_Cmd_HA_DISC_req?relay
   \   00000C   8003         SJMP    ??AT_AF_Cmd_HA_DISC_CB_1
    331            }else{
    332              AT_AF_Cmd_HA_DISC_rsp(pkt);
   \                     ??AT_AF_Cmd_HA_DISC_CB_0:
   \   00000E                ; Setup parameters for call to function AT_AF_Cmd_HA_DISC_rsp
   \   00000E   12....       LCALL   ??AT_AF_Cmd_HA_DISC_rsp?relay
    333            }
    334          }
   \                     ??AT_AF_Cmd_HA_DISC_CB_1:
   \   000011   02....       LJMP    ?Subroutine0 & 0xFFFF
    335          
    336          /***************************************************************************
    337          deal with the HA discover request
    338          *****************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    339          void AT_AF_Cmd_HA_DISC_req(afIncomingMSGPacket_t *pkt  ){
   \                     AT_AF_Cmd_HA_DISC_req:
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 5
   \   000005   74FB         MOV     A,#-0x5
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine38 & 0xFFFF
    340            AT_AF_Cmd_HA_DISC_req_t *req = (AT_AF_Cmd_HA_DISC_req_t *)pkt->cmd.Data;
   \                     ??CrossCallReturnLabel_106:
   \   00000D   EF           MOV     A,R7
   \   00000E   12....       LCALL   ?Subroutine17 & 0xFFFF
    341            AT_AF_Cmd_HA_DISC_rsp_t *rsp;
    342            uint8 zcl_epCount =0;
    343            
    344            uint8 AT_CMD_EP_ARRAY[]=AT_CMD_EPs;
   \                     ??CrossCallReturnLabel_22:
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   AC82         MOV     R4,DPL
   \   000019   AD83         MOV     R5,DPH
   \   00001B   7583..       MOV     DPH,#(`?<Constant {7}>_2` >> 8) & 0xff
   \   00001E   7582..       MOV     DPL,#`?<Constant {7}>_2` & 0xff
   \   000021   7401         MOV     A,#0x1
   \   000023   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    345            uint8 i;
    346            uint8 buf_temp[sizeof(AT_AF_Cmd_HA_DISC_rsp_t)+sizeof(AT_CMD_EP_ARRAY)*sizeof(AT_AF_Cmd_HA_DISC_item_t)];
    347            rsp = (AT_AF_Cmd_HA_DISC_rsp_t *) buf_temp;
    348            
    349            for(i=0;i<sizeof(AT_CMD_EP_ARRAY);i++){
    350              epList_t* epList = AT_af_get_ep(AT_CMD_EP_ARRAY[i]);
    351              SimpleDescriptionFormat_t* simDesc=epList->epDesc->simpleDesc;
   \   000026                ; Setup parameters for call to function AT_af_get_ep
   \   000026   85..82       MOV     DPL,?XSP + 0
   \   000029   85..83       MOV     DPH,?XSP + 1
   \   00002C   E0           MOVX    A,@DPTR
   \   00002D   F9           MOV     R1,A
   \   00002E   12....       LCALL   ??AT_af_get_ep?relay
   \   000031   8A82         MOV     DPL,R2
   \   000033   8B83         MOV     DPH,R3
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   00003A   A3           INC     DPTR
   \   00003B   A3           INC     DPTR
   \   00003C   12....       LCALL   ??Subroutine43_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   00003F   88..         MOV     ?V0 + 2,R0
   \   000041   89..         MOV     ?V0 + 3,R1
    352              
    353              //find the CID
    354              bool found=false;
    355              uint8 j;
    356              for(j=0;j<simDesc->AppNumOutClusters;j++){
   \   000043   7A00         MOV     R2,#0x0
   \   000045   8001         SJMP    ??AT_AF_Cmd_HA_DISC_req_0
   \                     ??AT_AF_Cmd_HA_DISC_req_1:
   \   000047   0A           INC     R2
   \                     ??AT_AF_Cmd_HA_DISC_req_0:
   \   000048   85..82       MOV     DPL,?V0 + 2
   \   00004B   85..83       MOV     DPH,?V0 + 3
   \   00004E   A3           INC     DPTR
   \   00004F   A3           INC     DPTR
   \   000050   A3           INC     DPTR
   \   000051   A3           INC     DPTR
   \   000052   A3           INC     DPTR
   \   000053   A3           INC     DPTR
   \   000054   A3           INC     DPTR
   \   000055   A3           INC     DPTR
   \   000056   A3           INC     DPTR
   \   000057   E0           MOVX    A,@DPTR
   \   000058   F8           MOV     R0,A
   \   000059   EA           MOV     A,R2
   \   00005A   C3           CLR     C
   \   00005B   98           SUBB    A,R0
   \   00005C   5039         JNC     ??AT_AF_Cmd_HA_DISC_req_2
    357                if(simDesc->pAppOutClusterList[j]==req->CID) {
   \   00005E   EA           MOV     A,R2
   \   00005F   C3           CLR     C
   \   000060   33           RLC     A
   \   000061   F8           MOV     R0,A
   \   000062   E4           CLR     A
   \   000063   33           RLC     A
   \   000064   F9           MOV     R1,A
   \   000065   85..82       MOV     DPL,?V0 + 2
   \   000068   85..83       MOV     DPH,?V0 + 3
   \   00006B   A3           INC     DPTR
   \   00006C   A3           INC     DPTR
   \   00006D   A3           INC     DPTR
   \   00006E   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   000071   7003         JNZ     ??AT_AF_Cmd_HA_DISC_req_3
   \   000073   A3           INC     DPTR
   \   000074   E0           MOVX    A,@DPTR
   \   000075   69           XRL     A,R1
   \                     ??AT_AF_Cmd_HA_DISC_req_3:
   \   000076   70CF         JNZ     ??AT_AF_Cmd_HA_DISC_req_1
    358                  if(req->option==0){
   \   000078   85..82       MOV     DPL,?V0 + 0
   \   00007B   85..83       MOV     DPH,?V0 + 1
   \   00007E   A3           INC     DPTR
   \   00007F   A3           INC     DPTR
   \   000080   A3           INC     DPTR
   \   000081   A3           INC     DPTR
   \   000082   E0           MOVX    A,@DPTR
   \   000083   705D         JNZ     ??AT_AF_Cmd_HA_DISC_req_4
    359                    if(afFindEndPointDesc(AT_CMD_EP_ARRAY[i])) found=true;
   \   000085                ; Setup parameters for call to function afFindEndPointDesc
   \   000085   85..82       MOV     DPL,?XSP + 0
   \   000088   85..83       MOV     DPH,?XSP + 1
   \   00008B   E0           MOVX    A,@DPTR
   \   00008C   F9           MOV     R1,A
   \   00008D   12....       LCALL   ??afFindEndPointDesc?relay
   \   000090   8B..         MOV     ?V0 + 5,R3
   \   000092   EA           MOV     A,R2
   \   000093   45..         ORL     A,?V0 + 5
   \   000095   704B         JNZ     ??AT_AF_Cmd_HA_DISC_req_4
    360                  }else{
    361                    found=true;
    362                  }
    363                  break;
    364                }
    365              }
    366              if(!found){
    367                for(j=0;j<simDesc->AppNumInClusters;j++){
   \                     ??AT_AF_Cmd_HA_DISC_req_2:
   \   000097   7A00         MOV     R2,#0x0
   \   000099   8001         SJMP    ??AT_AF_Cmd_HA_DISC_req_5
   \                     ??AT_AF_Cmd_HA_DISC_req_6:
   \   00009B   0A           INC     R2
   \                     ??AT_AF_Cmd_HA_DISC_req_5:
   \   00009C   85..82       MOV     DPL,?V0 + 2
   \   00009F   85..83       MOV     DPH,?V0 + 3
   \   0000A2   A3           INC     DPTR
   \   0000A3   A3           INC     DPTR
   \   0000A4   A3           INC     DPTR
   \   0000A5   A3           INC     DPTR
   \   0000A6   A3           INC     DPTR
   \   0000A7   A3           INC     DPTR
   \   0000A8   E0           MOVX    A,@DPTR
   \   0000A9   F8           MOV     R0,A
   \   0000AA   EA           MOV     A,R2
   \   0000AB   C3           CLR     C
   \   0000AC   98           SUBB    A,R0
   \   0000AD   4003         JC      $+5
   \   0000AF   02....       LJMP    ??AT_AF_Cmd_HA_DISC_req_7 & 0xFFFF
    368                  if(simDesc->pAppInClusterList[j]==req->CID) {
   \   0000B2   EA           MOV     A,R2
   \   0000B3   C3           CLR     C
   \   0000B4   33           RLC     A
   \   0000B5   F8           MOV     R0,A
   \   0000B6   E4           CLR     A
   \   0000B7   33           RLC     A
   \   0000B8   F9           MOV     R1,A
   \   0000B9   85..82       MOV     DPL,?V0 + 2
   \   0000BC   85..83       MOV     DPH,?V0 + 3
   \   0000BF   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   0000C2   7003         JNZ     ??AT_AF_Cmd_HA_DISC_req_8
   \   0000C4   A3           INC     DPTR
   \   0000C5   E0           MOVX    A,@DPTR
   \   0000C6   69           XRL     A,R1
   \                     ??AT_AF_Cmd_HA_DISC_req_8:
   \   0000C7   70D2         JNZ     ??AT_AF_Cmd_HA_DISC_req_6
    369                    if(req->option==0){
   \   0000C9   85..82       MOV     DPL,?V0 + 0
   \   0000CC   85..83       MOV     DPH,?V0 + 1
   \   0000CF   A3           INC     DPTR
   \   0000D0   A3           INC     DPTR
   \   0000D1   A3           INC     DPTR
   \   0000D2   A3           INC     DPTR
   \   0000D3   E0           MOVX    A,@DPTR
   \   0000D4   700C         JNZ     ??AT_AF_Cmd_HA_DISC_req_4
    370                      if(afFindEndPointDesc(AT_CMD_EP_ARRAY[i])) found=true;
   \   0000D6                ; Setup parameters for call to function afFindEndPointDesc
   \   0000D6   85..82       MOV     DPL,?XSP + 0
   \   0000D9   85..83       MOV     DPH,?XSP + 1
   \   0000DC   E0           MOVX    A,@DPTR
   \   0000DD   12....       LCALL   ?Subroutine31 & 0xFFFF
    371                    }else{
    372                      found=true;
    373                    }
    374                    break;
    375                  }
    376                }
    377              }
   \                     ??CrossCallReturnLabel_41:
   \   0000E0   6079         JZ      ??AT_AF_Cmd_HA_DISC_req_7
    378              
    379              //if found the CID
    380              if(found){
    381                rsp->item[zcl_epCount].ep = AT_CMD_EP_ARRAY[i];
   \                     ??AT_AF_Cmd_HA_DISC_req_4:
   \   0000E2   85..82       MOV     DPL,?XSP + 0
   \   0000E5   85..83       MOV     DPH,?XSP + 1
   \   0000E8   E0           MOVX    A,@DPTR
   \   0000E9   C0E0         PUSH    A
   \   0000EB   7403         MOV     A,#0x3
   \   0000ED   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F0   D0E0         POP     A
   \   0000F2   12....       LCALL   ?Subroutine4 & 0xFFFF
    382                rsp->item[zcl_epCount].status = afFindEndPointDesc(AT_CMD_EP_ARRAY[i]) ? AT_AF_enable : AT_AF_disable;
   \                     ??CrossCallReturnLabel_1:
   \   0000F5   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   0000F8   6004         JZ      ??AT_AF_Cmd_HA_DISC_req_9
   \   0000FA   7401         MOV     A,#0x1
   \   0000FC   8001         SJMP    ??AT_AF_Cmd_HA_DISC_req_10
   \                     ??AT_AF_Cmd_HA_DISC_req_9:
   \   0000FE   E4           CLR     A
   \                     ??AT_AF_Cmd_HA_DISC_req_10:
   \   0000FF   C0E0         PUSH    A
   \   000101   7404         MOV     A,#0x4
   \   000103   12....       LCALL   ?XSTACK_DISP0_8
   \   000106   D0E0         POP     A
   \   000108   F0           MOVX    @DPTR,A
    383                zcl_epCount++;
    384              }
    385            }
    386            if(zcl_epCount!=0){
    387              rsp->hdr.numItem=zcl_epCount;
   \   000109   7402         MOV     A,#0x2
   \   00010B   12....       LCALL   ?XSTACK_DISP0_8
   \   00010E   7401         MOV     A,#0x1
   \   000110   F0           MOVX    @DPTR,A
    388              rsp->hdr.cmd=AT_AF_Cmd_rsp;
   \   000111   12....       LCALL   ?XSTACK_DISP0_8
   \   000114   7480         MOV     A,#-0x80
   \   000116   12....       LCALL   ?Subroutine5 & 0xFFFF
    389              AF_DataRequest( & (pkt->srcAddr), & AT_AF_epDesc,
    390                                   AT_AF_Cmd_HA_DISC_CLUSTERID,
    391                                   sizeof(AT_AF_Cmd_HA_DISC_rsp_t)+zcl_epCount*sizeof(AT_AF_Cmd_HA_DISC_item_t),
    392                                   (uint8*)rsp,
    393                                   &AT_AF_TransID,
    394                                   AF_DISCV_ROUTE,
    395                                   AF_DEFAULT_RADIUS );
    396                
    397            }
   \                     ??CrossCallReturnLabel_3:
   \   000119   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00011C   75....       MOV     ?V0 + 0,#AT_AF_TransID & 0xff
   \   00011F   75....       MOV     ?V0 + 1,#(AT_AF_TransID >> 8) & 0xff
   \   000122   78..         MOV     R0,#?V0 + 0
   \   000124   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000127   7404         MOV     A,#0x4
   \   000129   12....       LCALL   ?XSTACK_DISP0_8
   \   00012C   8582..       MOV     ?V0 + 0,DPL
   \   00012F   8583..       MOV     ?V0 + 1,DPH
   \   000132   78..         MOV     R0,#?V0 + 0
   \   000134   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000137   75..04       MOV     ?V0 + 0,#0x4
   \   00013A   75..00       MOV     ?V0 + 1,#0x0
   \   00013D   78..         MOV     R0,#?V0 + 0
   \   00013F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000142   75..02       MOV     ?V0 + 0,#0x2
   \   000145   78..         MOV     R0,#?V0 + 0
   \   000147   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00014A   7920         MOV     R1,#0x20
   \   00014C   7C..         MOV     R4,#AT_AF_epDesc & 0xff
   \   00014E   7D..         MOV     R5,#(AT_AF_epDesc >> 8) & 0xff
   \   000150   EE           MOV     A,R6
   \   000151   2406         ADD     A,#0x6
   \   000153   FA           MOV     R2,A
   \   000154   EF           MOV     A,R7
   \   000155   12....       LCALL   ??Subroutine53_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   000158   12....       LCALL   ?DEALLOC_XSTACK8
    398          }
   \                     ??AT_AF_Cmd_HA_DISC_req_7:
   \   00015B                REQUIRE ?Subroutine3
   \   00015B                ; // Fall through to label ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   F9           MOV     R1,A
   \   000001   12....       LCALL   ??afFindEndPointDesc?relay
   \   000004   8B..         MOV     ?V0 + 1,R3
   \   000006   EA           MOV     A,R2
   \   000007   45..         ORL     A,?V0 + 1
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   28           ADD     A,R0
   \   000009   FB           MOV     R3,A
   \   00000A   A3           INC     DPTR
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   39           ADDC    A,R1
   \   00000D   8B82         MOV     DPL,R3
   \   00000F   12....       LCALL   ??Subroutine42_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   000012   85..82       MOV     DPL,?V0 + 0
   \   000015   85..83       MOV     DPH,?V0 + 1
   \   000018   A3           INC     DPTR
   \   000019   A3           INC     DPTR
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   68           XRL     A,R0
   \   00001C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001   75..1E       MOV     ?V0 + 0,#0x1e
   \   000004   78..         MOV     R0,#?V0 + 0
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000003   88..         MOV     ?V0 + 0,R0
   \   000005   89..         MOV     ?V0 + 1,R1
   \   000007   22           RET
    399          /***************************************************************************************
    400          +DISCOVER C Discover HA Devices On The HAN
    401          Prompt: 
    402              DEV:<NodeID>,<EndPoint> ,<enable/disable>
    403              Carry out the ZigBee Service Discovery to 
    404              find ZigBee HA devices that support the given match criteria.
    405          
    406          ****************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    407          void AT_AF_Cmd_HA_DISC_rsp(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_HA_DISC_rsp:
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    408            AT_AF_Cmd_HA_DISC_rsp_t *rsp = (AT_AF_Cmd_HA_DISC_rsp_t *)pkt->cmd.Data;
   \   000009   12....       LCALL   ?Subroutine12 & 0xFFFF
    409            AT_RESP_START();
   \                     ??CrossCallReturnLabel_67:
   \   00000C                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000C   7C02         MOV     R4,#0x2
   \   00000E   7D00         MOV     R5,#0x0
   \   000010   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000012   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000014   7900         MOV     R1,#0x0
   \   000016   12....       LCALL   ??AT_HalUARTWrite?relay
    410            uint8 i;
    411            for(i=0;i<rsp->hdr.numItem;i++){
   \   000019   75..00       MOV     ?V0 + 4,#0x0
   \   00001C   8009         SJMP    ??AT_AF_Cmd_HA_DISC_rsp_0
    412              if(pkt->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
    413                printf("DEV:%04X,",pkt->srcAddr.addr.shortAddr);
    414              }else {
    415                printf("UNKNOWN");
    416              }
    417              printf("%02X,",rsp->item[i].ep);       
    418              if(rsp->item[i].status==AT_AF_enable){
    419                printf("ENABLED");
    420              }
    421              else printf("DISABLED");
   \                     ??AT_AF_Cmd_HA_DISC_rsp_1:
   \   00001E                ; Setup parameters for call to function printf
   \   00001E   7A..         MOV     R2,#`?<Constant "DISABLED">` & 0xff
   \   000020   7B..         MOV     R3,#(`?<Constant "DISABLED">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_HA_DISC_rsp_2:
   \   000022   12....       LCALL   ?Subroutine29 & 0xFFFF
    422              AT_NEXT_LINE();
   \                     ??CrossCallReturnLabel_39:
   \   000025   05..         INC     ?V0 + 4
   \                     ??AT_AF_Cmd_HA_DISC_rsp_0:
   \   000027   85..82       MOV     DPL,?V0 + 0
   \   00002A   85..83       MOV     DPH,?V0 + 1
   \   00002D   A3           INC     DPTR
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   F8           MOV     R0,A
   \   000030   E5..         MOV     A,?V0 + 4
   \   000032   C3           CLR     C
   \   000033   98           SUBB    A,R0
   \   000034   5068         JNC     ??AT_AF_Cmd_HA_DISC_rsp_3
   \   000036   12....       LCALL   ??Subroutine40_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000039   7019         JNZ     ??AT_AF_Cmd_HA_DISC_rsp_4
   \   00003B                ; Setup parameters for call to function printf
   \   00003B   8E82         MOV     DPL,R6
   \   00003D   8F83         MOV     DPH,R7
   \   00003F   A3           INC     DPTR
   \   000040   A3           INC     DPTR
   \   000041   A3           INC     DPTR
   \   000042   A3           INC     DPTR
   \   000043   A3           INC     DPTR
   \   000044   A3           INC     DPTR
   \   000045   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000048   7A..         MOV     R2,#`?<Constant "DEV:%04X,">` & 0xff
   \   00004A   7B..         MOV     R3,#(`?<Constant "DEV:%04X,">` >> 8) & 0xff
   \   00004C   12....       LCALL   ??Subroutine49_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   00004F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000052   8007         SJMP    ??AT_AF_Cmd_HA_DISC_rsp_5
   \                     ??AT_AF_Cmd_HA_DISC_rsp_4:
   \   000054                ; Setup parameters for call to function printf
   \   000054   7A..         MOV     R2,#`?<Constant "UNKNOWN">` & 0xff
   \   000056   7B..         MOV     R3,#(`?<Constant "UNKNOWN">` >> 8) & 0xff
   \   000058   12....       LCALL   ??printf?relay
   \                     ??AT_AF_Cmd_HA_DISC_rsp_5:
   \   00005B   E5..         MOV     A,?V0 + 4
   \   00005D   C3           CLR     C
   \   00005E   33           RLC     A
   \   00005F   F8           MOV     R0,A
   \   000060   E4           CLR     A
   \   000061   33           RLC     A
   \   000062   F9           MOV     R1,A
   \   000063   E5..         MOV     A,?V0 + 0
   \   000065   28           ADD     A,R0
   \   000066   F8           MOV     R0,A
   \   000067   E5..         MOV     A,?V0 + 1
   \   000069   39           ADDC    A,R1
   \   00006A   F9           MOV     R1,A
   \   00006B   88..         MOV     ?V0 + 2,R0
   \   00006D   89..         MOV     ?V0 + 3,R1
   \   00006F                ; Setup parameters for call to function printf
   \   00006F   8882         MOV     DPL,R0
   \   000071   F583         MOV     DPH,A
   \   000073   A3           INC     DPTR
   \   000074   A3           INC     DPTR
   \   000075   E0           MOVX    A,@DPTR
   \   000076   F5..         MOV     ?V0 + 6,A
   \   000078   75..00       MOV     ?V0 + 7,#0x0
   \   00007B   78..         MOV     R0,#?V0 + 6
   \   00007D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000080   7A..         MOV     R2,#`?<Constant "%02X,">` & 0xff
   \   000082   7B..         MOV     R3,#(`?<Constant "%02X,">` >> 8) & 0xff
   \   000084   12....       LCALL   ??Subroutine49_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   000087   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008A   85..82       MOV     DPL,?V0 + 2
   \   00008D   85..83       MOV     DPH,?V0 + 3
   \   000090   A3           INC     DPTR
   \   000091   A3           INC     DPTR
   \   000092   A3           INC     DPTR
   \   000093   E0           MOVX    A,@DPTR
   \   000094   6401         XRL     A,#0x1
   \   000096   7086         JNZ     ??AT_AF_Cmd_HA_DISC_rsp_1
   \   000098                ; Setup parameters for call to function printf
   \   000098   7A..         MOV     R2,#`?<Constant "ENABLED">` & 0xff
   \   00009A   7B..         MOV     R3,#(`?<Constant "ENABLED">` >> 8) & 0xff
   \   00009C   8084         SJMP    ??AT_AF_Cmd_HA_DISC_rsp_2
    423            }
    424            AT_RESP_START();
   \                     ??AT_AF_Cmd_HA_DISC_rsp_3:
   \   00009E                ; Setup parameters for call to function AT_HalUARTWrite
   \   00009E   7C02         MOV     R4,#0x2
   \   0000A0   7D00         MOV     R5,#0x0
   \   0000A2   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   0000A4   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   0000A6   7900         MOV     R1,#0x0
   \   0000A8   12....       LCALL   ??AT_HalUARTWrite?relay
    425          }
   \   0000AB   7F08         MOV     R7,#0x8
   \   0000AD   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   EE           MOV     A,R6
   \   000001   2422         ADD     A,#0x22
   \   000003   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   000006                REQUIRE ??Subroutine45_0
   \   000006                ; // Fall through to label ??Subroutine45_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   F582         MOV     DPL,A
   \   000002   EF           MOV     A,R7
   \   000003                REQUIRE ??Subroutine46_0
   \   000003                ; // Fall through to label ??Subroutine46_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine49_0:
   \   000000   12....       LCALL   ??printf?relay
   \   000003   7402         MOV     A,#0x2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   12....       LCALL   ??printf?relay
   \   000003                ; Setup parameters for call to function AT_HalUARTWrite
   \   000003                ; Setup parameters for call to function AT_HalUARTWrite
   \   000003   7C02         MOV     R4,#0x2
   \   000005   7D00         MOV     R5,#0x0
   \   000007   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   000009   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   00000B   7900         MOV     R1,#0x0
   \   00000D   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000010   22           RET
    426          /********************************************************
    427          call back funtin of the CLUSDISC command
    428          
    429          DISCCLUS:<Node ID>,<EndPoint>,<Status>
    430          Prompt (will show, if <Status> is 00) 
    431                      SERVER:<ClusterID>,<ClusterID>,<ClusterID> 
    432                      CLIENT:<ClusterID>,<ClusterID>,< ClusterI
    433          *************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    434          void AT_AF_Cmd_HA_CIDDISC_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_HA_CIDDISC_CB:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    435            AT_AF_hdr *req = (AT_AF_hdr *)pkt->cmd.Data;
    436            if(req->cmd==AT_AF_Cmd_req){
   \   000004   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   000007   7005         JNZ     ??AT_AF_Cmd_HA_CIDDISC_CB_0
    437              AT_AF_Cmd_HA_CIDDISC_req(pkt);
   \   000009                ; Setup parameters for call to function AT_AF_Cmd_HA_CIDDISC_req
   \   000009   12....       LCALL   ??AT_AF_Cmd_HA_CIDDISC_req?relay
   \   00000C   8003         SJMP    ??AT_AF_Cmd_HA_CIDDISC_CB_1
    438            }else{
    439              AT_AF_Cmd_HA_CIDDISC_rsp(pkt);
   \                     ??AT_AF_Cmd_HA_CIDDISC_CB_0:
   \   00000E                ; Setup parameters for call to function AT_AF_Cmd_HA_CIDDISC_rsp
   \   00000E   12....       LCALL   ??AT_AF_Cmd_HA_CIDDISC_rsp?relay
    440            }
    441          }
   \                     ??AT_AF_Cmd_HA_CIDDISC_CB_1:
   \   000011                REQUIRE ?Subroutine0
   \   000011                ; // Fall through to label ?Subroutine0
    442          /********************************************************
    443          process request funtin of the CLUSDISC command
    444          *************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    445          void AT_AF_Cmd_HA_CIDDISC_req(afIncomingMSGPacket_t *pkt  ){
   \                     AT_AF_Cmd_HA_CIDDISC_req:
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 7
   \   000005   74F9         MOV     A,#-0x7
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 10,R2
   \   00000C   8B..         MOV     ?V0 + 11,R3
    446              AT_AF_hdr *req = (AT_AF_hdr *)pkt->cmd.Data;
   \   00000E   12....       LCALL   ??Subroutine52_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   000011   12....       LCALL   ??Subroutine46_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   000014   12....       LCALL   ??Subroutine47_0 & 0xFFFF
    447              AT_AF_Cmd_HA_CIDDISC_rsp_t *rsp;
    448              uint8 status=0;
    449              uint16 rspLen=0;
    450              if(AT_is_CMD_EPs(req->ep)){
   \                     ??CrossCallReturnLabel_69:
   \   000017                ; Setup parameters for call to function AT_is_CMD_EPs
   \   000017   85..82       MOV     DPL,?V0 + 4
   \   00001A   F583         MOV     DPH,A
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   F9           MOV     R1,A
   \   00001F   12....       LCALL   ??AT_is_CMD_EPs?relay
   \   000022   E9           MOV     A,R1
   \   000023   7003         JNZ     $+5
   \   000025   02....       LJMP    ??AT_AF_Cmd_HA_CIDDISC_req_0 & 0xFFFF
    451                SimpleDescriptionFormat_t *pDesc;
    452                if(SUCCESS == (status=afFindSimpleDesc(&pDesc, req->ep))){
   \   000028                ; Setup parameters for call to function afFindSimpleDesc
   \   000028   85..82       MOV     DPL,?V0 + 4
   \   00002B   85..83       MOV     DPH,?V0 + 5
   \   00002E   A3           INC     DPTR
   \   00002F   E0           MOVX    A,@DPTR
   \   000030   F9           MOV     R1,A
   \   000031   85..82       MOV     DPL,?XSP + 0
   \   000034   85..83       MOV     DPH,?XSP + 1
   \   000037   AA82         MOV     R2,DPL
   \   000039   AB83         MOV     R3,DPH
   \   00003B   12....       LCALL   ??afFindSimpleDesc?relay
   \   00003E   E9           MOV     A,R1
   \   00003F   F8           MOV     R0,A
   \   000040   88..         MOV     ?V0 + 2,R0
   \   000042   6003         JZ      $+5
   \   000044   02....       LJMP    ??AT_AF_Cmd_HA_CIDDISC_req_1 & 0xFFFF
    453                  rspLen = (pDesc->AppNumInClusters+pDesc->AppNumInClusters)*2 +sizeof(AT_AF_Cmd_HA_CIDDISC_rsp_t);
   \   000047   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   00004A   F5..         MOV     ?V0 + 0,A
   \   00004C   75..00       MOV     ?V0 + 1,#0x0
   \   00004F   7402         MOV     A,#0x2
   \   000051   78..         MOV     R0,#?V0 + 0
   \   000053   12....       LCALL   ?S_SHL
   \   000056   E5..         MOV     A,?V0 + 0
   \   000058   2405         ADD     A,#0x5
   \   00005A   F5..         MOV     ?V0 + 0,A
   \   00005C   E5..         MOV     A,?V0 + 1
   \   00005E   3400         ADDC    A,#0x0
   \   000060   F5..         MOV     ?V0 + 1,A
    454                  rsp = osal_mem_alloc(rspLen);
   \   000062                ; Setup parameters for call to function osal_mem_alloc
   \   000062   AA..         MOV     R2,?V0 + 0
   \   000064   FB           MOV     R3,A
   \   000065   12....       LCALL   ??osal_mem_alloc?relay
   \   000068   8A..         MOV     ?V0 + 6,R2
   \   00006A   8B..         MOV     ?V0 + 7,R3
   \   00006C   AE..         MOV     R6,?V0 + 6
   \   00006E   AF..         MOV     R7,?V0 + 7
    455                  if(rsp) {
   \   000070   EE           MOV     A,R6
   \   000071   4F           ORL     A,R7
   \   000072   7003         JNZ     $+5
   \   000074   02....       LJMP    ??AT_AF_Cmd_HA_CIDDISC_req_2 & 0xFFFF
    456                    rsp->status = SUCCESS;
   \   000077   8E82         MOV     DPL,R6
   \   000079   8F83         MOV     DPH,R7
   \   00007B   A3           INC     DPTR
   \   00007C   A3           INC     DPTR
   \   00007D   E4           CLR     A
   \   00007E   F0           MOVX    @DPTR,A
    457                    rsp->serverNum = pDesc->AppNumInClusters;
   \   00007F   EE           MOV     A,R6
   \   000080   2403         ADD     A,#0x3
   \   000082   F5..         MOV     ?V0 + 8,A
   \   000084   EF           MOV     A,R7
   \   000085   3400         ADDC    A,#0x0
   \   000087   F5..         MOV     ?V0 + 9,A
   \   000089   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   00008C   85..82       MOV     DPL,?V0 + 8
   \   00008F   85..83       MOV     DPH,?V0 + 9
   \   000092   F0           MOVX    @DPTR,A
    458                    rsp->clientNum = pDesc->AppNumOutClusters;
   \   000093   EE           MOV     A,R6
   \   000094   2404         ADD     A,#0x4
   \   000096   F5..         MOV     ?V0 + 12,A
   \   000098   EF           MOV     A,R7
   \   000099   3400         ADDC    A,#0x0
   \   00009B   F5..         MOV     ?V0 + 13,A
   \   00009D   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   0000A0   E0           MOVX    A,@DPTR
   \   0000A1   85..82       MOV     DPL,?V0 + 12
   \   0000A4   85..83       MOV     DPH,?V0 + 13
   \   0000A7   12....       LCALL   ?Subroutine6 & 0xFFFF
    459                    rsp->hdr.ep = req->ep;
   \                     ??CrossCallReturnLabel_6:
   \   0000AA   8E82         MOV     DPL,R6
   \   0000AC   8F83         MOV     DPH,R7
   \   0000AE   A3           INC     DPTR
   \   0000AF   F0           MOVX    @DPTR,A
    460                    rsp->hdr.cmd = AT_AF_Cmd_rsp;
   \   0000B0   8E82         MOV     DPL,R6
   \   0000B2   8F83         MOV     DPH,R7
   \   0000B4   7480         MOV     A,#-0x80
   \   0000B6   12....       LCALL   ?Subroutine4 & 0xFFFF
    461                    osal_memcpy(rsp->list,pDesc->pAppInClusterList,rsp->serverNum*2);
   \                     ??CrossCallReturnLabel_2:
   \   0000B9   12....       LCALL   ??Subroutine48_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   0000BC   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   0000BF   75..00       MOV     ?V0 + 6,#0x0
   \   0000C2   78..         MOV     R0,#?V0 + 4
   \   0000C4   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000C7   85..82       MOV     DPL,?V0 + 8
   \   0000CA   85..83       MOV     DPH,?V0 + 9
   \   0000CD   E0           MOVX    A,@DPTR
   \   0000CE   C3           CLR     C
   \   0000CF   33           RLC     A
   \   0000D0   FC           MOV     R4,A
   \   0000D1   E4           CLR     A
   \   0000D2   33           RLC     A
   \   0000D3   FD           MOV     R5,A
   \   0000D4   EE           MOV     A,R6
   \   0000D5   2405         ADD     A,#0x5
   \   0000D7   FA           MOV     R2,A
   \   0000D8   EF           MOV     A,R7
   \   0000D9   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   0000DC   12....       LCALL   ?DEALLOC_XSTACK8
    462                    osal_memcpy(rsp->list+rsp->serverNum,pDesc->pAppOutClusterList,rsp->clientNum*2);
   \   0000DF                ; Setup parameters for call to function osal_memcpy
   \   0000DF   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   0000E2   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   0000E5   78..         MOV     R0,#?V0 + 4
   \   0000E7   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000EA   85..82       MOV     DPL,?V0 + 12
   \   0000ED   85..83       MOV     DPH,?V0 + 13
   \   0000F0   E0           MOVX    A,@DPTR
   \   0000F1   C3           CLR     C
   \   0000F2   33           RLC     A
   \   0000F3   FC           MOV     R4,A
   \   0000F4   E4           CLR     A
   \   0000F5   33           RLC     A
   \   0000F6   FD           MOV     R5,A
   \   0000F7   85..82       MOV     DPL,?V0 + 8
   \   0000FA   85..83       MOV     DPH,?V0 + 9
   \   0000FD   E0           MOVX    A,@DPTR
   \   0000FE   33           RLC     A
   \   0000FF   F8           MOV     R0,A
   \   000100   E4           CLR     A
   \   000101   33           RLC     A
   \   000102   F9           MOV     R1,A
   \   000103   EE           MOV     A,R6
   \   000104   28           ADD     A,R0
   \   000105   F8           MOV     R0,A
   \   000106   EF           MOV     A,R7
   \   000107   39           ADDC    A,R1
   \   000108   F9           MOV     R1,A
   \   000109   E8           MOV     A,R0
   \   00010A   2405         ADD     A,#0x5
   \   00010C   FA           MOV     R2,A
   \   00010D   E9           MOV     A,R1
   \   00010E   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   000111   12....       LCALL   ?DEALLOC_XSTACK8
    463                    //sent the found data
    464                    AF_DataRequest( & (pkt->srcAddr), & AT_AF_epDesc,
    465                                         AT_AF_Cmd_HA_CIDDISC_CLUSTERID,
    466                                         rspLen,
    467                                         (uint8*)rsp,
    468                                         &AT_AF_TransID,
    469                                         AF_DISCV_ROUTE,
    470                                         AF_DEFAULT_RADIUS );
   \   000114                ; Setup parameters for call to function AF_DataRequest
   \   000114   75..1E       MOV     ?V0 + 3,#0x1e
   \   000117   78..         MOV     R0,#?V0 + 3
   \   000119   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00011C   75....       MOV     ?V0 + 4,#AT_AF_TransID & 0xff
   \   00011F   75....       MOV     ?V0 + 5,#(AT_AF_TransID >> 8) & 0xff
   \   000122   78..         MOV     R0,#?V0 + 4
   \   000124   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000127   8E..         MOV     ?V0 + 4,R6
   \   000129   8F..         MOV     ?V0 + 5,R7
   \   00012B   78..         MOV     R0,#?V0 + 4
   \   00012D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000130   78..         MOV     R0,#?V0 + 0
   \   000132   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000135   75..03       MOV     ?V0 + 0,#0x3
   \   000138   75..00       MOV     ?V0 + 1,#0x0
   \   00013B   78..         MOV     R0,#?V0 + 0
   \   00013D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000140   7920         MOV     R1,#0x20
   \   000142   7C..         MOV     R4,#AT_AF_epDesc & 0xff
   \   000144   7D..         MOV     R5,#(AT_AF_epDesc >> 8) & 0xff
   \   000146   E5..         MOV     A,?V0 + 10
   \   000148   2406         ADD     A,#0x6
   \   00014A   FA           MOV     R2,A
   \   00014B   E5..         MOV     A,?V0 + 11
   \   00014D   12....       LCALL   ??Subroutine53_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_114:
   \   000150   12....       LCALL   ?DEALLOC_XSTACK8
    471                    osal_mem_free(rsp);
   \   000153                ; Setup parameters for call to function osal_mem_free
   \   000153   EE           MOV     A,R6
   \   000154   FA           MOV     R2,A
   \   000155   EF           MOV     A,R7
   \   000156   FB           MOV     R3,A
   \   000157   12....       LCALL   ??osal_mem_free?relay
    472                    return;     //important
   \   00015A   806A         SJMP    ??AT_AF_Cmd_HA_CIDDISC_req_3
    473                  }else{
    474                    status = AT_AF_MEM_ERROR;
   \                     ??AT_AF_Cmd_HA_CIDDISC_req_2:
   \   00015C   75..41       MOV     ?V0 + 2,#0x41
   \   00015F   8003         SJMP    ??AT_AF_Cmd_HA_CIDDISC_req_1
    475                  }
    476                }else {
    477                  //status = status; //have been done
    478                }
    479              }else{
    480                status = AT_AF_NOTFOUND_ERROR;
   \                     ??AT_AF_Cmd_HA_CIDDISC_req_0:
   \   000161   75..40       MOV     ?V0 + 2,#0x40
    481              }
    482              
    483              AT_AF_Cmd_HA_CIDDISC_rsp_t dftRsp;
    484              dftRsp.hdr.cmd = AT_AF_Cmd_rsp;
   \                     ??AT_AF_Cmd_HA_CIDDISC_req_1:
   \   000164   7402         MOV     A,#0x2
   \   000166   12....       LCALL   ?XSTACK_DISP0_8
   \   000169   7480         MOV     A,#-0x80
   \   00016B   12....       LCALL   ?Subroutine6 & 0xFFFF
    485              dftRsp.hdr.ep = req->ep;
   \                     ??CrossCallReturnLabel_7:
   \   00016E   C0E0         PUSH    A
   \   000170   7403         MOV     A,#0x3
   \   000172   12....       LCALL   ?XSTACK_DISP0_8
   \   000175   D0E0         POP     A
   \   000177   F0           MOVX    @DPTR,A
    486              dftRsp.status = status;
   \   000178   7404         MOV     A,#0x4
   \   00017A   12....       LCALL   ?XSTACK_DISP0_8
   \   00017D   E5..         MOV     A,?V0 + 2
   \   00017F   12....       LCALL   ?Subroutine5 & 0xFFFF
    487              rsp = &dftRsp;
    488              AF_DataRequest( & (pkt->srcAddr), & AT_AF_epDesc,
    489                                   AT_AF_Cmd_HA_CIDDISC_CLUSTERID,
    490                                   sizeof(AT_AF_Cmd_HA_CIDDISC_rsp_t),
    491                                   (uint8*)rsp,
    492                                   &AT_AF_TransID,
    493                                   AF_DISCV_ROUTE,
    494                                   AF_DEFAULT_RADIUS );
   \                     ??CrossCallReturnLabel_4:
   \   000182   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000185   75....       MOV     ?V0 + 0,#AT_AF_TransID & 0xff
   \   000188   75....       MOV     ?V0 + 1,#(AT_AF_TransID >> 8) & 0xff
   \   00018B   78..         MOV     R0,#?V0 + 0
   \   00018D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000190   7405         MOV     A,#0x5
   \   000192   12....       LCALL   ?XSTACK_DISP0_8
   \   000195   8582..       MOV     ?V0 + 0,DPL
   \   000198   8583..       MOV     ?V0 + 1,DPH
   \   00019B   78..         MOV     R0,#?V0 + 0
   \   00019D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001A0   75..05       MOV     ?V0 + 0,#0x5
   \   0001A3   75..00       MOV     ?V0 + 1,#0x0
   \   0001A6   78..         MOV     R0,#?V0 + 0
   \   0001A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001AB   75..03       MOV     ?V0 + 0,#0x3
   \   0001AE   78..         MOV     R0,#?V0 + 0
   \   0001B0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001B3   7920         MOV     R1,#0x20
   \   0001B5   7C..         MOV     R4,#AT_AF_epDesc & 0xff
   \   0001B7   7D..         MOV     R5,#(AT_AF_epDesc >> 8) & 0xff
   \   0001B9   E5..         MOV     A,?V0 + 10
   \   0001BB   2406         ADD     A,#0x6
   \   0001BD   FA           MOV     R2,A
   \   0001BE   E5..         MOV     A,?V0 + 11
   \   0001C0   12....       LCALL   ??Subroutine53_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_115:
   \   0001C3   12....       LCALL   ?DEALLOC_XSTACK8
    495          }
   \                     ??AT_AF_Cmd_HA_CIDDISC_req_3:
   \   0001C6   7407         MOV     A,#0x7
   \   0001C8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001CB   7F0E         MOV     R7,#0xe
   \   0001CD   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   3400         ADDC    A,#0x0
   \   000002   FB           MOV     R3,A
   \   000003   12....       LCALL   ??osal_memcpy?relay
   \   000006   7403         MOV     A,#0x3
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine47_0
   \   000001                ; // Fall through to label ??Subroutine47_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine47_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 4,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 5,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   E0           MOVX    A,@DPTR
   \   000007                REQUIRE ??Subroutine48_0
   \   000007                ; // Fall through to label ??Subroutine48_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine48_0:
   \   000000   F8           MOV     R0,A
   \   000001   A3           INC     DPTR
   \   000002   E0           MOVX    A,@DPTR
   \   000003   F583         MOV     DPH,A
   \   000005   8882         MOV     DPL,R0
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?V0 + 4
   \   000004   85..83       MOV     DPH,?V0 + 5
   \   000007   A3           INC     DPTR
   \   000008   E0           MOVX    A,@DPTR
   \   000009   22           RET
    496          
    497          /********************************************************
    498          process response funtin of the CLUSDISC command
    499          
    500          DISCCLUS:<Node ID>,<EndPoint>,<Status>
    501          Prompt (will show, if <Status> is 00) 
    502                      SERVER:<ClusterID>,<ClusterID>,<ClusterID> 
    503                      CLIENT:<ClusterID>,<ClusterID>,< ClusterI
    504          *************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    505          void AT_AF_Cmd_HA_CIDDISC_rsp(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_HA_CIDDISC_rsp:
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   12....       LCALL   ?Subroutine26 & 0xFFFF
    506              AT_AF_Cmd_HA_CIDDISC_rsp_t *rsp = (AT_AF_Cmd_HA_CIDDISC_rsp_t *) pkt->cmd.Data;
   \                     ??CrossCallReturnLabel_100:
   \   000008   12....       LCALL   ??Subroutine51_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   00000B   FE           MOV     R6,A
   \   00000C   A3           INC     DPTR
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   FF           MOV     R7,A
    507              AT_RESP_START();
   \   00000F                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000F   7C02         MOV     R4,#0x2
   \   000011   7D00         MOV     R5,#0x0
   \   000013   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000015   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000017   7900         MOV     R1,#0x0
   \   000019   12....       LCALL   ??AT_HalUARTWrite?relay
    508              AT_DEBUG("DISCCLUS:<Node ID>,<EndPoint>,<Status>",sizeof("       <Node ID>,<EndPoint>,<Status>"));
   \   00001C                ; Setup parameters for call to function AT_HalUARTWrite
   \   00001C   7C25         MOV     R4,#0x25
   \   00001E   7D00         MOV     R5,#0x0
   \   000020   7A..         MOV     R2,#`?<Constant "DISCCLUS:<Node ID>,<E...">` & 0xff
   \   000022   7B..         MOV     R3,#(`?<Constant "DISCCLUS:<Node ID>,<E...">` >> 8) & 0xff
   \   000024   7900         MOV     R1,#0x0
   \   000026   12....       LCALL   ??AT_HalUARTWrite?relay
    509              AT_NEXT_LINE();
   \   000029                ; Setup parameters for call to function AT_HalUARTWrite
   \   000029   7C02         MOV     R4,#0x2
   \   00002B   7D00         MOV     R5,#0x0
   \   00002D   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   00002F   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   000031   7900         MOV     R1,#0x0
   \   000033   12....       LCALL   ??AT_HalUARTWrite?relay
    510              if(pkt->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
   \   000036   E5..         MOV     A,?V0 + 0
   \   000038   240E         ADD     A,#0xe
   \   00003A   F582         MOV     DPL,A
   \   00003C   E5..         MOV     A,?V0 + 1
   \   00003E   12....       LCALL   ??Subroutine41_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   000041   701B         JNZ     ??AT_AF_Cmd_HA_CIDDISC_rsp_0
    511                printf("DISCCLUS:%04X",pkt->srcAddr.addr.shortAddr);
   \   000043                ; Setup parameters for call to function printf
   \   000043   85..82       MOV     DPL,?V0 + 0
   \   000046   85..83       MOV     DPH,?V0 + 1
   \   000049   A3           INC     DPTR
   \   00004A   A3           INC     DPTR
   \   00004B   A3           INC     DPTR
   \   00004C   A3           INC     DPTR
   \   00004D   A3           INC     DPTR
   \   00004E   A3           INC     DPTR
   \   00004F   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000052   7A..         MOV     R2,#`?<Constant "DISCCLUS:%04X">` & 0xff
   \   000054   7B..         MOV     R3,#(`?<Constant "DISCCLUS:%04X">` >> 8) & 0xff
   \   000056   12....       LCALL   ??Subroutine49_0 & 0xFFFF
    512              }else printf("DISCCLUS:UNKNOWN");
   \                     ??CrossCallReturnLabel_79:
   \   000059   12....       LCALL   ?DEALLOC_XSTACK8
   \   00005C   8007         SJMP    ??AT_AF_Cmd_HA_CIDDISC_rsp_1
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_0:
   \   00005E                ; Setup parameters for call to function printf
   \   00005E   7A..         MOV     R2,#`?<Constant "DISCCLUS:UNKNOWN">` & 0xff
   \   000060   7B..         MOV     R3,#(`?<Constant "DISCCLUS:UNKNOWN">` >> 8) & 0xff
   \   000062   12....       LCALL   ??printf?relay
    513              
    514              printf(",%02X,%02X",rsp->hdr.ep,rsp->status);
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_1:
   \   000065   EE           MOV     A,R6
   \   000066   2402         ADD     A,#0x2
   \   000068   F8           MOV     R0,A
   \   000069   EF           MOV     A,R7
   \   00006A   3400         ADDC    A,#0x0
   \   00006C   F9           MOV     R1,A
   \   00006D   88..         MOV     ?V0 + 0,R0
   \   00006F   89..         MOV     ?V0 + 1,R1
   \   000071                ; Setup parameters for call to function printf
   \   000071   8882         MOV     DPL,R0
   \   000073   F583         MOV     DPH,A
   \   000075   E0           MOVX    A,@DPTR
   \   000076   F5..         MOV     ?V0 + 2,A
   \   000078   75..00       MOV     ?V0 + 3,#0x0
   \   00007B   78..         MOV     R0,#?V0 + 2
   \   00007D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000080   8E82         MOV     DPL,R6
   \   000082   8F83         MOV     DPH,R7
   \   000084   A3           INC     DPTR
   \   000085   E0           MOVX    A,@DPTR
   \   000086   F5..         MOV     ?V0 + 2,A
   \   000088   78..         MOV     R0,#?V0 + 2
   \   00008A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008D   7A..         MOV     R2,#`?<Constant ",%02X,%02X">` & 0xff
   \   00008F   7B..         MOV     R3,#(`?<Constant ",%02X,%02X">` >> 8) & 0xff
   \   000091   12....       LCALL   ??printf?relay
   \   000094   7404         MOV     A,#0x4
   \   000096   12....       LCALL   ?DEALLOC_XSTACK8
    515              
    516              if(rsp->status==SUCCESS){
   \   000099   85..82       MOV     DPL,?V0 + 0
   \   00009C   85..83       MOV     DPH,?V0 + 1
   \   00009F   E0           MOVX    A,@DPTR
   \   0000A0   6003         JZ      $+5
   \   0000A2   02....       LJMP    ??AT_AF_Cmd_HA_CIDDISC_rsp_2 & 0xFFFF
    517                AT_NEXT_LINE();
   \   0000A5                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000A5   7C02         MOV     R4,#0x2
   \   0000A7   7D00         MOV     R5,#0x0
   \   0000A9   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   0000AB   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   0000AD   7900         MOV     R1,#0x0
   \   0000AF   12....       LCALL   ??AT_HalUARTWrite?relay
    518                printf("SERVER:");
   \   0000B2                ; Setup parameters for call to function printf
   \   0000B2   7A..         MOV     R2,#`?<Constant "SERVER:">` & 0xff
   \   0000B4   7B..         MOV     R3,#(`?<Constant "SERVER:">` >> 8) & 0xff
   \   0000B6   12....       LCALL   ??printf?relay
    519                uint8 i;
    520                for(i=0;i<rsp->serverNum;i++) printf(",%04X",rsp->list[i]);
   \   0000B9   75..00       MOV     ?V0 + 2,#0x0
   \   0000BC   8014         SJMP    ??AT_AF_Cmd_HA_CIDDISC_rsp_3
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_4:
   \   0000BE                ; Setup parameters for call to function printf
   \   0000BE   E5..         MOV     A,?V0 + 2
   \   0000C0   C3           CLR     C
   \   0000C1   33           RLC     A
   \   0000C2   F8           MOV     R0,A
   \   0000C3   E4           CLR     A
   \   0000C4   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   0000C7   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000CA   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   0000CD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000D0   05..         INC     ?V0 + 2
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_3:
   \   0000D2   8E82         MOV     DPL,R6
   \   0000D4   8F83         MOV     DPH,R7
   \   0000D6   A3           INC     DPTR
   \   0000D7   A3           INC     DPTR
   \   0000D8   A3           INC     DPTR
   \   0000D9   E0           MOVX    A,@DPTR
   \   0000DA   F8           MOV     R0,A
   \   0000DB   E5..         MOV     A,?V0 + 2
   \   0000DD   C3           CLR     C
   \   0000DE   98           SUBB    A,R0
   \   0000DF   40DD         JC      ??AT_AF_Cmd_HA_CIDDISC_rsp_4
    521                AT_NEXT_LINE();
   \   0000E1                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000E1   7C02         MOV     R4,#0x2
   \   0000E3   7D00         MOV     R5,#0x0
   \   0000E5   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   0000E7   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   0000E9   7900         MOV     R1,#0x0
   \   0000EB   12....       LCALL   ??AT_HalUARTWrite?relay
    522                printf("CLIENT:");
   \   0000EE                ; Setup parameters for call to function printf
   \   0000EE   7A..         MOV     R2,#`?<Constant "CLIENT:">` & 0xff
   \   0000F0   7B..         MOV     R3,#(`?<Constant "CLIENT:">` >> 8) & 0xff
   \   0000F2   12....       LCALL   ??printf?relay
    523                for(i=0;i<rsp->clientNum;i++) printf(",%04X",rsp->list[i+rsp->serverNum]);
   \   0000F5   75..00       MOV     ?V0 + 2,#0x0
   \   0000F8   8026         SJMP    ??AT_AF_Cmd_HA_CIDDISC_rsp_5
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_6:
   \   0000FA                ; Setup parameters for call to function printf
   \   0000FA   85....       MOV     ?V0 + 0,?V0 + 2
   \   0000FD   8E82         MOV     DPL,R6
   \   0000FF   8F83         MOV     DPH,R7
   \   000101   A3           INC     DPTR
   \   000102   A3           INC     DPTR
   \   000103   A3           INC     DPTR
   \   000104   E0           MOVX    A,@DPTR
   \   000105   F8           MOV     R0,A
   \   000106   E5..         MOV     A,?V0 + 0
   \   000108   28           ADD     A,R0
   \   000109   F8           MOV     R0,A
   \   00010A   E4           CLR     A
   \   00010B   3400         ADDC    A,#0x0
   \   00010D   F9           MOV     R1,A
   \   00010E   E8           MOV     A,R0
   \   00010F   33           RLC     A
   \   000110   F8           MOV     R0,A
   \   000111   E9           MOV     A,R1
   \   000112   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000115   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000118   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   00011B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00011E   05..         INC     ?V0 + 2
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_5:
   \   000120   8E82         MOV     DPL,R6
   \   000122   8F83         MOV     DPH,R7
   \   000124   A3           INC     DPTR
   \   000125   A3           INC     DPTR
   \   000126   A3           INC     DPTR
   \   000127   A3           INC     DPTR
   \   000128   E0           MOVX    A,@DPTR
   \   000129   F8           MOV     R0,A
   \   00012A   E5..         MOV     A,?V0 + 2
   \   00012C   C3           CLR     C
   \   00012D   98           SUBB    A,R0
   \   00012E   40CA         JC      ??AT_AF_Cmd_HA_CIDDISC_rsp_6
    524              }
    525              AT_RESP_END();
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp_2:
   \   000130                ; Setup parameters for call to function AT_HalUARTWrite
   \   000130   7C02         MOV     R4,#0x2
   \   000132   7D00         MOV     R5,#0x0
   \   000134   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000136   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000138   7900         MOV     R1,#0x0
   \   00013A   12....       LCALL   ??AT_HalUARTWrite?relay
    526          }
   \   00013D   02....       LJMP    ?Subroutine2 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   7A..         MOV     R2,#`?<Constant ",%04X">` & 0xff
   \   000002   7B..         MOV     R3,#(`?<Constant ",%04X">` >> 8) & 0xff
   \   000004                REQUIRE ??Subroutine49_0
   \   000004                ; // Fall through to label ??Subroutine49_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   33           RLC     A
   \   000001   F9           MOV     R1,A
   \   000002   EE           MOV     A,R6
   \   000003   28           ADD     A,R0
   \   000004   F582         MOV     DPL,A
   \   000006   EF           MOV     A,R7
   \   000007   39           ADDC    A,R1
   \   000008   F583         MOV     DPH,A
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   22           RET
    527          
    528          
    529          /*******************************************************************
    530          for AT+R command
    531          **************************************************************************/
    532          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    533          void AT_AF_Cmd_R_CIDDISC_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_R_CIDDISC_CB:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    534            AT_AF_hdr *req = (AT_AF_hdr *)pkt->cmd.Data;
    535            if(req->cmd==AT_AF_Cmd_req){
   \   000004   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000007   7003         JNZ     ??AT_AF_Cmd_R_CIDDISC_CB_0
    536              AT_AF_Cmd_R_CIDDISC_req(pkt);
   \   000009                ; Setup parameters for call to function AT_AF_Cmd_R_CIDDISC_req
   \   000009   12....       LCALL   ??AT_AF_Cmd_R_CIDDISC_req?relay
    537            }else{
    538              AT_AF_Cmd_R_CIDDISC_rsp(pkt);
    539            }
    540          }
   \                     ??AT_AF_Cmd_R_CIDDISC_CB_0:
   \   00000C   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    541          void AT_AF_Cmd_R_CIDDISC_req(afIncomingMSGPacket_t *pkt  ){
   \                     AT_AF_Cmd_R_CIDDISC_req:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    542            
    543            AT_AF_Cmd_RCIDDISC_req_t *req = (AT_AF_Cmd_RCIDDISC_req_t *) pkt->cmd.Data;
    544            AT_HandleCMD(req->list);
   \   000004                ; Setup parameters for call to function AT_HandleCMD
   \   000004   12....       LCALL   ??Subroutine52_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000007   12....       LCALL   ??Subroutine51_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   00000A   2402         ADD     A,#0x2
   \   00000C   FA           MOV     R2,A
   \   00000D   A3           INC     DPTR
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   3400         ADDC    A,#0x0
   \   000011   FB           MOV     R3,A
   \   000012   12....       LCALL   ??AT_HandleCMD?relay
    545          }
   \   000015   02....       LJMP    ?Subroutine0 & 0xFFFF
    546          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    547          void AT_AF_Cmd_R_CIDDISC_rsp(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_R_CIDDISC_rsp:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    548          }
   \   000000   02....       LJMP    ?BRET
    549          
    550          /**********************************************************************
    551          flashing the led_2 to indication which device in the PAN
    552          ***********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    553          void AT_AF_TEST_KEY_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_TEST_KEY_CB:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    554            HalLedBlink( HAL_LED_2, 4, 50, 250 );
   \   000004                ; Setup parameters for call to function HalLedBlink
   \   000004   7CFA         MOV     R4,#-0x6
   \   000006   7D00         MOV     R5,#0x0
   \   000008   7B32         MOV     R3,#0x32
   \   00000A   7A04         MOV     R2,#0x4
   \   00000C   7902         MOV     R1,#0x2
   \   00000E   12....       LCALL   ??HalLedBlink?relay
    555          }
   \   000011   02....       LJMP    ?Subroutine0 & 0xFFFF
    556          
    557          
    558          /**************************************************************************
    559          Power saving experiment for the Papper of power efficiency in ZigBee
    560          ******************************************************************************/
    561          static void AT_AF_Cmd_RSSI_req(afIncomingMSGPacket_t *pkt  );
    562          static void AT_AF_Cmd_RSSI_rsp(afIncomingMSGPacket_t *pkt );
    563          static void AT_AF_Cmd_PSE_req(afIncomingMSGPacket_t *pkt);
    564          
    565          static void AT_AF_Cmd_RSSI_req(afIncomingMSGPacket_t *pkt  ){
    566            AT_AF_Cmd_POWER_SAVING_rssi_t buf;
    567            buf.hdr.cmd =AT_AT_PSE_RSSI_rsp;
    568            buf.rssi = pkt->rssi;
    569            buf.lqi = pkt->LinkQuality;
    570            buf.correlation =pkt->correlation;
    571            AF_DataRequest( & (pkt->srcAddr), & AT_AF_epDesc,
    572                                   AT_AF_POWER_SVING_EXP_CLUSTERID,
    573                                   sizeof(buf),
    574                                   (uint8*)&buf,
    575                                   &AT_AF_TransID,
    576                                   AF_DISCV_ROUTE,
    577                                   AF_DEFAULT_RADIUS );
    578          }
    579          
    580          static void AT_AF_Cmd_RSSI_rsp(afIncomingMSGPacket_t *pkt ){
    581            AT_AF_Cmd_POWER_SAVING_rssi_t* rsp = (AT_AF_Cmd_POWER_SAVING_rssi_t*)pkt->cmd.Data;
    582            AT_RESP_START();
    583            printf("RSSIRESP:LQI_send=%d,RSSI_send=%d,correlation_send=%d",
    584                   rsp->lqi,
    585                   rsp->rssi,
    586                   rsp->correlation);
    587            AT_NEXT_LINE();
    588            printf("RSSIRESP:LQI_receive=%d,RSSI_receive=%d,correlation_receive=%d",
    589                   pkt->LinkQuality,
    590                   pkt->rssi,
    591                   pkt->correlation);
    592            AT_RESP_END();
    593          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    594          static void AT_AF_Cmd_PSE_req(afIncomingMSGPacket_t *pkt){
   \                     AT_AF_Cmd_PSE_req:
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    595            AT_AF_Cmd_POWER_SAVING_EXP_t *req = (AT_AF_Cmd_POWER_SAVING_EXP_t *)pkt->cmd.Data;
   \   000005   12....       LCALL   ??Subroutine52_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   000008   12....       LCALL   ?Subroutine17 & 0xFFFF
    596            static uint16 package_count=0;
    597            switch(req->hdr.info){
   \                     ??CrossCallReturnLabel_23:
   \   00000B   8882         MOV     DPL,R0
   \   00000D   F583         MOV     DPH,A
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   14           DEC     A
   \   000012   600A         JZ      ??AT_AF_Cmd_PSE_req_0
   \   000014   24FE         ADD     A,#-0x2
   \   000016   6045         JZ      ??AT_AF_Cmd_PSE_req_1
   \   000018   14           DEC     A
   \   000019   6067         JZ      ??AT_AF_Cmd_PSE_req_2
   \   00001B   02....       LJMP    ??CrossCallReturnLabel_40 & 0xFFFF
    598            case AT_AF_PSE_info_pre:
    599              package_count=0;
   \                     ??AT_AF_Cmd_PSE_req_0:
   \   00001E   90....       MOV     DPTR,#??package_count
   \   000021   E4           CLR     A
   \   000022   F0           MOVX    @DPTR,A
   \   000023   A3           INC     DPTR
   \   000024   F0           MOVX    @DPTR,A
    600              AT_RESP_START();
   \   000025                ; Setup parameters for call to function AT_HalUARTWrite
   \   000025   7C02         MOV     R4,#0x2
   \   000027   FD           MOV     R5,A
   \   000028   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   00002A   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   00002C   F9           MOV     R1,A
   \   00002D   12....       LCALL   ?Subroutine27 & 0xFFFF
    601              printf("%d packages are coming with interval %dms...",
    602                     req->count,
    603                     req->interval);
   \                     ??CrossCallReturnLabel_35:
   \   000030   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000033   85..82       MOV     DPL,?V0 + 0
   \   000036   85..83       MOV     DPH,?V0 + 1
   \   000039   A3           INC     DPTR
   \   00003A   A3           INC     DPTR
   \   00003B   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00003E   7A..         MOV     R2,#`?<Constant "%d packages are comin...">` & 0xff
   \   000040   7B..         MOV     R3,#(`?<Constant "%d packages are comin...">` >> 8) & 0xff
   \   000042   12....       LCALL   ??printf?relay
   \   000045   7404         MOV     A,#0x4
   \   000047   12....       LCALL   ?DEALLOC_XSTACK8
    604              AT_RESP_END();
   \   00004A                ; Setup parameters for call to function AT_HalUARTWrite
   \   00004A   7C02         MOV     R4,#0x2
   \   00004C   7D00         MOV     R5,#0x0
   \   00004E   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000050   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000052   7900         MOV     R1,#0x0
   \   000054   12....       LCALL   ??AT_HalUARTWrite?relay
    605              
    606              printf("Package Received:");
   \   000057                ; Setup parameters for call to function printf
   \   000057   7A..         MOV     R2,#`?<Constant "Package Received:">` & 0xff
   \   000059   7B..         MOV     R3,#(`?<Constant "Package Received:">` >> 8) & 0xff
   \   00005B   804D         SJMP    ??AT_AF_Cmd_PSE_req_3
    607              AT_NEXT_LINE();
    608              break;
    609            case AT_AF_PSE_info_start:
    610              break;
    611            case AT_AF_PSE_info_ing:
    612              package_count++;
   \                     ??AT_AF_Cmd_PSE_req_1:
   \   00005D   90....       MOV     DPTR,#??package_count
   \   000060   E0           MOVX    A,@DPTR
   \   000061   2401         ADD     A,#0x1
   \   000063   F0           MOVX    @DPTR,A
   \   000064   A3           INC     DPTR
   \   000065   E0           MOVX    A,@DPTR
   \   000066   3400         ADDC    A,#0x0
   \   000068   F0           MOVX    @DPTR,A
    613              
    614              HalLedSet ( HAL_LED_1, HAL_LED_MODE_TOGGLE );
   \   000069                ; Setup parameters for call to function HalLedSet
   \   000069   7A08         MOV     R2,#0x8
   \   00006B   7901         MOV     R1,#0x1
   \   00006D   12....       LCALL   ??HalLedSet?relay
    615              printf("\r%d",package_count);
   \   000070                ; Setup parameters for call to function printf
   \   000070   90....       MOV     DPTR,#??package_count
   \   000073   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000076   7A..         MOV     R2,#`?<Constant "\\r%d">` & 0xff
   \   000078   7B..         MOV     R3,#(`?<Constant "\\r%d">` >> 8) & 0xff
   \   00007A   12....       LCALL   ??Subroutine49_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   00007D   12....       LCALL   ?DEALLOC_XSTACK8
    616              break;
   \   000080   802B         SJMP    ??CrossCallReturnLabel_40
    617            case AT_AF_PSE_info_end:
    618              printf("\r%d",package_count);
   \                     ??AT_AF_Cmd_PSE_req_2:
   \   000082                ; Setup parameters for call to function printf
   \   000082   90....       MOV     DPTR,#??package_count
   \   000085   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000088   7A..         MOV     R2,#`?<Constant "\\r%d">` & 0xff
   \   00008A   7B..         MOV     R3,#(`?<Constant "\\r%d">` >> 8) & 0xff
   \   00008C   12....       LCALL   ??Subroutine49_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   00008F   12....       LCALL   ?DEALLOC_XSTACK8
    619              
    620              HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   \   000092                ; Setup parameters for call to function HalLedSet
   \   000092   7A00         MOV     R2,#0x0
   \   000094   7901         MOV     R1,#0x1
   \   000096   12....       LCALL   ??HalLedSet?relay
    621              AT_NEXT_LINE();
   \   000099                ; Setup parameters for call to function AT_HalUARTWrite
   \   000099   7C02         MOV     R4,#0x2
   \   00009B   7D00         MOV     R5,#0x0
   \   00009D   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   00009F   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   0000A1   7900         MOV     R1,#0x0
   \   0000A3   12....       LCALL   ??AT_HalUARTWrite?relay
    622              printf("Receive finished!");
   \   0000A6                ; Setup parameters for call to function printf
   \   0000A6   7A..         MOV     R2,#`?<Constant "Receive finished!">` & 0xff
   \   0000A8   7B..         MOV     R3,#(`?<Constant "Receive finished!">` >> 8) & 0xff
   \                     ??AT_AF_Cmd_PSE_req_3:
   \   0000AA   12....       LCALL   ?Subroutine29 & 0xFFFF
    623              AT_NEXT_LINE();
    624              break;
    625            }
    626          }
   \                     ??CrossCallReturnLabel_40:
   \   0000AD   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000003                ; Setup parameters for call to function printf
   \   000003                ; Setup parameters for call to function printf
   \   000003   85..82       MOV     DPL,?V0 + 0
   \   000006   85..83       MOV     DPH,?V0 + 1
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??package_count:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    627          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    628          void AT_AF_Cmd_POWER_SVING_EXP_CB(afIncomingMSGPacket_t *pkt ){
   \                     AT_AF_Cmd_POWER_SVING_EXP_CB:
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 5
   \   000005   74FB         MOV     A,#-0x5
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine38 & 0xFFFF
    629             AT_AF_hdr *req = (AT_AF_hdr *)pkt->cmd.Data;
    630            switch (req->cmd){
   \                     ??CrossCallReturnLabel_107:
   \   00000D   EF           MOV     A,R7
   \   00000E   12....       LCALL   ??Subroutine44_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000011   14           DEC     A
   \   000012   6010         JZ      ??AT_AF_Cmd_POWER_SVING_EXP_CB_0
   \   000014   14           DEC     A
   \   000015   7003         JNZ     $+5
   \   000017   02....       LJMP    ??AT_AF_Cmd_POWER_SVING_EXP_CB_1 & 0xFFFF
   \   00001A   2481         ADD     A,#-0x7f
   \   00001C   7003         JNZ     $+5
   \   00001E   02....       LJMP    ??AT_AF_Cmd_POWER_SVING_EXP_CB_2 & 0xFFFF
   \   000021   02....       LJMP    ??AT_AF_Cmd_POWER_SVING_EXP_CB_3 & 0xFFFF
    631            case AT_AT_PSE_RSSI_req:
    632              AT_AF_Cmd_RSSI_req(pkt);
   \                     ??AT_AF_Cmd_POWER_SVING_EXP_CB_0:
   \   000024   85..82       MOV     DPL,?XSP + 0
   \   000027   85..83       MOV     DPH,?XSP + 1
   \   00002A   7481         MOV     A,#-0x7f
   \   00002C   F0           MOVX    @DPTR,A
   \   00002D   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   000030   C0E0         PUSH    A
   \   000032   7403         MOV     A,#0x3
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   D0E0         POP     A
   \   000039   F0           MOVX    @DPTR,A
   \   00003A   EE           MOV     A,R6
   \   00003B   2416         ADD     A,#0x16
   \   00003D   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   000040   C0E0         PUSH    A
   \   000042   7402         MOV     A,#0x2
   \   000044   12....       LCALL   ?XSTACK_DISP0_8
   \   000047   D0E0         POP     A
   \   000049   F0           MOVX    @DPTR,A
   \   00004A   EE           MOV     A,R6
   \   00004B   2417         ADD     A,#0x17
   \   00004D   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   000050   C0E0         PUSH    A
   \   000052   7404         MOV     A,#0x4
   \   000054   12....       LCALL   ?XSTACK_DISP0_8
   \   000057   D0E0         POP     A
   \   000059   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   00005C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00005F   75....       MOV     ?V0 + 0,#AT_AF_TransID & 0xff
   \   000062   75....       MOV     ?V0 + 1,#(AT_AF_TransID >> 8) & 0xff
   \   000065   78..         MOV     R0,#?V0 + 0
   \   000067   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006A   7403         MOV     A,#0x3
   \   00006C   12....       LCALL   ?XSTACK_DISP0_8
   \   00006F   8582..       MOV     ?V0 + 0,DPL
   \   000072   8583..       MOV     ?V0 + 1,DPH
   \   000075   78..         MOV     R0,#?V0 + 0
   \   000077   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007A   75..05       MOV     ?V0 + 0,#0x5
   \   00007D   75..00       MOV     ?V0 + 1,#0x0
   \   000080   78..         MOV     R0,#?V0 + 0
   \   000082   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000085   75..06       MOV     ?V0 + 0,#0x6
   \   000088   78..         MOV     R0,#?V0 + 0
   \   00008A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008D   7920         MOV     R1,#0x20
   \   00008F   7C..         MOV     R4,#AT_AF_epDesc & 0xff
   \   000091   7D..         MOV     R5,#(AT_AF_epDesc >> 8) & 0xff
   \   000093   EE           MOV     A,R6
   \   000094   2406         ADD     A,#0x6
   \   000096   FA           MOV     R2,A
   \   000097   EF           MOV     A,R7
   \   000098   12....       LCALL   ??Subroutine53_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_116:
   \   00009B   12....       LCALL   ?DEALLOC_XSTACK8
    633              break;
   \   00009E   02....       LJMP    ??AT_AF_Cmd_POWER_SVING_EXP_CB_3 & 0xFFFF
    634            case AT_AT_PSE_RSSI_rsp:
    635              AT_AF_Cmd_RSSI_rsp(pkt);
   \                     ??AT_AF_Cmd_POWER_SVING_EXP_CB_2:
   \   0000A1   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   0000A4   75....       MOV     ?V0 + 2,#`?<Constant "\\r\\n">` & 0xff
   \   0000A7   75....       MOV     ?V0 + 3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   0000AA                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000AA   7C02         MOV     R4,#0x2
   \   0000AC   7D00         MOV     R5,#0x0
   \   0000AE   AA..         MOV     R2,?V0 + 2
   \   0000B0   AB..         MOV     R3,?V0 + 3
   \   0000B2   7900         MOV     R1,#0x0
   \   0000B4   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   0000B7   E0           MOVX    A,@DPTR
   \   0000B8   F5..         MOV     ?V0 + 4,A
   \   0000BA   75..00       MOV     ?V0 + 5,#0x0
   \   0000BD   78..         MOV     R0,#?V0 + 4
   \   0000BF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C2   85..82       MOV     DPL,?V0 + 0
   \   0000C5   85..83       MOV     DPH,?V0 + 1
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   A3           INC     DPTR
   \   0000CB   E0           MOVX    A,@DPTR
   \   0000CC   F5..         MOV     ?V0 + 4,A
   \   0000CE   33           RLC     A
   \   0000CF   95E0         SUBB    A,0xE0 /* A   */
   \   0000D1   F5..         MOV     ?V0 + 5,A
   \   0000D3   78..         MOV     R0,#?V0 + 4
   \   0000D5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D8   85..82       MOV     DPL,?V0 + 0
   \   0000DB   85..83       MOV     DPH,?V0 + 1
   \   0000DE   A3           INC     DPTR
   \   0000DF   A3           INC     DPTR
   \   0000E0   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   0000E3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E6   7A..         MOV     R2,#`?<Constant "RSSIRESP:LQI_send=%d,...">` & 0xff
   \   0000E8   7B..         MOV     R3,#(`?<Constant "RSSIRESP:LQI_send=%d,...">` >> 8) & 0xff
   \   0000EA   12....       LCALL   ??printf?relay
   \   0000ED   7406         MOV     A,#0x6
   \   0000EF   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000F2                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000F2   7C02         MOV     R4,#0x2
   \   0000F4   7D00         MOV     R5,#0x0
   \   0000F6   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   0000F8   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   0000FA   7900         MOV     R1,#0x0
   \   0000FC   12....       LCALL   ??AT_HalUARTWrite?relay
   \   0000FF                ; Setup parameters for call to function printf
   \   0000FF   EE           MOV     A,R6
   \   000100   2417         ADD     A,#0x17
   \   000102   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   000105   F5..         MOV     ?V0 + 0,A
   \   000107   78..         MOV     R0,#?V0 + 0
   \   000109   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00010C   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   00010F   F5..         MOV     ?V0 + 0,A
   \   000111   33           RLC     A
   \   000112   95E0         SUBB    A,0xE0 /* A   */
   \   000114   F5..         MOV     ?V0 + 1,A
   \   000116   78..         MOV     R0,#?V0 + 0
   \   000118   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00011B   EE           MOV     A,R6
   \   00011C   2416         ADD     A,#0x16
   \   00011E   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   000121   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   000124   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000127   7A..         MOV     R2,#`?<Constant "RSSIRESP:LQI_receive=...">` & 0xff
   \   000129   7B..         MOV     R3,#(`?<Constant "RSSIRESP:LQI_receive=...">` >> 8) & 0xff
   \   00012B   12....       LCALL   ??printf?relay
   \   00012E   7406         MOV     A,#0x6
   \   000130   12....       LCALL   ?DEALLOC_XSTACK8
   \   000133                ; Setup parameters for call to function AT_HalUARTWrite
   \   000133   7C02         MOV     R4,#0x2
   \   000135   7D00         MOV     R5,#0x0
   \   000137   AA..         MOV     R2,?V0 + 2
   \   000139   AB..         MOV     R3,?V0 + 3
   \   00013B   7900         MOV     R1,#0x0
   \   00013D   12....       LCALL   ??AT_HalUARTWrite?relay
    636              break;
   \   000140   8003         SJMP    ??AT_AF_Cmd_POWER_SVING_EXP_CB_3
    637            case AT_AT_PSE_EXP_req:
    638              AT_AF_Cmd_PSE_req(pkt);
   \                     ??AT_AF_Cmd_POWER_SVING_EXP_CB_1:
   \   000142                ; Setup parameters for call to function AT_AF_Cmd_PSE_req
   \   000142   12....       LCALL   ??AT_AF_Cmd_PSE_req?relay
    639              break;
    640            }
    641          }
   \                     ??AT_AF_Cmd_POWER_SVING_EXP_CB_3:
   \   000145   02....       LJMP    ?Subroutine3 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   EE           MOV     A,R6
   \   000001   2418         ADD     A,#0x18
   \   000003                REQUIRE ??Subroutine50_0
   \   000003                ; // Fall through to label ??Subroutine50_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine50_0:
   \   000000   F582         MOV     DPL,A
   \   000002   EF           MOV     A,R7
   \   000003                REQUIRE ??Subroutine51_0
   \   000003                ; // Fall through to label ??Subroutine51_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 0,A
   \   000003   75..00       MOV     ?V0 + 1,#0x0
   \   000006   78..         MOV     R0,#?V0 + 0
   \   000008   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AT_AF_Group>`:
   \   000000   0080         DW 32768
   \   000002   41           DB 65
   \   000003   54           DB 84
   \   000004   5F           DB 95
   \   000005   41           DB 65
   \   000006   46           DB 70
   \   000007   5F           DB 95
   \   000008   67           DB 103
   \   000009   72           DB 114
   \   00000A   6F           DB 111
   \   00000B   75           DB 117
   \   00000C   70           DB 112
   \   00000D   00           DB 0
   \   00000E   00           DB 0
   \   00000F   00           DB 0
   \   000010   00           DB 0
   \   000011   00           DB 0

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Register?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Register

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_send_simple_?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_send_simple_

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_REPPRINT_req?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_REPPRINT_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_REPPRINT_rsp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_REPPRINT_rsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_REPPRINT_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_REPPRINT_CB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_REPENABLE_req?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_REPENABLE_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_REPENABLE_rsp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_REPENABLE_rsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_REPENABLE_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_REPENABLE_CB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_HA_DISC_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_HA_DISC_CB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_HA_DISC_req?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_HA_DISC_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_HA_DISC_rsp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_HA_DISC_rsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_HA_CIDDISC_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_HA_CIDDISC_CB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_HA_CIDDISC_req?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_HA_CIDDISC_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_HA_CIDDISC_rsp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_HA_CIDDISC_rsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_R_CIDDISC_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_R_CIDDISC_CB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_R_CIDDISC_req?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_R_CIDDISC_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_R_CIDDISC_rsp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_R_CIDDISC_rsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_TEST_KEY_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_TEST_KEY_CB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_PSE_req?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_PSE_req

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_AF_Cmd_POWER_SVING_EXP_CB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_AF_Cmd_POWER_SVING_EXP_CB

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {7}>`:
   \   000000   07           DB 7

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {7}>_1`:
   \   000000   07           DB 7

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\n">`:
   \   000000   0D0A00       DB "\015\012"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<nodeID>,<EndPoint>:<...">`:
   \   000000   3C6E6F64     DB "<nodeID>,<EndPoint>:<Status>"
   \            6549443E
   \            2C3C456E
   \            64506F69
   \            6E743E3A
   \            3C537461
   \            7475733E
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\n\\r">`:
   \   000000   0A0D00       DB "\012\015"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UNKNOWN">`:
   \   000000   554E4B4E     DB "UNKNOWN"
   \            4F574E00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ",">`:
   \   000000   2C00         DB ","

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ":ENABLED">`:
   \   000000   3A454E41     DB ":ENABLED"
   \            424C4544
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ":DISABLED">`:
   \   000000   3A444953     DB ":DISABLED"
   \            41424C45
   \            4400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ENABLED:">`:
   \   000000   454E4142     DB "ENABLED:"
   \            4C45443A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DISABLED:">`:
   \   000000   44495341     DB "DISABLED:"
   \            424C4544
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UNKNOWNEP">`:
   \   000000   554E4B4E     DB "UNKNOWNEP"
   \            4F574E45
   \            5000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {7}>_2`:
   \   000000   07           DB 7

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DEV:%04X,">`:
   \   000000   4445563A     DB "DEV:%04X,"
   \            25303458
   \            2C00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%02X,">`:
   \   000000   25303258     DB "%02X,"
   \            2C00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ENABLED">`:
   \   000000   454E4142     DB "ENABLED"
   \            4C454400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DISABLED">`:
   \   000000   44495341     DB "DISABLED"
   \            424C4544
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DISCCLUS:<Node ID>,<E...">`:
   \   000000   44495343     DB "DISCCLUS:<Node ID>,<EndPoint>,<Status>"
   \            434C5553
   \            3A3C4E6F
   \            64652049
   \            443E2C3C
   \            456E6450
   \            6F696E74
   \            3E2C3C53
   \            74617475
   \            733E00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DISCCLUS:%04X">`:
   \   000000   44495343     DB "DISCCLUS:%04X"
   \            434C5553
   \            3A253034
   \            5800    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DISCCLUS:UNKNOWN">`:
   \   000000   44495343     DB "DISCCLUS:UNKNOWN"
   \            434C5553
   \            3A554E4B
   \            4E4F574E
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ",%02X,%02X">`:
   \   000000   2C253032     DB ",%02X,%02X"
   \            582C2530
   \            325800  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SERVER:">`:
   \   000000   53455256     DB "SERVER:"
   \            45523A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ",%04X">`:
   \   000000   2C253034     DB ",%04X"
   \            5800    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "CLIENT:">`:
   \   000000   434C4945     DB "CLIENT:"
   \            4E543A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "RSSIRESP:LQI_send=%d,...">`:
   \   000000   52535349     DB 52H, 53H, 53H, 49H, 52H, 45H, 53H, 50H
   \            52455350
   \   000008   3A4C5149     DB 3AH, 4CH, 51H, 49H, 5FH, 73H, 65H, 6EH
   \            5F73656E
   \   000010   643D2564     DB 64H, 3DH, 25H, 64H, 2CH, 52H, 53H, 53H
   \            2C525353
   \   000018   495F7365     DB 49H, 5FH, 73H, 65H, 6EH, 64H, 3DH, 25H
   \            6E643D25
   \   000020   642C636F     DB 64H, 2CH, 63H, 6FH, 72H, 72H, 65H, 6CH
   \            7272656C
   \   000028   6174696F     DB 61H, 74H, 69H, 6FH, 6EH, 5FH, 73H, 65H
   \            6E5F7365
   \   000030   6E643D25     DB 6EH, 64H, 3DH, 25H, 64H, 0
   \            6400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "RSSIRESP:LQI_receive=...">`:
   \   000000   52535349     DB 52H, 53H, 53H, 49H, 52H, 45H, 53H, 50H
   \            52455350
   \   000008   3A4C5149     DB 3AH, 4CH, 51H, 49H, 5FH, 72H, 65H, 63H
   \            5F726563
   \   000010   65697665     DB 65H, 69H, 76H, 65H, 3DH, 25H, 64H, 2CH
   \            3D25642C
   \   000018   52535349     DB 52H, 53H, 53H, 49H, 5FH, 72H, 65H, 63H
   \            5F726563
   \   000020   65697665     DB 65H, 69H, 76H, 65H, 3DH, 25H, 64H, 2CH
   \            3D25642C
   \   000028   636F7272     DB 63H, 6FH, 72H, 72H, 65H, 6CH, 61H, 74H
   \            656C6174
   \   000030   696F6E5F     DB 69H, 6FH, 6EH, 5FH, 72H, 65H, 63H, 65H
   \            72656365
   \   000038   6976653D     DB 69H, 76H, 65H, 3DH, 25H, 64H, 0
   \            256400  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%d packages are comin...">`:
   \   000000   25642070     DB "%d packages are coming with interval %dms..."
   \            61636B61
   \            67657320
   \            61726520
   \            636F6D69
   \            6E672077
   \            69746820
   \            696E7465
   \            7276616C
   \            2025646D
   \            732E2E2E
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Package Received:">`:
   \   000000   5061636B     DB "Package Received:"
   \            61676520
   \            52656365
   \            69766564
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r%d">`:
   \   000000   0D256400     DB "\015%d"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Receive finished!">`:
   \   000000   52656365     DB "Receive finished!"
   \            69766520
   \            66696E69
   \            73686564
   \            2100    

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     AT_AF_Cmd_HA_CIDDISC_CB            2      0     10
       -> AT_AF_Cmd_HA_CIDDISC_req      4      0      0
       -> AT_AF_Cmd_HA_CIDDISC_rsp      4      0      0
     AT_AF_Cmd_HA_CIDDISC_req           1      0     38
       -> AT_is_CMD_EPs                 0      0     58
       -> afFindSimpleDesc              0      0     58
       -> osal_mem_alloc                0      0     58
       -> osal_memcpy                   0      0     64
       -> osal_memcpy                   0      0     64
       -> AF_DataRequest                0      0     76
       -> osal_mem_free                 0      0     58
       -> AF_DataRequest                0      0     76
     AT_AF_Cmd_HA_CIDDISC_rsp           0      0     16
       -> AT_HalUARTWrite               0      0     24
       -> AT_HalUARTWrite               0      0     24
       -> AT_HalUARTWrite               0      0     24
       -> printf                        0      0     28
       -> printf                        0      0     24
       -> printf                        0      0     32
       -> AT_HalUARTWrite               0      0     24
       -> printf                        0      0     24
       -> printf                        0      0     28
       -> AT_HalUARTWrite               0      0     24
       -> printf                        0      0     24
       -> printf                        0      0     28
       -> AT_HalUARTWrite               0      0     24
     AT_AF_Cmd_HA_DISC_CB               2      0     10
       -> AT_AF_Cmd_HA_DISC_req         4      0      0
       -> AT_AF_Cmd_HA_DISC_rsp         4      0      0
     AT_AF_Cmd_HA_DISC_req              2      0     28
       -> AT_af_get_ep                  0      0     38
       -> afFindEndPointDesc            0      0     38
       -> afFindEndPointDesc            0      0     38
       -> afFindEndPointDesc            0      0     38
       -> AF_DataRequest                0      0     56
     AT_AF_Cmd_HA_DISC_rsp              0      0     18
       -> AT_HalUARTWrite               0      0     32
       -> printf                        0      0     32
       -> AT_HalUARTWrite               0      0     32
       -> printf                        0      0     36
       -> printf                        0      0     32
       -> printf                        0      0     36
       -> printf                        0      0     32
       -> AT_HalUARTWrite               0      0     32
     AT_AF_Cmd_POWER_SVING_EXP_CB       1      0     38
       -> AF_DataRequest                0      0     56
       -> AT_HalUARTWrite               0      0     38
       -> printf                        0      0     50
       -> AT_HalUARTWrite               0      0     38
       -> printf                        0      0     50
       -> AT_HalUARTWrite               0      0     38
       -> AT_AF_Cmd_PSE_req             0      0     38
     AT_AF_Cmd_PSE_req                  0      0     33
       -> AT_HalUARTWrite               0      0     20
       -> printf                        0      0     28
       -> AT_HalUARTWrite               0      0     20
       -> printf                        0      0     20
       -> AT_HalUARTWrite               0      0     20
       -> HalLedSet                     0      0     20
       -> printf                        0      0     24
       -> printf                        0      0     24
       -> HalLedSet                     0      0     20
       -> AT_HalUARTWrite               0      0     20
       -> printf                        0      0     20
       -> AT_HalUARTWrite               0      0     20
     AT_AF_Cmd_REPENABLE_CB             2      0     10
       -> AT_AF_Cmd_REPENABLE_req       4      0      0
       -> AT_AF_Cmd_REPENABLE_rsp       4      0      0
     AT_AF_Cmd_REPENABLE_req            1      0     28
       -> AT_af_get_ep                  0      0     38
       -> AT_af_register_ep             0      0     38
       -> AT_ZCL_EP_ENABLE              0      0     38
       -> AT_NV_ZCL_get_index_          0      0     38
       -> AT_NV_ZCL_saveEPStatus        0      0     38
       -> AT_af_get_ep                  0      0     38
       -> AT_af_remove_ep               0      0     38
       -> AT_ZCL_EP_ENABLE              0      0     38
       -> AT_NV_ZCL_get_index_          0      0     38
       -> AT_NV_ZCL_saveEPStatus        0      0     38
       -> AF_DataRequest                0      0     56
     AT_AF_Cmd_REPENABLE_rsp            0      0     14
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_Int16toChar                0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_Int8toChar                 0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_Int16toChar                0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
       -> AT_HalUARTWrite               0      0     28
     AT_AF_Cmd_REPPRINT_CB              2      0     10
       -> AT_AF_Cmd_REPPRINT_req        4      0      0
       -> AT_AF_Cmd_REPPRINT_rsp        4      0      0
     AT_AF_Cmd_REPPRINT_req             2      0     26
       -> afNumEndPoints                0      0     34
       -> osal_mem_alloc                0      0     34
       -> afEndPoints                   0      0     34
       -> AT_sort_arr                   0      0     34
       -> osal_mem_free                 0      0     34
       -> AF_DataRequest                0      0     52
     AT_AF_Cmd_REPPRINT_rsp             2      0     19
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_Int16toChar                0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_Int8toChar                 0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
       -> AT_HalUARTWrite               0      0     38
     AT_AF_Cmd_R_CIDDISC_CB             2      0     10
       -> AT_AF_Cmd_R_CIDDISC_req       4      0      0
     AT_AF_Cmd_R_CIDDISC_req            2      0      0
       -> AT_HandleCMD                  4      0      0
     AT_AF_Cmd_R_CIDDISC_rsp            0      0      0
     AT_AF_Cmd_send_simple_             0      0     35
       -> AF_DataRequest                0      0     66
     AT_AF_MessageMSGCB                 0      0     10
       -> AT_AF_Cmd_REPPRINT_CB         0      0     20
       -> AT_AF_Cmd_REPENABLE_CB        0      0     20
       -> AT_AF_Cmd_HA_DISC_CB          0      0     20
       -> AT_AF_Cmd_HA_CIDDISC_CB       0      0     20
       -> AT_AF_Cmd_R_CIDDISC_CB        0      0     20
       -> AT_AF_TEST_KEY_CB             0      0     20
       -> AT_AF_Cmd_POWER_SVING_EXP_CB
                                        0      0     20
     AT_AF_Register                     2      0      0
       -> afRegister                    4      0      0
       -> aps_AddGroup                  4      0      0
     AT_AF_TEST_KEY_CB                  2      0     10
       -> HalLedBlink                   4      0      0


   Segment part sizes:

     Function/Label                         Bytes
     --------------                         -----
     AT_AF_Group                              18
     AT_AF_ClusterList                        14
     AT_AF_SimpleDesc                         12
     AT_AF_epDesc                              6
     AT_AF_TransID                             1
     AT_AF_Register                           46
     ?Subroutine0                              7
     AT_AF_MessageMSGCB                       73
     ?Subroutine1                              5
     ??Subroutine45_0                          8
     AT_AF_Cmd_send_simple_                  118
     ?Subroutine2                              5
     AT_AF_Cmd_REPPRINT_req                  260
     ?Subroutine23                             6
     ?Subroutine37                            11
     ?Subroutine19                            13
     ??Subroutine53_0                          9
     AT_AF_Cmd_REPPRINT_rsp                  277
     ??Subroutine39_0                          5
     ?Subroutine25                            19
     ??Subroutine41_0                          7
     ?Subroutine33                            19
     ?Subroutine3                             10
     ?Subroutine16                             5
     ?Subroutine35                             9
     ??Subroutine46_0                          5
     ??Subroutine51_0                          5
     ??Subroutine52_0                          6
     AT_AF_Cmd_REPPRINT_CB                    26
     ?Subroutine7                              5
     ??Subroutine44_0                          8
     AT_AF_Cmd_REPENABLE_req                 190
     ?Subroutine28                             9
     ?Subroutine8                             36
     ?Subroutine14                            10
     ?Subroutine34                             2
     ??Subroutine42_0                          2
     ??Subroutine43_0                          6
     ?Subroutine4                              9
     ?Subroutine26                             4
     AT_AF_Cmd_REPENABLE_rsp                 183
     ?Subroutine38                             5
     ?Subroutine20                             5
     ??Subroutine40_0                          6
     ?Subroutine10                            28
     AT_AF_Cmd_REPENABLE_CB                   20
     AT_AF_Cmd_HA_DISC_CB                     20
     AT_AF_Cmd_HA_DISC_req                   347
     ?Subroutine31                            10
     ?Subroutine9                             29
     ?Subroutine5                              7
     ?Subroutine17                             8
     AT_AF_Cmd_HA_DISC_rsp                   176
     ?Subroutine12                             6
     ?Subroutine36                             3
     ??Subroutine49_0                          6
     ?Subroutine29                            17
     AT_AF_Cmd_HA_CIDDISC_CB                  17
     AT_AF_Cmd_HA_CIDDISC_req                464
     ?Subroutine24                             9
     ?Subroutine15                             1
     ??Subroutine47_0                          8
     ?Subroutine13                             5
     ?Subroutine32                             7
     ??Subroutine48_0                         14
     ?Subroutine11                             7
     ?Subroutine6                             10
     AT_AF_Cmd_HA_CIDDISC_rsp                320
     ?Subroutine30                             4
     ?Subroutine22                            16
     AT_AF_Cmd_R_CIDDISC_CB                   15
     AT_AF_Cmd_R_CIDDISC_req                  24
     AT_AF_Cmd_R_CIDDISC_rsp                   3
     AT_AF_TEST_KEY_CB                        20
     AT_AF_Cmd_PSE_req                       176
     ?Subroutine27                            14
     package_count                             2
     AT_AF_Cmd_POWER_SVING_EXP_CB            328
     ?Subroutine21                             3
     ??Subroutine50_0                          3
     ?Subroutine18                             9
     ?<Initializer for AT_AF_Group>           18
     ??AT_AF_Register?relay                    6
     ??AT_AF_MessageMSGCB?relay                6
     ??AT_AF_Cmd_send_simple_?relay            6
     ??AT_AF_Cmd_REPPRINT_req?relay            6
     ??AT_AF_Cmd_REPPRINT_rsp?relay            6
     ??AT_AF_Cmd_REPPRINT_CB?relay             6
     ??AT_AF_Cmd_REPENABLE_req?relay           6
     ??AT_AF_Cmd_REPENABLE_rsp?relay           6
     ??AT_AF_Cmd_REPENABLE_CB?relay            6
     ??AT_AF_Cmd_HA_DISC_CB?relay              6
     ??AT_AF_Cmd_HA_DISC_req?relay             6
     ??AT_AF_Cmd_HA_DISC_rsp?relay             6
     ??AT_AF_Cmd_HA_CIDDISC_CB?relay           6
     ??AT_AF_Cmd_HA_CIDDISC_req?relay          6
     ??AT_AF_Cmd_HA_CIDDISC_rsp?relay          6
     ??AT_AF_Cmd_R_CIDDISC_CB?relay            6
     ??AT_AF_Cmd_R_CIDDISC_req?relay           6
     ??AT_AF_Cmd_R_CIDDISC_rsp?relay           6
     ??AT_AF_TEST_KEY_CB?relay                 6
     ??AT_AF_Cmd_PSE_req?relay                 6
     ??AT_AF_Cmd_POWER_SVING_EXP_CB?relay      6
     ?<Constant {7}>                           1
     ?<Constant {7}>_1                         1
     ?<Constant "\r\n">                        3
     ?<Constant "<nodeID>,<EndPoint>:<...">   29
     ?<Constant "\n\r">                        3
     ?<Constant "UNKNOWN">                     8
     ?<Constant ",">                           2
     ?<Constant ":ENABLED">                    9
     ?<Constant ":DISABLED">                  10
     ?<Constant "ENABLED:">                    9
     ?<Constant "DISABLED:">                  10
     ?<Constant "UNKNOWNEP">                  10
     ?<Constant {7}>_2                         1
     ?<Constant "DEV:%04X,">                  10
     ?<Constant "%02X,">                       6
     ?<Constant "ENABLED">                     8
     ?<Constant "DISABLED">                    9
     ?<Constant "DISCCLUS:<Node ID>,<E...">   39
     ?<Constant "DISCCLUS:%04X">              14
     ?<Constant "DISCCLUS:UNKNOWN">           17
     ?<Constant ",%02X,%02X">                 11
     ?<Constant "SERVER:">                     8
     ?<Constant ",%04X">                       6
     ?<Constant "CLIENT:">                     8
     ?<Constant "RSSIRESP:LQI_send=%d,...">   54
     ?<Constant "RSSIRESP:LQI_receive=...">   63
     ?<Constant "%d packages are comin...">   45
     ?<Constant "Package Received:">          18
     ?<Constant "\r%d">                        4
     ?<Constant "Receive finished!">          18

 
 3 588 bytes in segment BANKED_CODE
   126 bytes in segment BANK_RELAYS
    18 bytes in segment XDATA_I
    18 bytes in segment XDATA_ID
   460 bytes in segment XDATA_ROM_C
     9 bytes in segment XDATA_Z
 
 3 732 bytes of CODE  memory
   460 bytes of CONST memory
    27 bytes of XDATA memory

Errors: none
Warnings: none
