###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         15/Jun/2015  20:13:30 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Components\stack\zcl\zcl_ligh #
#                          ting.c                                             #
#    Command line       =  -f "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\Tools\CC #
#                          2530DB\f8wCoord.cfg" (-DCPU32MHZ                   #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\Tools\CC #
#                          2530DB\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0      #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0x2015                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "S:\zigbee\Myzigbe\version  #
#                          3.0 for new ZStack-CC2530-2.5.1a\Components\stack\ #
#                          zcl\zcl_lighting.c" -D ZIGBEEPRO -D NWK_AUTO_POLL  #
#                          -D HAL_UART=TRUE -D HOLD_AUTO_START -D NV_RESTORE  #
#                          -D REFLECTOR -D HAL_UART_ISR=1 -D HAL_UART_DMA=0   #
#                          -D xHAL_UART_ISR_TX_MAX=200 -D xPOWER_SAVING -D    #
#                          ZCL_READ -D ZCL_WRITE -D ZCL_IDENTIFY -D           #
#                          ZCL_ON_OFF -D ZCL_DISCOVER -D xZTOOL_P1 -D         #
#                          xMT_TASK -D xMT_SYS_FUNC -D xMT_ZDO_FUNC -D        #
#                          xLCD_SUPPORTED=DEBUG -D xMT_UART_DEFAULT_OVERFLOW= #
#                          FALSE -lC "S:\zigbee\Myzigbe\version 3.0 for new   #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Lis #
#                          t\" -lA "S:\zigbee\Myzigbe\version 3.0 for new     #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Lis #
#                          t\" --diag_suppress Pe001,Pa010 -o                 #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Obj #
#                          \" -e --no_code_motion --debug --core=plain        #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "S:\zigbee\Myzigbe\version #
#                           3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          AT commands\AT command 3.2\CC2530DB\" -I           #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\Source\" -I    #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\ZMain\TI #
#                          2530DB\" -I "S:\zigbee\Myzigbe\version 3.0 for     #
#                          new ZStack-CC2530-2.5.1a\Projects\zstack\AT        #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\hal\include\" -I                          #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\hal\target\CC2530EB\" -I                  #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\include\" -I                          #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\high_level\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\low_level\srf04\" -I                  #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\low_level\srf04\single_chip\" -I      #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mt\" -I "S:\zigbee\Myzigbe\version 3.0    #
#                          for new ZStack-CC2530-2.5.1a\Projects\zstack\AT    #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\osal\include\" -I                         #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\services\saddr\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\services\sdata\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\af\" -I "S:\zigbee\Myzigbe\version  #
#                          3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\A #
#                          T commands\AT command 3.2\CC2530DB\..\..\..\..\..\ #
#                          Components\stack\nwk\" -I                          #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\sapi\" -I                           #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\sec\" -I "S:\zigbee\Myzigbe\version #
#                           3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          AT commands\AT command 3.2\CC2530DB\..\..\..\..\.. #
#                          \Components\stack\sys\" -I                         #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\zdo\" -I "S:\zigbee\Myzigbe\version #
#                           3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          AT commands\AT command 3.2\CC2530DB\..\..\..\..\.. #
#                          \Components\stack\zcl\" -I                         #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\zmac\" -I "S:\zigbee\Myzigbe\version 3.0  #
#                          for new ZStack-CC2530-2.5.1a\Projects\zstack\AT    #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\zmac\f8w\" -Ohz --require_prototypes      #
#    List file          =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Lis #
#                          t\zcl_lighting.lst                                 #
#    Object file        =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Obj #
#                          \zcl_lighting.r51                                  #
#                                                                             #
#                                                                             #
###############################################################################

S:\zigbee\Myzigbe\version 3.0 for new ZStack-CC2530-2.5.1a\Components\stack\zcl\zcl_lighting.c
      1          /**************************************************************************************************
      2            Filename:       zcl_lighting.c
      3            Revised:        $Date: 2010-02-09 15:28:14 -0800 (Tue, 09 Feb 2010) $
      4            Revision:       $Revision: 21679 $
      5          
      6            Description:    Zigbee Cluster Library -  Lighting
      7          
      8          
      9            Copyright 2006-2010 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, 
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com. 
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41           * INCLUDES
     42           */
     43          #include "ZComDef.h"
     44          #include "OSAL.h"
     45          #include "zcl.h"
     46          #include "zcl_general.h"
     47          #include "zcl_lighting.h"
     48          
     49          #if defined ( INTER_PAN )
     50            #include "stub_aps.h"
     51          #endif
     52          
     53          /*********************************************************************
     54           * MACROS
     55           */
     56          
     57          /*********************************************************************
     58           * CONSTANTS
     59           */
     60          
     61          /*********************************************************************
     62           * TYPEDEFS
     63           */
     64          typedef struct zclLightingCBRec
     65          {
     66            struct zclLightingCBRec     *next;
     67            uint8                       endpoint; // Used to link it into the endpoint descriptor
     68            zclLighting_AppCallbacks_t  *CBs;     // Pointer to Callback function
     69          } zclLightingCBRec_t;
     70          
     71          /*********************************************************************
     72           * GLOBAL VARIABLES
     73           */
     74          
     75          /*********************************************************************
     76           * GLOBAL FUNCTIONS
     77           */
     78          
     79          /*********************************************************************
     80           * LOCAL VARIABLES
     81           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     82          static zclLightingCBRec_t *zclLightingCBs = (zclLightingCBRec_t *)NULL;
   \                     zclLightingCBs:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     83          static uint8 zclLightingPluginRegisted = FALSE;
   \                     zclLightingPluginRegisted:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     84          
     85          /*********************************************************************
     86           * LOCAL FUNCTIONS
     87           */
     88          static ZStatus_t zclLighting_HdlIncoming( zclIncoming_t *pInHdlrMsg );
     89          static ZStatus_t zclLighting_HdlInSpecificCommands( zclIncoming_t *pInMsg );
     90          static zclLighting_AppCallbacks_t *zclLighting_FindCallbacks( uint8 endpoint );
     91          
     92          static ZStatus_t zclLighting_ProcessInColorControlCmds( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
     93          
     94          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToHue( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
     95          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveHue( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
     96          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_StepHue( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
     97          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToSaturation( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
     98          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveSaturation( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
     99          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_StepSaturation( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
    100          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToHueAndSaturation( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
    101          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToColor( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
    102          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveColor( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
    103          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_StepColor( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
    104          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToColorTemperature( zclIncoming_t *pInMsg, zclLighting_AppCallbacks_t *pCBs );
    105          
    106          
    107          /*********************************************************************
    108           * @fn      zclLighting_RegisterCmdCallbacks
    109           *
    110           * @brief   Register an applications command callbacks
    111           *
    112           * @param   endpoint - application's endpoint
    113           * @param   callbacks - pointer to the callback record.
    114           *
    115           * @return  ZMemError if not able to allocate
    116           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    117          ZStatus_t zclLighting_RegisterCmdCallbacks( uint8 endpoint, zclLighting_AppCallbacks_t *callbacks )
   \                     zclLighting_RegisterCmdCallbacks:
    118          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 0,R1
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
   \   000009   EB           MOV     A,R3
   \   00000A   FF           MOV     R7,A
    119            zclLightingCBRec_t *pNewItem;
    120            zclLightingCBRec_t *pLoop;
    121          
    122            // Register as a ZCL Plugin
    123            if ( zclLightingPluginRegisted == FALSE )
   \   00000B   90....       MOV     DPTR,#zclLightingPluginRegisted
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   7021         JNZ     ??zclLighting_RegisterCmdCallbacks_0
    124            {
    125              zcl_registerPlugin( ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    126                                  ZCL_CLUSTER_ID_LIGHTING_BALLAST_CONFIG,
    127                                  zclLighting_HdlIncoming );
   \   000011                ; Setup parameters for call to function zcl_registerPlugin
   \   000011   75....       MOV     ?V0 + 2,#??zclLighting_HdlIncoming?relay & 0xff
   \   000014   75....       MOV     ?V0 + 3,#(??zclLighting_HdlIncoming?relay >> 8) & 0xff
   \   000017   78..         MOV     R0,#?V0 + 2
   \   000019   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001C   7C01         MOV     R4,#0x1
   \   00001E   7D03         MOV     R5,#0x3
   \   000020   7A00         MOV     R2,#0x0
   \   000022   7B03         MOV     R3,#0x3
   \   000024   12....       LCALL   ??zcl_registerPlugin?relay
   \   000027   7402         MOV     A,#0x2
   \   000029   12....       LCALL   ?DEALLOC_XSTACK8
    128              zclLightingPluginRegisted = TRUE;
   \   00002C   90....       MOV     DPTR,#zclLightingPluginRegisted
   \   00002F   7401         MOV     A,#0x1
   \   000031   F0           MOVX    @DPTR,A
    129            }
    130          
    131            // Fill in the new profile list
    132            pNewItem = osal_mem_alloc( sizeof( zclLightingCBRec_t ) );
   \                     ??zclLighting_RegisterCmdCallbacks_0:
   \   000032                ; Setup parameters for call to function osal_mem_alloc
   \   000032   7A05         MOV     R2,#0x5
   \   000034   7B00         MOV     R3,#0x0
   \   000036   12....       LCALL   ??osal_mem_alloc?relay
   \   000039   8A..         MOV     ?V0 + 2,R2
   \   00003B   8B..         MOV     ?V0 + 3,R3
   \   00003D   A8..         MOV     R0,?V0 + 2
   \   00003F   A9..         MOV     R1,?V0 + 3
    133            if ( pNewItem == NULL )
   \   000041   E8           MOV     A,R0
   \   000042   49           ORL     A,R1
   \   000043   7004         JNZ     ??zclLighting_RegisterCmdCallbacks_1
    134              return (ZMemError);
   \   000045   7910         MOV     R1,#0x10
   \   000047   8041         SJMP    ??zclLighting_RegisterCmdCallbacks_2
    135          
    136            pNewItem->next = (zclLightingCBRec_t *)NULL;
   \                     ??zclLighting_RegisterCmdCallbacks_1:
   \   000049   8882         MOV     DPL,R0
   \   00004B   8983         MOV     DPH,R1
   \   00004D   E4           CLR     A
   \   00004E   F0           MOVX    @DPTR,A
   \   00004F   A3           INC     DPTR
   \   000050   12....       LCALL   ??Subroutine51_0 & 0xFFFF
    137            pNewItem->endpoint = endpoint;
   \                     ??CrossCallReturnLabel_94:
   \   000053   E5..         MOV     A,?V0 + 0
   \   000055   12....       LCALL   ??Subroutine51_0 & 0xFFFF
    138            pNewItem->CBs = callbacks;
   \                     ??CrossCallReturnLabel_95:
   \   000058   A3           INC     DPTR
   \   000059   EE           MOV     A,R6
   \   00005A   F0           MOVX    @DPTR,A
   \   00005B   A3           INC     DPTR
   \   00005C   EF           MOV     A,R7
   \   00005D   F0           MOVX    @DPTR,A
    139          
    140            // Find spot in list
    141            if ( zclLightingCBs == NULL )
   \   00005E   90....       MOV     DPTR,#zclLightingCBs
   \   000061   E0           MOVX    A,@DPTR
   \   000062   FA           MOV     R2,A
   \   000063   A3           INC     DPTR
   \   000064   E0           MOVX    A,@DPTR
   \   000065   FB           MOV     R3,A
   \   000066   EA           MOV     A,R2
   \   000067   4B           ORL     A,R3
   \   000068   7008         JNZ     ??zclLighting_RegisterCmdCallbacks_3
    142            {
    143              zclLightingCBs = pNewItem;
   \   00006A   90....       MOV     DPTR,#zclLightingCBs
   \   00006D   8014         SJMP    ??zclLighting_RegisterCmdCallbacks_4
    144            }
    145            else
    146            {
    147              // Look for end of list
    148              pLoop = zclLightingCBs;
    149              while ( pLoop->next != NULL )
    150                pLoop = pLoop->next;
   \                     ??zclLighting_RegisterCmdCallbacks_5:
   \   00006F   E0           MOVX    A,@DPTR
   \   000070   FA           MOV     R2,A
   \   000071   A3           INC     DPTR
   \                     ??zclLighting_RegisterCmdCallbacks_3:
   \   000072   E0           MOVX    A,@DPTR
   \   000073   FB           MOV     R3,A
   \   000074   8A82         MOV     DPL,R2
   \   000076   8B83         MOV     DPH,R3
   \   000078   12....       LCALL   ??Subroutine48_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   00007B   EC           MOV     A,R4
   \   00007C   4D           ORL     A,R5
   \   00007D   8A82         MOV     DPL,R2
   \   00007F   8B83         MOV     DPH,R3
   \   000081   70EC         JNZ     ??zclLighting_RegisterCmdCallbacks_5
    151          
    152              // Put new item at end of list
    153              pLoop->next = pNewItem;
   \                     ??zclLighting_RegisterCmdCallbacks_4:
   \   000083   E8           MOV     A,R0
   \   000084   F0           MOVX    @DPTR,A
   \   000085   A3           INC     DPTR
   \   000086   E9           MOV     A,R1
   \   000087   F0           MOVX    @DPTR,A
    154            }
    155            
    156            return ( ZSuccess );
   \   000088   7900         MOV     R1,#0x0
   \                     ??zclLighting_RegisterCmdCallbacks_2:
   \   00008A   02....       LJMP    ??Subroutine46_0 & 0xFFFF
    157          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine46_0:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine48_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FC           MOV     R4,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FD           MOV     R5,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine51_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8882         MOV     DPL,R0
   \   000003   8983         MOV     DPH,R1
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   22           RET
    158          
    159          /*********************************************************************
    160           * @fn      zclLighting_ColorControl_Send_MoveToHueCmd
    161           *
    162           * @brief   Call to send out a Move To Hue Command
    163           *
    164           * @param   srcEP - Sending application's endpoint
    165           * @param   dstAddr - where you want the message to go
    166           * @param   hue - target hue value
    167           * @param   direction - direction of hue change
    168           * @param   transitionTime - tame taken to move to the target hue in 1/10 sec increments
    169           * @param   disableDefaultRsp - whether to disable the Default Response command
    170           * @param   seqNum - sequence number
    171           *
    172           * @return  ZStatus_t
    173           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    174          ZStatus_t zclLighting_ColorControl_Send_MoveToHueCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveToHueCmd:
    175                                                                uint8 hue, uint8 direction, uint16 transitionTime, 
    176                                                                uint8 disableDefaultRsp, uint8 seqNum )
    177          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   8D..         MOV     ?V0 + 0,R5
   \   000010   7410         MOV     A,#0x10
   \   000012   12....       LCALL   ?XSTACK_DISP0_8
   \   000015   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   000018   7412         MOV     A,#0x12
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   FC           MOV     R4,A
   \   00001F   7413         MOV     A,#0x13
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
    178            uint8 buf[4];
    179            
    180            buf[0] = hue;
    181            buf[1] = direction;
   \                     ??CrossCallReturnLabel_30:
   \   000027   12....       LCALL   ?XSTACK_DISP0_8
   \   00002A   E5..         MOV     A,?V0 + 0
   \   00002C   F0           MOVX    @DPTR,A
    182            buf[2] = LO_UINT16( transitionTime );
   \   00002D   7402         MOV     A,#0x2
   \   00002F   12....       LCALL   ?XSTACK_DISP0_8
   \   000032   E8           MOV     A,R0
   \   000033   F0           MOVX    @DPTR,A
    183            buf[3] = HI_UINT16( transitionTime );
   \   000034   7403         MOV     A,#0x3
   \   000036   12....       LCALL   ?XSTACK_DISP0_8
   \   000039   12....       LCALL   ?Subroutine26 & 0xFFFF
    184          
    185            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    186                                    COMMAND_LIGHTING_MOVE_TO_HUE, TRUE, 
    187                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 4, buf );
   \                     ??CrossCallReturnLabel_65:
   \   00003C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003F   75..04       MOV     ?V0 + 2,#0x4
   \   000042   75..00       MOV     ?V0 + 3,#0x0
   \   000045   78..         MOV     R0,#?V0 + 2
   \   000047   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004A   ED           MOV     A,R5
   \   00004B   F5..         MOV     ?V0 + 1,A
   \   00004D   78..         MOV     R0,#?V0 + 1
   \   00004F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000052   E4           CLR     A
   \   000053   F5..         MOV     ?V0 + 2,A
   \   000055   78..         MOV     R0,#?V0 + 2
   \   000057   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005A   EC           MOV     A,R4
   \   00005B   F5..         MOV     ?V0 + 1,A
   \   00005D   78..         MOV     R0,#?V0 + 1
   \   00005F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000062   75..00       MOV     ?V0 + 1,#0x0
   \   000065   78..         MOV     R0,#?V0 + 1
   \   000067   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006A   75..01       MOV     ?V0 + 1,#0x1
   \   00006D   78..         MOV     R0,#?V0 + 1
   \   00006F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000072   75..00       MOV     ?V0 + 1,#0x0
   \   000075   02....       LJMP    ?Subroutine0 & 0xFFFF
    188          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   E9           MOV     A,R1
   \   000001                REQUIRE ??Subroutine42_0
   \   000001                ; // Fall through to label ??Subroutine42_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine42_0:
   \   000000   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   000003   8582..       MOV     ?V0 + 2,DPL
   \   000006   8583..       MOV     ?V0 + 3,DPH
   \   000009   78..         MOV     R0,#?V0 + 2
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for call to function zcl_SendCommand
   \   000001                ; Setup parameters for indirect call
   \   000001                ; Setup parameters for indirect call
   \   000001                ; Setup parameters for indirect call
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   78..         MOV     R0,#?V0 + 1
   \   000002   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000005                REQUIRE ??Subroutine44_0
   \   000005                ; // Fall through to label ??Subroutine44_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine44_0:
   \   000000   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   000003   12....       LCALL   ?DEALLOC_XSTACK8
   \   000006   7404         MOV     A,#0x4
   \   000008                REQUIRE ??Subroutine45_0
   \   000008                ; // Fall through to label ??Subroutine45_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine45_0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine46_0
   \   000003                ; // Fall through to label ??Subroutine46_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FD           MOV     R5,A
   \   000002   EF           MOV     A,R7
   \   000003   85..82       MOV     DPL,?XSP + 0
   \   000006   85..83       MOV     DPH,?XSP + 1
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   7401         MOV     A,#0x1
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   12....       LCALL   ??Subroutine52_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_118:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   7C00         MOV     R4,#0x0
   \   000002   7D03         MOV     R5,#0x3
   \   000004   EE           MOV     A,R6
   \   000005   F9           MOV     R1,A
   \   000006   12....       LCALL   ??zcl_SendCommand?relay
   \   000009   740B         MOV     A,#0xb
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine52_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET
    189          
    190          /*********************************************************************
    191           * @fn      zclLighting_ColorControl_Send_MoveHueCmd
    192           *
    193           * @brief   Call to send out a Move To Hue Command
    194           *
    195           * @param   srcEP - Sending application's endpoint
    196           * @param   dstAddr - where you want the message to go
    197           * @param   moveMode - LIGHTING_MOVE_HUE_STOP, LIGHTING_MOVE_HUE_UP,
    198           *                     LIGHTING_MOVE_HUE_DOWN
    199           * @param   rate - the movement in steps per second, where step is
    200           *                 a change in the device's hue of one unit
    201           * @param   disableDefaultRsp - whether to disable the Default Response command
    202           * @param   seqNum - sequence number
    203           *
    204           * @return  ZStatus_t
    205           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    206          ZStatus_t zclLighting_ColorControl_Send_MoveHueCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveHueCmd:
    207                                                              uint8 moveMode, uint8 rate, 
    208                                                              uint8 disableDefaultRsp, uint8 seqNum )
    209          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   740D         MOV     A,#0xd
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F9           MOV     R1,A
   \   000015   740E         MOV     A,#0xe
   \   000017   12....       LCALL   ?XSTACK_DISP0_8
   \   00001A   12....       LCALL   ?Subroutine6 & 0xFFFF
    210            uint8 buf[2];
    211            
    212            buf[0] = moveMode;
    213            buf[1] = rate;
   \                     ??CrossCallReturnLabel_0:
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   12....       LCALL   ?Subroutine25 & 0xFFFF
    214          
    215            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    216                                    COMMAND_LIGHTING_MOVE_HUE, TRUE, 
    217                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 2, buf );
   \                     ??CrossCallReturnLabel_70:
   \   000023   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000026   75..02       MOV     ?V0 + 0,#0x2
   \   000029   75..00       MOV     ?V0 + 1,#0x0
   \   00002C   78..         MOV     R0,#?V0 + 0
   \   00002E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000031   EC           MOV     A,R4
   \   000032   F5..         MOV     ?V0 + 0,A
   \   000034   78..         MOV     R0,#?V0 + 0
   \   000036   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000039   E4           CLR     A
   \   00003A   F5..         MOV     ?V0 + 0,A
   \   00003C   78..         MOV     R0,#?V0 + 0
   \   00003E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000041   E9           MOV     A,R1
   \   000042   F5..         MOV     ?V0 + 0,A
   \   000044   78..         MOV     R0,#?V0 + 0
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000049   75..00       MOV     ?V0 + 0,#0x0
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000051   75..01       MOV     ?V0 + 0,#0x1
   \   000054   78..         MOV     R0,#?V0 + 0
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000059   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   ED           MOV     A,R5
   \   000001                REQUIRE ??Subroutine43_0
   \   000001                ; // Fall through to label ??Subroutine43_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine43_0:
   \   000000   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   000003   8582..       MOV     ?V0 + 0,DPL
   \   000006   8583..       MOV     ?V0 + 1,DPH
   \   000009   78..         MOV     R0,#?V0 + 0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FC           MOV     R4,A
   \   000002   EF           MOV     A,R7
   \   000003   85..82       MOV     DPL,?XSP + 0
   \   000006   85..83       MOV     DPH,?XSP + 1
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   7401         MOV     A,#0x1
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   78..         MOV     R0,#?V0 + 0
   \   000002   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000005   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   000008   12....       LCALL   ?DEALLOC_XSTACK8
   \   00000B   7402         MOV     A,#0x2
   \   00000D                REQUIRE ??Subroutine47_0
   \   00000D                ; // Fall through to label ??Subroutine47_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine47_0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F03         MOV     R7,#0x3
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA
    218          }
    219          
    220          /*********************************************************************
    221           * @fn      zclLighting_ColorControl_Send_StepHueCmd
    222           *
    223           * @brief   Call to send out a Step Hue Command
    224           *
    225           * @param   srcEP - Sending application's endpoint
    226           * @param   dstAddr - where you want the message to go
    227           * @param   stepMode -	LIGHTING_STEP_HUE_UP, LIGHTING_STEP_HUE_DOWN
    228           * @param   stepSize -  change to the current value of the device's hue
    229           * @param   transitionTime - the movement in steps per 1/10 second
    230           * @param   disableDefaultRsp - whether to disable the Default Response command
    231           * @param   seqNum - sequence number
    232           *
    233           * @return  ZStatus_t
    234           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    235          ZStatus_t zclLighting_ColorControl_Send_StepHueCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_StepHueCmd:
    236                                            uint8 stepMode, uint8 stepSize, uint8 transitionTime, 
    237                                            uint8 disableDefaultRsp, uint8 seqNum )
    238          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   740F         MOV     A,#0xf
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F8           MOV     R0,A
   \   000015   7410         MOV     A,#0x10
   \   000017   12....       LCALL   ?XSTACK_DISP0_8
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F9           MOV     R1,A
   \   00001C   7411         MOV     A,#0x11
   \   00001E   12....       LCALL   ?XSTACK_DISP0_8
   \   000021   12....       LCALL   ?Subroutine6 & 0xFFFF
    239            uint8 buf[3];
    240            
    241            buf[0] = stepMode;
    242            buf[1] = stepSize;
   \                     ??CrossCallReturnLabel_1:
   \   000024   12....       LCALL   ?XSTACK_DISP0_8
   \   000027   ED           MOV     A,R5
   \   000028   F0           MOVX    @DPTR,A
    243            buf[2] = transitionTime;
   \   000029   7402         MOV     A,#0x2
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   E8           MOV     A,R0
   \   00002F   12....       LCALL   ??Subroutine42_0 & 0xFFFF
    244          
    245            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    246                                    COMMAND_LIGHTING_STEP_HUE, TRUE, 
    247                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 3, buf );
   \                     ??CrossCallReturnLabel_68:
   \   000032   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000035   75..03       MOV     ?V0 + 2,#0x3
   \   000038   75..00       MOV     ?V0 + 3,#0x0
   \   00003B   78..         MOV     R0,#?V0 + 2
   \   00003D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000040   EC           MOV     A,R4
   \   000041   F5..         MOV     ?V0 + 1,A
   \   000043   78..         MOV     R0,#?V0 + 1
   \   000045   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000048   E4           CLR     A
   \   000049   F5..         MOV     ?V0 + 2,A
   \   00004B   78..         MOV     R0,#?V0 + 2
   \   00004D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000050   E9           MOV     A,R1
   \   000051   F5..         MOV     ?V0 + 1,A
   \   000053   78..         MOV     R0,#?V0 + 1
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000058   75..00       MOV     ?V0 + 1,#0x0
   \   00005B   78..         MOV     R0,#?V0 + 1
   \   00005D   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000060   75..01       MOV     ?V0 + 1,#0x1
   \   000063   78..         MOV     R0,#?V0 + 1
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000068   75..02       MOV     ?V0 + 1,#0x2
   \   00006B                REQUIRE ?Subroutine3
   \   00006B                ; // Fall through to label ?Subroutine3
    248          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   78..         MOV     R0,#?V0 + 1
   \   000002   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000005   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   000008   12....       LCALL   ?DEALLOC_XSTACK8
   \   00000B   7403         MOV     A,#0x3
   \   00000D   02....       LJMP    ??Subroutine45_0 & 0xFFFF
    249          
    250          /*********************************************************************
    251           * @fn      zclLighting_ColorControl_Send_MoveToSaturationCmd
    252           *
    253           * @brief   Call to send out a Move To Saturation Command
    254           *
    255           * @param   srcEP - Sending application's endpoint
    256           * @param   dstAddr - where you want the message to go
    257           * @param   saturation - target saturation value
    258           * @param   transitionTime - time taken move to the target saturation,
    259           *                           in 1/10 second units
    260           * @param   disableDefaultRsp - whether to disable the Default Response command
    261           * @param   seqNum - sequence number
    262           *
    263           * @return  ZStatus_t
    264           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    265          ZStatus_t zclLighting_ColorControl_Send_MoveToSaturationCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveToSaturationCmd:
    266                                                   uint8 saturation, uint16 transitionTime, 
    267                                                   uint8 disableDefaultRsp, uint8 seqNum )
    268          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   740F         MOV     A,#0xf
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   000016   7411         MOV     A,#0x11
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   12....       LCALL   ?Subroutine6 & 0xFFFF
    269            uint8 buf[3];
    270            
    271            buf[0] = saturation;
    272            buf[1] = LO_UINT16( transitionTime );
   \                     ??CrossCallReturnLabel_2:
   \   00001E   12....       LCALL   ?XSTACK_DISP0_8
   \   000021   E8           MOV     A,R0
   \   000022   F0           MOVX    @DPTR,A
    273            buf[2] = HI_UINT16( transitionTime );
   \   000023   7402         MOV     A,#0x2
   \   000025   12....       LCALL   ?XSTACK_DISP0_8
   \   000028   12....       LCALL   ?Subroutine26 & 0xFFFF
    274          
    275            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL, 
    276                                    COMMAND_LIGHTING_MOVE_TO_SATURATION, TRUE, 
    277                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 3, buf );
   \                     ??CrossCallReturnLabel_66:
   \   00002B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002E   75..03       MOV     ?V0 + 2,#0x3
   \   000031   75..00       MOV     ?V0 + 3,#0x0
   \   000034   78..         MOV     R0,#?V0 + 2
   \   000036   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000039   EC           MOV     A,R4
   \   00003A   F5..         MOV     ?V0 + 1,A
   \   00003C   78..         MOV     R0,#?V0 + 1
   \   00003E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000041   E4           CLR     A
   \   000042   F5..         MOV     ?V0 + 2,A
   \   000044   78..         MOV     R0,#?V0 + 2
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000049   ED           MOV     A,R5
   \   00004A   F5..         MOV     ?V0 + 1,A
   \   00004C   78..         MOV     R0,#?V0 + 1
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000051   75..00       MOV     ?V0 + 1,#0x0
   \   000054   78..         MOV     R0,#?V0 + 1
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000059   75..01       MOV     ?V0 + 1,#0x1
   \   00005C   78..         MOV     R0,#?V0 + 1
   \   00005E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000061   75..03       MOV     ?V0 + 1,#0x3
   \   000064   80..         SJMP    ?Subroutine3
    278          }
    279          
    280          /*********************************************************************
    281           * @fn      zclLighting_ColorControl_Send_MoveSaturationCmd
    282           *
    283           * @brief   Call to send out a Move Saturation Command
    284           *
    285           * @param   srcEP - Sending application's endpoint
    286           * @param   dstAddr - where you want the message to go
    287           * @param   moveMode - LIGHTING_MOVE_SATURATION_STOP, LIGHTING_MOVE_SATURATION_UP,
    288           *                     LIGHTING_MOVE_SATURATION_DOWN
    289           * @param   rate - rate of movement in step/sec; step is the device's saturation of one unit
    290           * @param   disableDefaultRsp - whether to disable the Default Response command
    291           * @param   seqNum - sequence number
    292           *
    293           * @return  ZStatus_t
    294           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    295          ZStatus_t zclLighting_ColorControl_Send_MoveSaturationCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveSaturationCmd:
    296                                                                     uint8 moveMode, uint8 rate, 
    297                                                                     uint8 disableDefaultRsp, uint8 seqNum )
    298          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   740D         MOV     A,#0xd
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F9           MOV     R1,A
   \   000015   740E         MOV     A,#0xe
   \   000017   12....       LCALL   ?XSTACK_DISP0_8
   \   00001A   12....       LCALL   ?Subroutine6 & 0xFFFF
    299            uint8 buf[2];
    300            
    301            buf[0] = moveMode;
    302            buf[1] = rate;
   \                     ??CrossCallReturnLabel_3:
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   12....       LCALL   ?Subroutine25 & 0xFFFF
    303          
    304            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL, 
    305                                    COMMAND_LIGHTING_MOVE_SATURATION, TRUE, 
    306                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 2, buf );
   \                     ??CrossCallReturnLabel_71:
   \   000023   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000026   75..02       MOV     ?V0 + 0,#0x2
   \   000029   75..00       MOV     ?V0 + 1,#0x0
   \   00002C   78..         MOV     R0,#?V0 + 0
   \   00002E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000031   EC           MOV     A,R4
   \   000032   F5..         MOV     ?V0 + 0,A
   \   000034   78..         MOV     R0,#?V0 + 0
   \   000036   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000039   E4           CLR     A
   \   00003A   F5..         MOV     ?V0 + 0,A
   \   00003C   78..         MOV     R0,#?V0 + 0
   \   00003E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000041   E9           MOV     A,R1
   \   000042   F5..         MOV     ?V0 + 0,A
   \   000044   78..         MOV     R0,#?V0 + 0
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000049   75..00       MOV     ?V0 + 0,#0x0
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000051   75..01       MOV     ?V0 + 0,#0x1
   \   000054   78..         MOV     R0,#?V0 + 0
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000059   75..04       MOV     ?V0 + 0,#0x4
   \   00005C   02....       LJMP    ?Subroutine1 & 0xFFFF
    307          }
    308          
    309          /*********************************************************************
    310           * @fn      zclLighting_ColorControl_Send_StepSaturationCmd
    311           *
    312           * @brief   Call to send out a Step Saturation Command
    313           *
    314           * @param   srcEP - Sending application's endpoint
    315           * @param   dstAddr - where you want the message to go
    316           * @param   stepMode -  LIGHTING_STEP_SATURATION_UP, LIGHTING_STEP_SATURATION_DOWN
    317           * @param   stepSize -  change to the current value of the device's hue
    318           * @param   transitionTime - time to perform a single step in 1/10 of second
    319           * @param   disableDefaultRsp - whether to disable the Default Response command
    320           * @param   seqNum - sequence number
    321           *
    322           * @return  ZStatus_t
    323           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    324          ZStatus_t zclLighting_ColorControl_Send_StepSaturationCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_StepSaturationCmd:
    325                                                   uint8 stepMode, uint8 stepSize, uint8 transitionTime, 
    326                                                   uint8 disableDefaultRsp, uint8 seqNum )
    327          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   740F         MOV     A,#0xf
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F8           MOV     R0,A
   \   000015   7410         MOV     A,#0x10
   \   000017   12....       LCALL   ?XSTACK_DISP0_8
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F9           MOV     R1,A
   \   00001C   7411         MOV     A,#0x11
   \   00001E   12....       LCALL   ?XSTACK_DISP0_8
   \   000021   12....       LCALL   ?Subroutine6 & 0xFFFF
    328            uint8 buf[3];
    329            
    330            buf[0] = stepMode;
    331            buf[1] = stepSize;
   \                     ??CrossCallReturnLabel_4:
   \   000024   12....       LCALL   ?XSTACK_DISP0_8
   \   000027   ED           MOV     A,R5
   \   000028   F0           MOVX    @DPTR,A
    332            buf[2] = transitionTime;
   \   000029   7402         MOV     A,#0x2
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   E8           MOV     A,R0
   \   00002F   12....       LCALL   ??Subroutine42_0 & 0xFFFF
    333            
    334            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    335                                    COMMAND_LIGHTING_STEP_SATURATION, TRUE, 
    336                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 3, buf );
   \                     ??CrossCallReturnLabel_69:
   \   000032   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000035   75..03       MOV     ?V0 + 2,#0x3
   \   000038   75..00       MOV     ?V0 + 3,#0x0
   \   00003B   78..         MOV     R0,#?V0 + 2
   \   00003D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000040   EC           MOV     A,R4
   \   000041   F5..         MOV     ?V0 + 1,A
   \   000043   78..         MOV     R0,#?V0 + 1
   \   000045   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000048   E4           CLR     A
   \   000049   F5..         MOV     ?V0 + 2,A
   \   00004B   78..         MOV     R0,#?V0 + 2
   \   00004D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000050   E9           MOV     A,R1
   \   000051   F5..         MOV     ?V0 + 1,A
   \   000053   78..         MOV     R0,#?V0 + 1
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000058   75..00       MOV     ?V0 + 1,#0x0
   \   00005B   78..         MOV     R0,#?V0 + 1
   \   00005D   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000060   75..01       MOV     ?V0 + 1,#0x1
   \   000063   78..         MOV     R0,#?V0 + 1
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000068   75..05       MOV     ?V0 + 1,#0x5
   \   00006B   02....       LJMP    ?Subroutine3 & 0xFFFF
    337          }
    338          
    339          /*********************************************************************
    340           * @fn      zclLighting_ColorControl_Send_MoveToHueAndSaturationCmd
    341           *
    342           * @brief   Call to send out a Move To Hue And Saturation Command
    343           *
    344           * @param   srcEP - Sending application's endpoint
    345           * @param   dstAddr - where you want the message to go
    346           * @param   hue - a target hue
    347           * @param   saturation - a target saturation
    348           * @param   transitionTime -  time to move, equal of the value of the field in 1/10 seconds
    349           * @param   disableDefaultRsp - whether to disable the Default Response command
    350           * @param   seqNum - sequence number
    351           *
    352           * @return  ZStatus_t
    353           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    354          ZStatus_t zclLighting_ColorControl_Send_MoveToHueAndSaturationCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveToHueAndSaturationCmd:
    355                                                             uint8 hue, uint8 saturation, uint16 transitionTime, 
    356                                                             uint8 disableDefaultRsp, uint8 seqNum )
    357          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   EC           MOV     A,R4
   \   00000D   FF           MOV     R7,A
   \   00000E   8D..         MOV     ?V0 + 0,R5
   \   000010   7410         MOV     A,#0x10
   \   000012   12....       LCALL   ?XSTACK_DISP0_8
   \   000015   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000018   7412         MOV     A,#0x12
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   FC           MOV     R4,A
   \   00001F   7413         MOV     A,#0x13
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
    358            uint8 buf[4];
    359            
    360            buf[0] = hue;
    361            buf[1] = saturation;
   \                     ??CrossCallReturnLabel_31:
   \   000027   12....       LCALL   ?XSTACK_DISP0_8
   \   00002A   E5..         MOV     A,?V0 + 0
   \   00002C   F0           MOVX    @DPTR,A
    362            buf[2] = LO_UINT16( transitionTime );
   \   00002D   7402         MOV     A,#0x2
   \   00002F   12....       LCALL   ?XSTACK_DISP0_8
   \   000032   E8           MOV     A,R0
   \   000033   F0           MOVX    @DPTR,A
    363            buf[3] = HI_UINT16( transitionTime );
   \   000034   7403         MOV     A,#0x3
   \   000036   12....       LCALL   ?XSTACK_DISP0_8
   \   000039   12....       LCALL   ?Subroutine26 & 0xFFFF
    364          
    365            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    366                                    COMMAND_LIGHTING_MOVE_TO_HUE_AND_SATURATION, TRUE, 
    367                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 4, buf );
   \                     ??CrossCallReturnLabel_67:
   \   00003C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003F   75..04       MOV     ?V0 + 2,#0x4
   \   000042   75..00       MOV     ?V0 + 3,#0x0
   \   000045   78..         MOV     R0,#?V0 + 2
   \   000047   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004A   ED           MOV     A,R5
   \   00004B   F5..         MOV     ?V0 + 1,A
   \   00004D   78..         MOV     R0,#?V0 + 1
   \   00004F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000052   E4           CLR     A
   \   000053   F5..         MOV     ?V0 + 2,A
   \   000055   78..         MOV     R0,#?V0 + 2
   \   000057   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005A   EC           MOV     A,R4
   \   00005B   F5..         MOV     ?V0 + 1,A
   \   00005D   78..         MOV     R0,#?V0 + 1
   \   00005F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000062   75..00       MOV     ?V0 + 1,#0x0
   \   000065   78..         MOV     R0,#?V0 + 1
   \   000067   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006A   75..01       MOV     ?V0 + 1,#0x1
   \   00006D   78..         MOV     R0,#?V0 + 1
   \   00006F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000072   75..06       MOV     ?V0 + 1,#0x6
   \   000075   02....       LJMP    ?Subroutine0 & 0xFFFF
    368          }
    369          
    370          /*********************************************************************
    371           * @fn      zclLighting_ColorControl_Send_MoveToColorCmd
    372           *
    373           * @brief   Call to send out a Move To Color Command
    374           *
    375           * @param   srcEP - Sending application's endpoint
    376           * @param   dstAddr - where you want the message to go
    377           * @param   colorX - a target color X
    378           * @param   colorY - a target color Y
    379           * @param   transitionTime -  time to move, equal of the value of the field in 1/10 seconds
    380           * @param   disableDefaultRsp - whether to disable the Default Response command
    381           * @param   seqNum - sequence number
    382           *
    383           * @return  ZStatus_t
    384           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    385          ZStatus_t zclLighting_ColorControl_Send_MoveToColorCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveToColorCmd:
    386                                                 uint16 colorX, uint16 colorY, uint16 transitionTime, 
    387                                                 uint8 disableDefaultRsp, uint8 seqNum )
    388          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 6
   \   000005   74FA         MOV     A,#-0x6
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   7411         MOV     A,#0x11
   \   00000E   12....       LCALL   ?XSTACK_DISP0_8
   \   000011   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   000014   7413         MOV     A,#0x13
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00001C   7415         MOV     A,#0x15
   \   00001E   12....       LCALL   ?XSTACK_DISP0_8
   \   000021   E0           MOVX    A,@DPTR
   \   000022   FF           MOV     R7,A
   \   000023   7416         MOV     A,#0x16
   \   000025   12....       LCALL   ?XSTACK_DISP0_8
   \   000028   12....       LCALL   ?Subroutine16 & 0xFFFF
    389            uint8 buf[6];
    390            
    391            buf[0] = LO_UINT16( colorX );
    392            buf[1] = HI_UINT16( colorX );
   \                     ??CrossCallReturnLabel_28:
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   ED           MOV     A,R5
   \   00002F   F0           MOVX    @DPTR,A
    393            buf[2] = LO_UINT16( colorY );
   \   000030   7402         MOV     A,#0x2
   \   000032   12....       LCALL   ?XSTACK_DISP0_8
   \   000035   E5..         MOV     A,?V0 + 0
   \   000037   F0           MOVX    @DPTR,A
    394            buf[3] = HI_UINT16( colorY );
   \   000038   E5..         MOV     A,?V0 + 1
   \   00003A   F5..         MOV     ?V0 + 0,A
   \   00003C   7403         MOV     A,#0x3
   \   00003E   12....       LCALL   ?XSTACK_DISP0_8
   \   000041   E5..         MOV     A,?V0 + 0
   \   000043   F0           MOVX    @DPTR,A
    395            buf[4] = LO_UINT16( transitionTime );
   \   000044   7404         MOV     A,#0x4
   \   000046   12....       LCALL   ?XSTACK_DISP0_8
   \   000049   E8           MOV     A,R0
   \   00004A   F0           MOVX    @DPTR,A
    396            buf[5] = HI_UINT16( transitionTime );
   \   00004B   7405         MOV     A,#0x5
   \   00004D   12....       LCALL   ?XSTACK_DISP0_8
   \   000050   E9           MOV     A,R1
   \   000051   12....       LCALL   ??Subroutine43_0 & 0xFFFF
    397          
    398            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    399                                    COMMAND_LIGHTING_MOVE_TO_COLOR, TRUE, 
    400                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 6, buf );
   \                     ??CrossCallReturnLabel_73:
   \   000054   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000057   75..06       MOV     ?V0 + 0,#0x6
   \   00005A   75..00       MOV     ?V0 + 1,#0x0
   \   00005D   78..         MOV     R0,#?V0 + 0
   \   00005F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000062   E5..         MOV     A,?V0 + 2
   \   000064   F5..         MOV     ?V0 + 0,A
   \   000066   78..         MOV     R0,#?V0 + 0
   \   000068   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006B   E4           CLR     A
   \   00006C   F5..         MOV     ?V0 + 0,A
   \   00006E   78..         MOV     R0,#?V0 + 0
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   EF           MOV     A,R7
   \   000074   F5..         MOV     ?V0 + 0,A
   \   000076   78..         MOV     R0,#?V0 + 0
   \   000078   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00007B   75..00       MOV     ?V0 + 0,#0x0
   \   00007E   78..         MOV     R0,#?V0 + 0
   \   000080   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000083   75..01       MOV     ?V0 + 0,#0x1
   \   000086   78..         MOV     R0,#?V0 + 0
   \   000088   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00008B   75..07       MOV     ?V0 + 0,#0x7
   \   00008E   78..         MOV     R0,#?V0 + 0
   \   000090   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000093   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   000096   12....       LCALL   ?DEALLOC_XSTACK8
   \   000099   7406         MOV     A,#0x6
   \   00009B   80..         SJMP    ??Subroutine47_0
    401          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 1,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 2,A
   \   000003   EC           MOV     A,R4
   \   000004   85..82       MOV     DPL,?XSP + 0
   \   000007   85..83       MOV     DPH,?XSP + 1
   \   00000A   F0           MOVX    @DPTR,A
   \   00000B   7401         MOV     A,#0x1
   \   00000D   22           RET
    402          
    403          /*********************************************************************
    404           * @fn      zclLighting_ColorControl_Send_MoveColorCmd
    405           *
    406           * @brief   Call to send out a Move Color Command
    407           *
    408           * @param   srcEP - Sending application's endpoint
    409           * @param   dstAddr - where you want the message to go
    410           * @param   rateX - rate of movement in steps per second. A step is a change
    411           *                  in the device's CurrentX attribute of one unit.
    412           * @param   rateY - rate of movement in steps per second. A step is a change
    413           *                  in the device's CurrentY attribute of one unit.
    414           * @param   disableDefaultRsp - whether to disable the Default Response command
    415           * @param   seqNum - sequence number
    416           *
    417           * @return  ZStatus_t
    418           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    419          ZStatus_t zclLighting_ColorControl_Send_MoveColorCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveColorCmd:
    420                                                                int16 rateX, int16 rateY,
    421                                                                uint8 disableDefaultRsp, uint8 seqNum )
    422          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   8C..         MOV     ?V0 + 2,R4
   \   00000E   8D..         MOV     ?V0 + 3,R5
   \   000010   7410         MOV     A,#0x10
   \   000012   12....       LCALL   ?XSTACK_DISP0_8
   \   000015   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   000018   7412         MOV     A,#0x12
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   F9           MOV     R1,A
   \   00001F   7413         MOV     A,#0x13
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   E0           MOVX    A,@DPTR
   \   000025   FC           MOV     R4,A
    423            uint8 buf[4];
    424            
    425            buf[0] = LO_UINT16( rateX );
   \   000026   85..82       MOV     DPL,?XSP + 0
   \   000029   85..83       MOV     DPH,?XSP + 1
   \   00002C   E5..         MOV     A,?V0 + 2
   \   00002E   F0           MOVX    @DPTR,A
    426            buf[1] = HI_UINT16( rateX );
   \   00002F   7408         MOV     A,#0x8
   \   000031   78..         MOV     R0,#?V0 + 2
   \   000033   12....       LCALL   ?SS_SHR
   \   000036   04           INC     A
   \   000037   12....       LCALL   ?XSTACK_DISP0_8
   \   00003A   E5..         MOV     A,?V0 + 2
   \   00003C   F0           MOVX    @DPTR,A
    427            buf[2] = LO_UINT16( rateY );
   \   00003D   7402         MOV     A,#0x2
   \   00003F   12....       LCALL   ?XSTACK_DISP0_8
   \   000042   E5..         MOV     A,?V0 + 0
   \   000044   F0           MOVX    @DPTR,A
    428            buf[3] = HI_UINT16( rateY );
   \   000045   7408         MOV     A,#0x8
   \   000047   78..         MOV     R0,#?V0 + 0
   \   000049   12....       LCALL   ?SS_SHR
   \   00004C   7403         MOV     A,#0x3
   \   00004E   12....       LCALL   ?XSTACK_DISP0_8
   \   000051   E5..         MOV     A,?V0 + 0
   \   000053   12....       LCALL   ??Subroutine43_0 & 0xFFFF
    429          
    430            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    431                                    COMMAND_LIGHTING_MOVE_COLOR, TRUE, 
    432                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 4, buf );
   \                     ??CrossCallReturnLabel_74:
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000059   75..04       MOV     ?V0 + 0,#0x4
   \   00005C   75..00       MOV     ?V0 + 1,#0x0
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000064   EC           MOV     A,R4
   \   000065   F5..         MOV     ?V0 + 0,A
   \   000067   78..         MOV     R0,#?V0 + 0
   \   000069   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006C   E4           CLR     A
   \   00006D   F5..         MOV     ?V0 + 0,A
   \   00006F   78..         MOV     R0,#?V0 + 0
   \   000071   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000074   E9           MOV     A,R1
   \   000075   F5..         MOV     ?V0 + 0,A
   \   000077   78..         MOV     R0,#?V0 + 0
   \   000079   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00007C   75..00       MOV     ?V0 + 0,#0x0
   \   00007F   78..         MOV     R0,#?V0 + 0
   \   000081   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000084   75..01       MOV     ?V0 + 0,#0x1
   \   000087   78..         MOV     R0,#?V0 + 0
   \   000089   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00008C   75..08       MOV     ?V0 + 0,#0x8
   \   00008F   78..         MOV     R0,#?V0 + 0
   \   000091   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000094   02....       LJMP    ??Subroutine44_0 & 0xFFFF
    433          }
    434          
    435          /*********************************************************************
    436           * @fn      zclLighting_ColorControl_Send_StepColorCmd
    437           *
    438           * @brief   Call to send out a Step Color Command
    439           *
    440           * @param   srcEP - Sending application's endpoint
    441           * @param   dstAddr - where you want the message to go
    442           * @param   stepX - change to be added to the device's CurrentX attribute
    443           * @param   stepY - change to be added to the device's CurrentY attribute
    444           * @param   transitionTime -  time to perform the color change, equal of
    445           *                            the value of the field in 1/10 seconds
    446           * @param   disableDefaultRsp - whether to disable the Default Response command
    447           * @param   seqNum - sequence number
    448           *
    449           * @return  ZStatus_t
    450           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    451          ZStatus_t zclLighting_ColorControl_Send_StepColorCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_StepColorCmd:
    452                                                   int16 stepX, int16 stepY, uint16 transitionTime, 
    453                                                   uint8 disableDefaultRsp, uint8 seqNum )
    454          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 6
   \   000005   74FA         MOV     A,#-0x6
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   8C..         MOV     ?V0 + 2,R4
   \   00000E   8D..         MOV     ?V0 + 3,R5
   \   000010   7412         MOV     A,#0x12
   \   000012   12....       LCALL   ?XSTACK_DISP0_8
   \   000015   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   000018   7414         MOV     A,#0x14
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   12....       LCALL   ??Subroutine48_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   000020   7416         MOV     A,#0x16
   \   000022   12....       LCALL   ?XSTACK_DISP0_8
   \   000025   E0           MOVX    A,@DPTR
   \   000026   F9           MOV     R1,A
   \   000027   7417         MOV     A,#0x17
   \   000029   12....       LCALL   ?XSTACK_DISP0_8
   \   00002C   E0           MOVX    A,@DPTR
   \   00002D   FF           MOV     R7,A
    455            uint8 buf[6];
    456            
    457            buf[0] = LO_UINT16( stepX );
   \   00002E   85..82       MOV     DPL,?XSP + 0
   \   000031   85..83       MOV     DPH,?XSP + 1
   \   000034   E5..         MOV     A,?V0 + 2
   \   000036   F0           MOVX    @DPTR,A
    458            buf[1] = HI_UINT16( stepX );
   \   000037   7408         MOV     A,#0x8
   \   000039   78..         MOV     R0,#?V0 + 2
   \   00003B   12....       LCALL   ?SS_SHR
   \   00003E   04           INC     A
   \   00003F   12....       LCALL   ?XSTACK_DISP0_8
   \   000042   E5..         MOV     A,?V0 + 2
   \   000044   F0           MOVX    @DPTR,A
    459            buf[2] = LO_UINT16( stepY );
   \   000045   7402         MOV     A,#0x2
   \   000047   12....       LCALL   ?XSTACK_DISP0_8
   \   00004A   E5..         MOV     A,?V0 + 0
   \   00004C   F0           MOVX    @DPTR,A
    460            buf[3] = HI_UINT16( stepY );
   \   00004D   7408         MOV     A,#0x8
   \   00004F   78..         MOV     R0,#?V0 + 0
   \   000051   12....       LCALL   ?SS_SHR
   \   000054   7403         MOV     A,#0x3
   \   000056   12....       LCALL   ?XSTACK_DISP0_8
   \   000059   E5..         MOV     A,?V0 + 0
   \   00005B   F0           MOVX    @DPTR,A
    461            buf[4] = LO_UINT16( transitionTime );
   \   00005C   7404         MOV     A,#0x4
   \   00005E   12....       LCALL   ?XSTACK_DISP0_8
   \   000061   EC           MOV     A,R4
   \   000062   F0           MOVX    @DPTR,A
    462            buf[5] = HI_UINT16( transitionTime );
   \   000063   7405         MOV     A,#0x5
   \   000065   12....       LCALL   ?XSTACK_DISP0_8
   \   000068   12....       LCALL   ?Subroutine25 & 0xFFFF
    463          
    464            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    465                                    COMMAND_LIGHTING_STEP_COLOR, TRUE, 
    466                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 6, buf );
   \                     ??CrossCallReturnLabel_72:
   \   00006B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006E   75..06       MOV     ?V0 + 0,#0x6
   \   000071   75..00       MOV     ?V0 + 1,#0x0
   \   000074   78..         MOV     R0,#?V0 + 0
   \   000076   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000079   EF           MOV     A,R7
   \   00007A   F5..         MOV     ?V0 + 0,A
   \   00007C   78..         MOV     R0,#?V0 + 0
   \   00007E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000081   E4           CLR     A
   \   000082   F5..         MOV     ?V0 + 0,A
   \   000084   78..         MOV     R0,#?V0 + 0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000089   E9           MOV     A,R1
   \   00008A   F5..         MOV     ?V0 + 0,A
   \   00008C   78..         MOV     R0,#?V0 + 0
   \   00008E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000091   75..00       MOV     ?V0 + 0,#0x0
   \   000094   78..         MOV     R0,#?V0 + 0
   \   000096   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000099   75..01       MOV     ?V0 + 0,#0x1
   \   00009C   78..         MOV     R0,#?V0 + 0
   \   00009E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000A1   75..09       MOV     ?V0 + 0,#0x9
   \   0000A4   78..         MOV     R0,#?V0 + 0
   \   0000A6   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000A9   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   0000AC   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AF   7406         MOV     A,#0x6
   \   0000B1   02....       LJMP    ??Subroutine45_0 & 0xFFFF
    467          }
    468          
    469          /*********************************************************************
    470           * @fn      zclLighting_ColorControl_Send_MoveToColorTemperatureCmd
    471           *
    472           * @brief   Call to send out a Move To Color Temperature Command
    473           *
    474           * @param   srcEP - Sending application's endpoint
    475           * @param   dstAddr - where you want the message to go
    476           * @param   colorTemperature - a target color temperature
    477           * @param   transitionTime -  time to perform the color change, equal of
    478           *                            the value of the field in 1/10 seconds
    479           * @param   disableDefaultRsp - whether to disable the Default Response command
    480           * @param   seqNum - sequence number
    481           *
    482           * @return  ZStatus_t
    483           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    484          ZStatus_t zclLighting_ColorControl_Send_MoveToColorTemperatureCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zclLighting_ColorControl_Send_MoveToColorTemperatureCmd:
    485                                                                 uint16 colorTemperature, uint16 transitionTime, 
    486                                                                 uint8 disableDefaultRsp, uint8 seqNum )
    487          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   \   00000C   740F         MOV     A,#0xf
   \   00000E   12....       LCALL   ?XSTACK_DISP0_8
   \   000011   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   000014   7411         MOV     A,#0x11
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   FF           MOV     R7,A
   \   00001B   7412         MOV     A,#0x12
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   12....       LCALL   ?Subroutine16 & 0xFFFF
    488            uint8 buf[4];
    489            
    490            buf[0] = LO_UINT16( colorTemperature );
    491            buf[1] = HI_UINT16( colorTemperature );
   \                     ??CrossCallReturnLabel_29:
   \   000023   12....       LCALL   ?XSTACK_DISP0_8
   \   000026   ED           MOV     A,R5
   \   000027   F0           MOVX    @DPTR,A
    492            buf[2] = LO_UINT16( transitionTime );
   \   000028   7402         MOV     A,#0x2
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   E8           MOV     A,R0
   \   00002E   F0           MOVX    @DPTR,A
    493            buf[3] = HI_UINT16( transitionTime );
   \   00002F   7403         MOV     A,#0x3
   \   000031   12....       LCALL   ?XSTACK_DISP0_8
   \   000034   E9           MOV     A,R1
   \   000035   12....       LCALL   ??Subroutine43_0 & 0xFFFF
    494          
    495            return zcl_SendCommand( srcEP, dstAddr, ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL,
    496                                    COMMAND_LIGHTING_MOVE_TO_COLOR_TEMPERATURE, TRUE, 
    497                                    ZCL_FRAME_CLIENT_SERVER_DIR, disableDefaultRsp, 0, seqNum, 4, buf );
   \                     ??CrossCallReturnLabel_75:
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003B   75..04       MOV     ?V0 + 0,#0x4
   \   00003E   75..00       MOV     ?V0 + 1,#0x0
   \   000041   78..         MOV     R0,#?V0 + 0
   \   000043   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000046   E5..         MOV     A,?V0 + 2
   \   000048   F5..         MOV     ?V0 + 0,A
   \   00004A   78..         MOV     R0,#?V0 + 0
   \   00004C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00004F   E4           CLR     A
   \   000050   F5..         MOV     ?V0 + 0,A
   \   000052   78..         MOV     R0,#?V0 + 0
   \   000054   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000057   EF           MOV     A,R7
   \   000058   F5..         MOV     ?V0 + 0,A
   \   00005A   78..         MOV     R0,#?V0 + 0
   \   00005C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00005F   75..00       MOV     ?V0 + 0,#0x0
   \   000062   78..         MOV     R0,#?V0 + 0
   \   000064   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000067   75..01       MOV     ?V0 + 0,#0x1
   \   00006A   78..         MOV     R0,#?V0 + 0
   \   00006C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006F   75..0A       MOV     ?V0 + 0,#0xa
   \   000072   78..         MOV     R0,#?V0 + 0
   \   000074   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000077   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   00007A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00007D   7404         MOV     A,#0x4
   \   00007F   02....       LJMP    ??Subroutine47_0 & 0xFFFF
    498          }
    499          
    500          /*********************************************************************
    501           * @fn      zclLighting_FindCallbacks
    502           *
    503           * @brief   Find the callbacks for an endpoint
    504           *
    505           * @param   endpoint - endpoint to find the application callbacks for
    506           *
    507           * @return  pointer to the callbacks
    508           */
    509          static zclLighting_AppCallbacks_t *zclLighting_FindCallbacks( uint8 endpoint )
    510          {
    511            zclLightingCBRec_t *pCBs;
    512            
    513            pCBs = zclLightingCBs;
    514            while ( pCBs != NULL )
    515            {
    516              if ( pCBs->endpoint == endpoint )
    517                return ( pCBs->CBs );
    518              pCBs = pCBs->next;
    519            }
    520            return ( (zclLighting_AppCallbacks_t *)NULL );
    521          }
    522          
    523          /*********************************************************************
    524           * @fn      zclLighting_HdlIncoming
    525           *
    526           * @brief   Callback from ZCL to process incoming Commands specific
    527           *          to this cluster library or Profile commands for attributes
    528           *          that aren't in the attribute list
    529           *
    530           * @param   pInMsg - pointer to the incoming message
    531           *
    532           * @return  ZStatus_t
    533           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    534          static ZStatus_t zclLighting_HdlIncoming( zclIncoming_t *pInMsg )
   \                     zclLighting_HdlIncoming:
    535          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    536            ZStatus_t stat = ZSuccess;
    537          
    538          #if defined ( INTER_PAN )
    539            if ( StubAPS_InterPan( pInMsg->msg->srcAddr.panId, pInMsg->msg->srcAddr.endPoint ) )
    540              return ( stat ); // Cluster not supported thru Inter-PAN
    541          #endif
    542            if ( zcl_ClusterCmd( pInMsg->hdr.fc.type ) )
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   5403         ANL     A,#0x3
   \   00000D   6401         XRL     A,#0x1
   \   00000F   7055         JNZ     ??zclLighting_HdlIncoming_0
    543            {
    544              // Is this a manufacturer specific command?
    545              if ( pInMsg->hdr.fc.manuSpecific == 0 ) 
   \   000011   8A82         MOV     DPL,R2
   \   000013   8B83         MOV     DPH,R3
   \   000015   A3           INC     DPTR
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   5404         ANL     A,#0x4
   \   00001A   704A         JNZ     ??zclLighting_HdlIncoming_0
    546              {
    547                stat = zclLighting_HdlInSpecificCommands( pInMsg );
   \   00001C   8A82         MOV     DPL,R2
   \   00001E   8B83         MOV     DPH,R3
   \   000020   E0           MOVX    A,@DPTR
   \   000021   2414         ADD     A,#0x14
   \   000023   F8           MOV     R0,A
   \   000024   A3           INC     DPTR
   \   000025   E0           MOVX    A,@DPTR
   \   000026   12....       LCALL   ?Subroutine38 & 0xFFFF
    548              }
   \                     ??CrossCallReturnLabel_61:
   \   000029   FC           MOV     R4,A
   \   00002A   90....       MOV     DPTR,#zclLightingCBs
   \                     ??zclLighting_HdlIncoming_1:
   \   00002D   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   000030   6034         JZ      ??zclLighting_HdlIncoming_0
   \   000032   8882         MOV     DPL,R0
   \   000034   8983         MOV     DPH,R1
   \   000036   A3           INC     DPTR
   \   000037   A3           INC     DPTR
   \   000038   E0           MOVX    A,@DPTR
   \   000039   6C           XRL     A,R4
   \   00003A   8882         MOV     DPL,R0
   \   00003C   8983         MOV     DPH,R1
   \   00003E   70ED         JNZ     ??zclLighting_HdlIncoming_1
   \   000040   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   000043   EC           MOV     A,R4
   \   000044   4D           ORL     A,R5
   \   000045   601F         JZ      ??zclLighting_HdlIncoming_0
   \   000047   8A82         MOV     DPL,R2
   \   000049   8B83         MOV     DPH,R3
   \   00004B   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   00004E   A3           INC     DPTR
   \   00004F   A3           INC     DPTR
   \   000050   A3           INC     DPTR
   \   000051   A3           INC     DPTR
   \   000052   E0           MOVX    A,@DPTR
   \   000053   7004         JNZ     ??zclLighting_HdlIncoming_2
   \   000055   A3           INC     DPTR
   \   000056   E0           MOVX    A,@DPTR
   \   000057   6403         XRL     A,#0x3
   \                     ??zclLighting_HdlIncoming_2:
   \   000059   7006         JNZ     ??zclLighting_HdlIncoming_3
   \   00005B                ; Setup parameters for call to function zclLighting_ProcessInColorControlCmds
   \   00005B   12....       LCALL   ??zclLighting_ProcessInColorControlCmds?relay
   \   00005E   E9           MOV     A,R1
   \   00005F   8002         SJMP    ??zclLighting_HdlIncoming_4
   \                     ??zclLighting_HdlIncoming_3:
   \   000061   7401         MOV     A,#0x1
   \                     ??zclLighting_HdlIncoming_4:
   \   000063   F9           MOV     R1,A
   \   000064   8002         SJMP    ??zclLighting_HdlIncoming_5
    549              else
    550              {
    551                // We don't support any manufacturer specific command.
    552                stat = ZFailure;
   \                     ??zclLighting_HdlIncoming_0:
   \   000066   7901         MOV     R1,#0x1
    553              }
    554            }
    555            else
    556            {
    557              // Handle all the normal (Read, Write...) commands -- should never get here
    558              stat = ZFailure;
    559            }
    560            return ( stat );
   \                     ??zclLighting_HdlIncoming_5:
   \   000068   D083         POP     DPH
   \   00006A   D082         POP     DPL
   \   00006C   02....       LJMP    ?BRET
    561          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003                REQUIRE ??Subroutine48_0
   \   000003                ; // Fall through to label ??Subroutine48_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   12....       LCALL   ??Subroutine49_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine49_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002                REQUIRE ??Subroutine50_0
   \   000002                ; // Fall through to label ??Subroutine50_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine50_0:
   \   000000   A3           INC     DPTR
   \   000001   E0           MOVX    A,@DPTR
   \   000002   F583         MOV     DPH,A
   \   000004   8882         MOV     DPL,R0
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine54_0:
   \   000000   12....       LCALL   ??Subroutine52_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_121:
   \   000003   E8           MOV     A,R0
   \   000004   49           ORL     A,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F9           MOV     R1,A
   \   000003   8882         MOV     DPL,R0
   \   000005   8983         MOV     DPH,R1
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET
    562          
    563          /*********************************************************************
    564           * @fn      zclLighting_HdlInSpecificCommands
    565           *
    566           * @brief   Callback from ZCL to process incoming Commands specific
    567           *          to this cluster library
    568          
    569           * @param   pInMsg - pointer to the incoming message
    570           *
    571           * @return  ZStatus_t
    572           */
    573          static ZStatus_t zclLighting_HdlInSpecificCommands( zclIncoming_t *pInMsg )
    574          {
    575            ZStatus_t stat = ZSuccess;
    576            zclLighting_AppCallbacks_t *pCBs;
    577            
    578            // make sure endpoint exists
    579            pCBs = zclLighting_FindCallbacks( pInMsg->msg->endPoint );
    580            if (pCBs == NULL )
    581              return ( ZFailure );
    582            
    583            switch ( pInMsg->msg->clusterId )			
    584            {
    585              case ZCL_CLUSTER_ID_LIGHTING_COLOR_CONTROL:
    586                stat = zclLighting_ProcessInColorControlCmds( pInMsg, pCBs );
    587                break;
    588          
    589              case ZCL_CLUSTER_ID_LIGHTING_BALLAST_CONFIG:
    590                // no commands
    591              default:
    592                stat = ZFailure;
    593                break;
    594            }
    595          
    596            return ( stat );
    597          }
    598          
    599          /*********************************************************************
    600           * @fn      zclLighting_ProcessInColorControlCmds
    601           *
    602           * @brief   Callback from ZCL to process incoming Commands specific
    603           *          to this cluster library on a command ID basis
    604          
    605           * @param   pInMsg - pointer to the incoming message
    606           * @param   pCBs - pointer to the application callbacks
    607           *
    608           * @return  ZStatus_t
    609           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    610          static ZStatus_t zclLighting_ProcessInColorControlCmds( zclIncoming_t *pInMsg, 
   \                     zclLighting_ProcessInColorControlCmds:
    611                                                       zclLighting_AppCallbacks_t *pCBs )
    612          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 13
   \   000005   74F3         MOV     A,#-0xd
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    613            ZStatus_t stat;
    614          
    615            switch ( pInMsg->hdr.commandID )				
   \   00000A   8A82         MOV     DPL,R2
   \   00000C   8B83         MOV     DPH,R3
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   E0           MOVX    A,@DPTR
   \   000016   6039         JZ      ??zclLighting_ProcessInColorControlCmds_0
   \   000018   14           DEC     A
   \   000019   6077         JZ      ??zclLighting_ProcessInColorControlCmds_1
   \   00001B   14           DEC     A
   \   00001C   607A         JZ      ??zclLighting_ProcessInColorControlCmds_2
   \   00001E   14           DEC     A
   \   00001F   7003         JNZ     $+5
   \   000021   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_3 & 0xFFFF
   \   000024   14           DEC     A
   \   000025   7003         JNZ     $+5
   \   000027   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_4 & 0xFFFF
   \   00002A   14           DEC     A
   \   00002B   7003         JNZ     $+5
   \   00002D   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_5 & 0xFFFF
   \   000030   14           DEC     A
   \   000031   7003         JNZ     $+5
   \   000033   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_6 & 0xFFFF
   \   000036   14           DEC     A
   \   000037   7003         JNZ     $+5
   \   000039   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_7 & 0xFFFF
   \   00003C   14           DEC     A
   \   00003D   7003         JNZ     $+5
   \   00003F   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_8 & 0xFFFF
   \   000042   14           DEC     A
   \   000043   7003         JNZ     $+5
   \   000045   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_9 & 0xFFFF
   \   000048   14           DEC     A
   \   000049   7003         JNZ     $+5
   \   00004B   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_10 & 0xFFFF
   \   00004E   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    616            {
    617              case COMMAND_LIGHTING_MOVE_TO_HUE:
    618                stat = zclLighting_ProcessInCmd_ColorControl_MoveToHue( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_0:
   \   000051   8C82         MOV     DPL,R4
   \   000053   8D83         MOV     DPH,R5
   \   000055   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_107:
   \   000058   6035         JZ      ??zclLighting_ProcessInColorControlCmds_12
   \   00005A   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   00005D   C0E0         PUSH    A
   \   00005F   7403         MOV     A,#0x3
   \   000061   12....       LCALL   ?XSTACK_DISP0_8
   \   000064   D0E0         POP     A
   \   000066   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000069   C0E0         PUSH    A
   \   00006B   7404         MOV     A,#0x4
   \   00006D   12....       LCALL   ?XSTACK_DISP0_8
   \   000070   D0E0         POP     A
   \   000072   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   000075   12....       LCALL   ?XSTACK_DISP0_8
   \   000078   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   00007B   12....       LCALL   ?XSTACK_DISP0_8
   \   00007E   AA82         MOV     R2,DPL
   \   000080   AB83         MOV     R3,DPH
   \   000082   8C82         MOV     DPL,R4
   \   000084   8D83         MOV     DPH,R5
   \                     ??zclLighting_ProcessInColorControlCmds_13:
   \   000086   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   000089   12....       LCALL   ?CALL_IND
   \   00008C   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_14 & 0xFFFF
   \                     ??zclLighting_ProcessInColorControlCmds_12:
   \   00008F   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    619                break;
    620          
    621              case COMMAND_LIGHTING_MOVE_HUE:
    622                stat = zclLighting_ProcessInCmd_ColorControl_MoveHue( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_1:
   \   000092                ; Setup parameters for call to function zclLighting_ProcessInCmd_ColorControl_MoveHue
   \   000092   12....       LCALL   ??zclLighting_ProcessInCmd_ColorControl_MoveHue
    623                break;
   \   000095   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_14 & 0xFFFF
    624          
    625              case COMMAND_LIGHTING_STEP_HUE:
    626                stat = zclLighting_ProcessInCmd_ColorControl_StepHue( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_2:
   \   000098   8C82         MOV     DPL,R4
   \   00009A   8D83         MOV     DPH,R5
   \   00009C   A3           INC     DPTR
   \   00009D   A3           INC     DPTR
   \   00009E   A3           INC     DPTR
   \   00009F   A3           INC     DPTR
   \   0000A0   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_108:
   \   0000A3   6021         JZ      ??zclLighting_ProcessInColorControlCmds_15
   \   0000A5   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   0000A8   C0E0         PUSH    A
   \   0000AA   7401         MOV     A,#0x1
   \   0000AC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AF   D0E0         POP     A
   \   0000B1   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   0000B4   C0E0         PUSH    A
   \   0000B6   7402         MOV     A,#0x2
   \   0000B8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BB   D0E0         POP     A
   \   0000BD   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   0000C0   A3           INC     DPTR
   \   0000C1   A3           INC     DPTR
   \   0000C2   A3           INC     DPTR
   \   0000C3   A3           INC     DPTR
   \   0000C4   80C0         SJMP    ??zclLighting_ProcessInColorControlCmds_13
   \                     ??zclLighting_ProcessInColorControlCmds_15:
   \   0000C6   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    627                break;
    628          
    629              case COMMAND_LIGHTING_MOVE_TO_SATURATION:
    630                stat = zclLighting_ProcessInCmd_ColorControl_MoveToSaturation( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_3:
   \   0000C9   8C82         MOV     DPL,R4
   \   0000CB   8D83         MOV     DPH,R5
   \   0000CD   A3           INC     DPTR
   \   0000CE   A3           INC     DPTR
   \   0000CF   A3           INC     DPTR
   \   0000D0   A3           INC     DPTR
   \   0000D1   A3           INC     DPTR
   \   0000D2   A3           INC     DPTR
   \   0000D3   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_109:
   \   0000D6   602C         JZ      ??zclLighting_ProcessInColorControlCmds_16
   \   0000D8   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   0000DB   85..82       MOV     DPL,?XSP + 0
   \   0000DE   85..83       MOV     DPH,?XSP + 1
   \   0000E1   F0           MOVX    @DPTR,A
   \   0000E2   8882         MOV     DPL,R0
   \   0000E4   8983         MOV     DPH,R1
   \   0000E6   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   0000E9   8882         MOV     DPL,R0
   \   0000EB   8983         MOV     DPH,R1
   \   0000ED   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   0000F0   E0           MOVX    A,@DPTR
   \   0000F1   F9           MOV     R1,A
   \   0000F2   EA           MOV     A,R2
   \   0000F3   F8           MOV     R0,A
   \   0000F4   7401         MOV     A,#0x1
   \   0000F6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F9   E8           MOV     A,R0
   \   0000FA   F0           MOVX    @DPTR,A
   \   0000FB   A3           INC     DPTR
   \   0000FC   E9           MOV     A,R1
   \   0000FD   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   000100   A3           INC     DPTR
   \   000101   A3           INC     DPTR
   \   000102   80BC         SJMP    ??CrossCallReturnLabel_48
   \                     ??zclLighting_ProcessInColorControlCmds_16:
   \   000104   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    631                break;
    632          
    633              case COMMAND_LIGHTING_MOVE_SATURATION:
    634                stat = zclLighting_ProcessInCmd_ColorControl_MoveSaturation( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_4:
   \   000107                ; Setup parameters for call to function zclLighting_ProcessInCmd_ColorControl_MoveSaturation
   \   000107   12....       LCALL   ??zclLighting_ProcessInCmd_ColorControl_MoveSat
    635                break;
   \   00010A   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_14 & 0xFFFF
    636          
    637              case COMMAND_LIGHTING_STEP_SATURATION:
    638                stat = zclLighting_ProcessInCmd_ColorControl_StepSaturation( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_5:
   \   00010D   8C82         MOV     DPL,R4
   \   00010F   8D83         MOV     DPH,R5
   \   000111   A3           INC     DPTR
   \   000112   A3           INC     DPTR
   \   000113   A3           INC     DPTR
   \   000114   A3           INC     DPTR
   \   000115   A3           INC     DPTR
   \   000116   A3           INC     DPTR
   \   000117   A3           INC     DPTR
   \   000118   A3           INC     DPTR
   \   000119   A3           INC     DPTR
   \   00011A   A3           INC     DPTR
   \   00011B   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_110:
   \   00011E   6021         JZ      ??zclLighting_ProcessInColorControlCmds_17
   \   000120   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   000123   C0E0         PUSH    A
   \   000125   7401         MOV     A,#0x1
   \   000127   12....       LCALL   ?XSTACK_DISP0_8
   \   00012A   D0E0         POP     A
   \   00012C   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   00012F   C0E0         PUSH    A
   \   000131   7402         MOV     A,#0x2
   \   000133   12....       LCALL   ?XSTACK_DISP0_8
   \   000136   D0E0         POP     A
   \   000138   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   00013B   A3           INC     DPTR
   \   00013C   A3           INC     DPTR
   \   00013D   A3           INC     DPTR
   \   00013E   A3           INC     DPTR
   \   00013F   80BF         SJMP    ??CrossCallReturnLabel_49
   \                     ??zclLighting_ProcessInColorControlCmds_17:
   \   000141   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    639                break;
    640          
    641              case COMMAND_LIGHTING_MOVE_TO_HUE_AND_SATURATION:
    642                stat = zclLighting_ProcessInCmd_ColorControl_MoveToHueAndSaturation( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_6:
   \   000144   EC           MOV     A,R4
   \   000145   240C         ADD     A,#0xc
   \   000147   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   00014A   6035         JZ      ??zclLighting_ProcessInColorControlCmds_18
   \   00014C   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   00014F   C0E0         PUSH    A
   \   000151   7403         MOV     A,#0x3
   \   000153   12....       LCALL   ?XSTACK_DISP0_8
   \   000156   D0E0         POP     A
   \   000158   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   00015B   C0E0         PUSH    A
   \   00015D   7404         MOV     A,#0x4
   \   00015F   12....       LCALL   ?XSTACK_DISP0_8
   \   000162   D0E0         POP     A
   \   000164   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   000167   12....       LCALL   ?XSTACK_DISP0_8
   \   00016A   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   00016D   12....       LCALL   ?XSTACK_DISP0_8
   \   000170   AA82         MOV     R2,DPL
   \   000172   AB83         MOV     R3,DPH
   \   000174   EC           MOV     A,R4
   \   000175   240C         ADD     A,#0xc
   \                     ??zclLighting_ProcessInColorControlCmds_19:
   \   000177   F582         MOV     DPL,A
   \   000179   ED           MOV     A,R5
   \   00017A   3400         ADDC    A,#0x0
   \   00017C   F583         MOV     DPH,A
   \   00017E   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_13 & 0xFFFF
   \                     ??zclLighting_ProcessInColorControlCmds_18:
   \   000181   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    643                break;
    644          
    645              case COMMAND_LIGHTING_MOVE_TO_COLOR:
    646                stat = zclLighting_ProcessInCmd_ColorControl_MoveToColor( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_7:
   \   000184   EC           MOV     A,R4
   \   000185   240E         ADD     A,#0xe
   \   000187   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_114:
   \   00018A   6025         JZ      ??zclLighting_ProcessInColorControlCmds_20
   \   00018C   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   00018F   12....       LCALL   ?XSTACK_DISP0_8
   \   000192   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000195   12....       LCALL   ?XSTACK_DISP0_8
   \   000198   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   00019B   12....       LCALL   ?XSTACK_DISP0_8
   \   00019E   E8           MOV     A,R0
   \   00019F   F0           MOVX    @DPTR,A
   \   0001A0   A3           INC     DPTR
   \   0001A1   E9           MOV     A,R1
   \   0001A2   F0           MOVX    @DPTR,A
   \   0001A3                ; Setup parameters for indirect call
   \   0001A3   7407         MOV     A,#0x7
   \   0001A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A8   AA82         MOV     R2,DPL
   \   0001AA   AB83         MOV     R3,DPH
   \   0001AC   EC           MOV     A,R4
   \   0001AD   240E         ADD     A,#0xe
   \   0001AF   80C6         SJMP    ??zclLighting_ProcessInColorControlCmds_19
   \                     ??zclLighting_ProcessInColorControlCmds_20:
   \   0001B1   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_11 & 0xFFFF
    647                break;
    648          
    649              case COMMAND_LIGHTING_MOVE_COLOR:
    650                stat = zclLighting_ProcessInCmd_ColorControl_MoveColor( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_8:
   \   0001B4   EC           MOV     A,R4
   \   0001B5   2410         ADD     A,#0x10
   \   0001B7   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_115:
   \   0001BA   602F         JZ      ??zclLighting_ProcessInColorControlCmds_21
   \   0001BC   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   0001BF   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C2   EA           MOV     A,R2
   \   0001C3   F0           MOVX    @DPTR,A
   \   0001C4   A3           INC     DPTR
   \   0001C5   EB           MOV     A,R3
   \   0001C6   F0           MOVX    @DPTR,A
   \   0001C7   12....       LCALL   ??Subroutine53_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   0001CA   12....       LCALL   ?XSTACK_DISP0_8
   \   0001CD   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   0001D0   12....       LCALL   ?XSTACK_DISP0_8
   \   0001D3   AA82         MOV     R2,DPL
   \   0001D5   AB83         MOV     R3,DPH
   \   0001D7   EC           MOV     A,R4
   \   0001D8   2410         ADD     A,#0x10
   \   0001DA   F582         MOV     DPL,A
   \   0001DC   ED           MOV     A,R5
   \   0001DD   3400         ADDC    A,#0x0
   \   0001DF   F583         MOV     DPH,A
   \   0001E1   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   0001E4   12....       LCALL   ?CALL_IND
   \   0001E7   7900         MOV     R1,#0x0
   \   0001E9   805B         SJMP    ??zclLighting_ProcessInColorControlCmds_14
   \                     ??zclLighting_ProcessInColorControlCmds_21:
   \   0001EB   8057         SJMP    ??zclLighting_ProcessInColorControlCmds_11
    651                break;
    652          
    653              case COMMAND_LIGHTING_STEP_COLOR:
    654                stat = zclLighting_ProcessInCmd_ColorControl_StepColor( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_9:
   \   0001ED   EC           MOV     A,R4
   \   0001EE   2412         ADD     A,#0x12
   \   0001F0   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_116:
   \   0001F3   604F         JZ      ??zclLighting_ProcessInColorControlCmds_11
   \   0001F5   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   0001F8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001FB   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   0001FE   12....       LCALL   ?XSTACK_DISP0_8
   \   000201   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000204   12....       LCALL   ?XSTACK_DISP0_8
   \   000207   E8           MOV     A,R0
   \   000208   F0           MOVX    @DPTR,A
   \   000209   A3           INC     DPTR
   \   00020A   E9           MOV     A,R1
   \   00020B   F0           MOVX    @DPTR,A
   \   00020C                ; Setup parameters for indirect call
   \   00020C   7407         MOV     A,#0x7
   \   00020E   12....       LCALL   ?XSTACK_DISP0_8
   \   000211   AA82         MOV     R2,DPL
   \   000213   AB83         MOV     R3,DPH
   \   000215   EC           MOV     A,R4
   \   000216   2412         ADD     A,#0x12
   \   000218   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_19 & 0xFFFF
    655                break;
    656          
    657              case COMMAND_LIGHTING_MOVE_TO_COLOR_TEMPERATURE:
    658                stat = zclLighting_ProcessInCmd_ColorControl_MoveToColorTemperature( pInMsg, pCBs );
   \                     ??zclLighting_ProcessInColorControlCmds_10:
   \   00021B   EC           MOV     A,R4
   \   00021C   2414         ADD     A,#0x14
   \   00021E   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_117:
   \   000221   6021         JZ      ??zclLighting_ProcessInColorControlCmds_11
   \   000223   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000226   12....       LCALL   ?XSTACK_DISP0_8
   \   000229   EA           MOV     A,R2
   \   00022A   F0           MOVX    @DPTR,A
   \   00022B   A3           INC     DPTR
   \   00022C   EB           MOV     A,R3
   \   00022D   F0           MOVX    @DPTR,A
   \   00022E   12....       LCALL   ??Subroutine53_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   000231   12....       LCALL   ?XSTACK_DISP0_8
   \   000234   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   000237   12....       LCALL   ?XSTACK_DISP0_8
   \   00023A   AA82         MOV     R2,DPL
   \   00023C   AB83         MOV     R3,DPH
   \   00023E   EC           MOV     A,R4
   \   00023F   2414         ADD     A,#0x14
   \   000241   02....       LJMP    ??zclLighting_ProcessInColorControlCmds_19 & 0xFFFF
    659                break;
    660          
    661              default:
    662                // Unknown command
    663                stat = ZFailure;
   \                     ??zclLighting_ProcessInColorControlCmds_11:
   \   000244   7901         MOV     R1,#0x1
    664                break;
    665            }
    666          
    667            return ( stat );
   \                     ??zclLighting_ProcessInColorControlCmds_14:
   \   000246   740D         MOV     A,#0xd
   \   000248   12....       LCALL   ?DEALLOC_XSTACK8
   \   00024B   7F01         MOV     R7,#0x1
   \   00024D   02....       LJMP    ?BANKED_LEAVE_XDATA
    668          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005                ; Setup parameters for indirect call
   \   000005                ; Setup parameters for indirect call
   \   000005                ; Setup parameters for indirect call
   \   000005                ; Setup parameters for indirect call
   \   000005   7403         MOV     A,#0x3
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   000003   AA82         MOV     R2,DPL
   \   000005   AB83         MOV     R3,DPH
   \   000007   8C82         MOV     DPL,R4
   \   000009   8D83         MOV     DPH,R5
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8882         MOV     DPL,R0
   \   000003   8983         MOV     DPH,R1
   \   000005                REQUIRE ??Subroutine49_0
   \   000005                ; // Fall through to label ??Subroutine49_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FE           MOV     R6,A
   \   000005   8882         MOV     DPL,R0
   \   000007   8983         MOV     DPH,R1
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   FB           MOV     R3,A
   \   00000E   EE           MOV     A,R6
   \   00000F   FA           MOV     R2,A
   \   000010   7409         MOV     A,#0x9
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   EA           MOV     A,R2
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   EB           MOV     A,R3
   \   000004                REQUIRE ??Subroutine51_0
   \   000004                ; // Fall through to label ??Subroutine51_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   EA           MOV     A,R2
   \   000001   2408         ADD     A,#0x8
   \   000003   F8           MOV     R0,A
   \   000004   EB           MOV     A,R3
   \   000005   3400         ADDC    A,#0x0
   \   000007   F9           MOV     R1,A
   \   000008   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000003   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   E0           MOVX    A,@DPTR
   \   000009   F9           MOV     R1,A
   \   00000A   EA           MOV     A,R2
   \   00000B   F8           MOV     R0,A
   \   00000C   740B         MOV     A,#0xb
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000003   7403         MOV     A,#0x3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000003   7407         MOV     A,#0x7
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   EA           MOV     A,R2
   \   000001   2408         ADD     A,#0x8
   \   000003   F8           MOV     R0,A
   \   000004   EB           MOV     A,R3
   \   000005   3400         ADDC    A,#0x0
   \   000007   F9           MOV     R1,A
   \   000008   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_120:
   \   00000B   8882         MOV     DPL,R0
   \   00000D   8983         MOV     DPH,R1
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   FE           MOV     R6,A
   \   000011   A3           INC     DPTR
   \   000012   E0           MOVX    A,@DPTR
   \   000013   FB           MOV     R3,A
   \   000014   EE           MOV     A,R6
   \   000015   FA           MOV     R2,A
   \   000016   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine39:
   \   000000   8882         MOV     DPL,R0
   \   000002   8983         MOV     DPH,R1
   \   000004                REQUIRE ??Subroutine52_0
   \   000004                ; // Fall through to label ??Subroutine52_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000003   85..82       MOV     DPL,?XSP + 0
   \   000006   85..83       MOV     DPH,?XSP + 1
   \   000009   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine40:
   \   000000   8882         MOV     DPL,R0
   \   000002   8983         MOV     DPH,R1
   \   000004   E0           MOVX    A,@DPTR
   \   000005   FA           MOV     R2,A
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F583         MOV     DPH,A
   \   00000A   8A82         MOV     DPL,R2
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_119:
   \   000004                REQUIRE ??Subroutine53_0
   \   000004                ; // Fall through to label ??Subroutine53_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine53_0:
   \   000000   8882         MOV     DPL,R0
   \   000002   8983         MOV     DPH,R1
   \   000004   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F9           MOV     R1,A
   \   000009   EA           MOV     A,R2
   \   00000A   F8           MOV     R0,A
   \   00000B   7405         MOV     A,#0x5
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   A3           INC     DPTR
   \   000001   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_105:
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine41:
   \   000000   A3           INC     DPTR
   \   000001   E0           MOVX    A,@DPTR
   \   000002   FA           MOV     R2,A
   \   000003   8882         MOV     DPL,R0
   \   000005   8983         MOV     DPH,R1
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   F582         MOV     DPL,A
   \   000002   ED           MOV     A,R5
   \   000003   3400         ADDC    A,#0x0
   \   000005   F583         MOV     DPH,A
   \   000007                REQUIRE ??Subroutine54_0
   \   000007                ; // Fall through to label ??Subroutine54_0
    669          
    670          /*********************************************************************
    671           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveToHue
    672           *
    673           * @brief   Process in the received Move To Hue Command.
    674           *
    675           * @param   pInMsg - pointer to the incoming message
    676           * @param   pCBs - pointer to the application callbacks
    677           *
    678           * @return  ZStatus_t
    679           */
    680          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToHue( zclIncoming_t *pInMsg,
    681                                                                 zclLighting_AppCallbacks_t *pCBs )
    682          {
    683            if ( pCBs->pfnColorControl_MoveToHue )
    684            {
    685              zclCCMoveToHue_t cmd;
    686              
    687              cmd.hue = pInMsg->pData[0];
    688              cmd.direction = pInMsg->pData[1];
    689              cmd.transitionTime = BUILD_UINT16( pInMsg->pData[2], pInMsg->pData[3] );
    690                  
    691              return ( pCBs->pfnColorControl_MoveToHue( &cmd ) );
    692            }
    693            
    694            return ( ZFailure );
    695          }
    696          
    697          /*********************************************************************
    698           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveHue
    699           *
    700           * @brief   Process in the received Move Hue Command.
    701           *
    702           * @param   pInMsg - pointer to the incoming message
    703           * @param   pCBs - pointer to the application callbacks
    704           *
    705           * @return  ZStatus_t
    706           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    707          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveHue( zclIncoming_t *pInMsg,
   \                     zclLighting_ProcessInCmd_ColorControl_MoveHue:
    708                                                               zclLighting_AppCallbacks_t *pCBs )
    709          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    710            zclCCMoveHue_t cmd;
    711          
    712            cmd.moveMode = pInMsg->pData[0];
   \   00000A   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   00000D   C0E0         PUSH    A
   \   00000F   7402         MOV     A,#0x2
   \   000011   12....       LCALL   ?XSTACK_DISP0_8
   \   000014   D0E0         POP     A
   \   000016   12....       LCALL   ?Subroutine21 & 0xFFFF
    713            cmd.rate = pInMsg->pData[1];
   \                     ??CrossCallReturnLabel_39:
   \   000019   C0E0         PUSH    A
   \   00001B   7403         MOV     A,#0x3
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   D0E0         POP     A
   \   000022   F0           MOVX    @DPTR,A
    714            
    715            // If the Rate field has a value of zero, the command has no effect and
    716            // a Default Response command is sent in response, with the status code
    717            // set to INVALID_FIELD.
    718            if ( cmd.rate == 0 )
   \   000023   703D         JNZ     ??zclLighting_ProcessInCmd_ColorControl_MoveHue_1
    719            {
    720              zclDefaultRspCmd_t defaultRspCmd;
    721              
    722              defaultRspCmd.commandID = pInMsg->hdr.commandID;
   \   000025   12....       LCALL   ?Subroutine23 & 0xFFFF
    723              defaultRspCmd.statusCode = ZCL_STATUS_INVALID_FIELD;
   \                     ??CrossCallReturnLabel_44:
   \   000028   12....       LCALL   ?XSTACK_DISP0_8
   \   00002B   12....       LCALL   ?Subroutine9 & 0xFFFF
    724              zcl_SendDefaultRspCmd( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
    725                                     pInMsg->msg->clusterId, &defaultRspCmd,
    726                                     ZCL_FRAME_SERVER_CLIENT_DIR, true, 0, pInMsg->hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_9:
   \   00002E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000031   E4           CLR     A
   \   000032   F5..         MOV     ?V0 + 0,A
   \   000034   F5..         MOV     ?V0 + 1,A
   \   000036   78..         MOV     R0,#?V0 + 0
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003B   75..01       MOV     ?V0 + 0,#0x1
   \   00003E   78..         MOV     R0,#?V0 + 0
   \   000040   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000043   78..         MOV     R0,#?V0 + 0
   \   000045   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000048   7405         MOV     A,#0x5
   \   00004A   12....       LCALL   ?XSTACK_DISP0_8
   \   00004D   8582..       MOV     ?V0 + 0,DPL
   \   000050   8583..       MOV     ?V0 + 1,DPH
   \   000053   78..         MOV     R0,#?V0 + 0
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000058   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   00005B   12....       LCALL   ?DEALLOC_XSTACK8
    727              
    728              // Don't need the ZCL foundation to generate another Default Response command
    729              return ( ZCL_STATUS_CMD_HAS_RSP );
   \   00005E   79FF         MOV     R1,#-0x1
   \   000060   8024         SJMP    ??zclLighting_ProcessInCmd_ColorControl_MoveHue_2
    730            }
    731            
    732            if ( pCBs->pfnColorControl_MoveHue )
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveHue_1:
   \   000062   8C82         MOV     DPL,R4
   \   000064   8D83         MOV     DPH,R5
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   00006B   6017         JZ      ??zclLighting_ProcessInCmd_ColorControl_MoveHue_3
    733              return ( pCBs->pfnColorControl_MoveHue( &cmd ) );
   \   00006D                ; Setup parameters for indirect call
   \   00006D   7402         MOV     A,#0x2
   \   00006F   12....       LCALL   ?XSTACK_DISP0_8
   \   000072   AA82         MOV     R2,DPL
   \   000074   AB83         MOV     R3,DPH
   \   000076   8C82         MOV     DPL,R4
   \   000078   8D83         MOV     DPH,R5
   \   00007A   A3           INC     DPTR
   \   00007B   A3           INC     DPTR
   \   00007C   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   00007F   12....       LCALL   ?CALL_IND
   \   000082   8002         SJMP    ??zclLighting_ProcessInCmd_ColorControl_MoveHue_2
    734          
    735            return ( ZFailure );
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveHue_3:
   \   000084   7901         MOV     R1,#0x1
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveHue_2:
   \   000086                REQUIRE ?Subroutine2
   \   000086                ; // Fall through to label ?Subroutine2
    736          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7404         MOV     A,#0x4
   \   000002   12....       LCALL   ?DEALLOC_XSTACK8
   \   000005   7F02         MOV     R7,#0x2
   \   000007   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   EA           MOV     A,R2
   \   000001   2408         ADD     A,#0x8
   \   000003   F8           MOV     R0,A
   \   000004   EB           MOV     A,R3
   \   000005   12....       LCALL   ?Subroutine38 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000008   FE           MOV     R6,A
   \   000009   A3           INC     DPTR
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   F583         MOV     DPH,A
   \   00000D   8E82         MOV     DPL,R6
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   85..82       MOV     DPL,?XSP + 0
   \   00000F   85..83       MOV     DPH,?XSP + 1
   \   000012   F0           MOVX    @DPTR,A
   \   000013   7401         MOV     A,#0x1
   \   000015   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   7485         MOV     A,#-0x7b
   \   000002   F0           MOVX    @DPTR,A
   \   000003   8A82         MOV     DPL,R2
   \   000005   8B83         MOV     DPH,R3
   \   000007   E0           MOVX    A,@DPTR
   \   000008   FE           MOV     R6,A
   \   000009   A3           INC     DPTR
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   FF           MOV     R7,A
   \   00000C                ; Setup parameters for call to function zcl_SendDefaultRspCmd
   \   00000C                ; Setup parameters for call to function zcl_SendDefaultRspCmd
   \   00000C   8A82         MOV     DPL,R2
   \   00000E   8B83         MOV     DPH,R3
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   F5..         MOV     ?V0 + 0,A
   \   000019   78..         MOV     R0,#?V0 + 0
   \   00001B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004   A3           INC     DPTR
   \   000005   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   000008   EE           MOV     A,R6
   \   000009   2406         ADD     A,#0x6
   \   00000B   FA           MOV     R2,A
   \   00000C   EF           MOV     A,R7
   \   00000D   3400         ADDC    A,#0x0
   \   00000F   FB           MOV     R3,A
   \   000010   EE           MOV     A,R6
   \   000011   2414         ADD     A,#0x14
   \   000013   F582         MOV     DPL,A
   \   000015   EF           MOV     A,R7
   \   000016   3400         ADDC    A,#0x0
   \   000018   F583         MOV     DPH,A
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F9           MOV     R1,A
   \   00001C   12....       LCALL   ??zcl_SendDefaultRspCmd?relay
   \   00001F   7407         MOV     A,#0x7
   \   000021   22           RET
    737          
    738          /*********************************************************************
    739           * @fn      zclLighting_ProcessInCmd_ColorControl_StepHue
    740           *
    741           * @brief   Process in the received Step Hue Command.
    742           *
    743           * @param   pInMsg - pointer to the incoming message
    744           * @param   pCBs - pointer to the application callbacks
    745           *
    746           * @return  ZStatus_t
    747           */
    748          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_StepHue( zclIncoming_t *pInMsg,
    749                                                               zclLighting_AppCallbacks_t *pCBs )
    750          {
    751            if ( pCBs->pfnColorControl_StepHue )
    752            {
    753              zclCCStepHue_t cmd;
    754              
    755              cmd.stepMode = pInMsg->pData[0];
    756              cmd.stepSize = pInMsg->pData[1];
    757              cmd.transitionTime = pInMsg->pData[2];
    758                  
    759              return ( pCBs->pfnColorControl_StepHue( &cmd ) );
    760            }
    761            
    762            return ( ZFailure );
    763          }
    764          
    765          /*********************************************************************
    766           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveToSaturation
    767           *
    768           * @brief   Process in the received Move to Saturation Command.
    769           *
    770           * @param   pInMsg - pointer to the incoming message
    771           * @param   pCBs - pointer to the application callbacks
    772           *
    773           * @return  ZStatus_t
    774           */
    775          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToSaturation( zclIncoming_t *pInMsg,
    776                                                                        zclLighting_AppCallbacks_t *pCBs )
    777          {
    778            if ( pCBs->pfnColorControl_MoveToSaturation )
    779            {
    780              zclCCMoveToSaturation_t cmd;
    781              
    782              cmd.saturation = pInMsg->pData[0];
    783              cmd.transitionTime = BUILD_UINT16( pInMsg->pData[1], pInMsg->pData[2] );
    784              
    785              return ( pCBs->pfnColorControl_MoveToSaturation( &cmd ) );
    786            }
    787            
    788            return ( ZFailure );
    789          }
    790          
    791          /*********************************************************************
    792           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveSaturation
    793           *
    794           * @brief   Process in the received Move Saturation Command.
    795           *
    796           * @param   pInMsg - pointer to the incoming message
    797           * @param   pCBs - pointer to the application callbacks
    798           *
    799           * @return  ZStatus_t
    800           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    801          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveSaturation( zclIncoming_t *pInMsg,
   \                     zclLighting_ProcessInCmd_ColorControl_MoveSaturation:
    802                                                                      zclLighting_AppCallbacks_t *pCBs )
    803          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    804            zclCCMoveSaturation_t cmd;
    805          
    806            cmd.moveMode = pInMsg->pData[0];
   \   00000A   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   00000D   C0E0         PUSH    A
   \   00000F   7402         MOV     A,#0x2
   \   000011   12....       LCALL   ?XSTACK_DISP0_8
   \   000014   D0E0         POP     A
   \   000016   12....       LCALL   ?Subroutine21 & 0xFFFF
    807            cmd.rate = pInMsg->pData[1];
   \                     ??CrossCallReturnLabel_40:
   \   000019   C0E0         PUSH    A
   \   00001B   7403         MOV     A,#0x3
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   D0E0         POP     A
   \   000022   F0           MOVX    @DPTR,A
    808              
    809            // If the Rate field has a value of zero, the command has no effect and
    810            // a Default Response command is sent in response, with the status code
    811            // set to INVALID_FIELD.
    812            if ( cmd.rate == 0 )
   \   000023   703D         JNZ     ??zclLighting_ProcessInCmd_ColorControl_MoveSat_1
    813            {
    814              zclDefaultRspCmd_t defaultRspCmd;
    815              
    816              defaultRspCmd.commandID = pInMsg->hdr.commandID;
   \   000025   12....       LCALL   ?Subroutine23 & 0xFFFF
    817              defaultRspCmd.statusCode = ZCL_STATUS_INVALID_FIELD;
   \                     ??CrossCallReturnLabel_45:
   \   000028   12....       LCALL   ?XSTACK_DISP0_8
   \   00002B   12....       LCALL   ?Subroutine9 & 0xFFFF
    818              zcl_SendDefaultRspCmd( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
    819                                     pInMsg->msg->clusterId, &defaultRspCmd,
    820                                     ZCL_FRAME_SERVER_CLIENT_DIR, true, 0, pInMsg->hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_10:
   \   00002E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000031   E4           CLR     A
   \   000032   F5..         MOV     ?V0 + 0,A
   \   000034   F5..         MOV     ?V0 + 1,A
   \   000036   78..         MOV     R0,#?V0 + 0
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003B   75..01       MOV     ?V0 + 0,#0x1
   \   00003E   78..         MOV     R0,#?V0 + 0
   \   000040   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000043   78..         MOV     R0,#?V0 + 0
   \   000045   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000048   7405         MOV     A,#0x5
   \   00004A   12....       LCALL   ?XSTACK_DISP0_8
   \   00004D   8582..       MOV     ?V0 + 0,DPL
   \   000050   8583..       MOV     ?V0 + 1,DPH
   \   000053   78..         MOV     R0,#?V0 + 0
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000058   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   00005B   12....       LCALL   ?DEALLOC_XSTACK8
    821          
    822              // Don't need the ZCL foundation to generate another Default Response command
    823              return ( ZCL_STATUS_CMD_HAS_RSP );
   \   00005E   79FF         MOV     R1,#-0x1
   \   000060   8030         SJMP    ??zclLighting_ProcessInCmd_ColorControl_MoveSat_2
    824            }
    825            
    826            if ( pCBs->pfnColorControl_MoveSaturation )
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveSat_1:
   \   000062   8C82         MOV     DPL,R4
   \   000064   8D83         MOV     DPH,R5
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   A3           INC     DPTR
   \   000069   A3           INC     DPTR
   \   00006A   A3           INC     DPTR
   \   00006B   A3           INC     DPTR
   \   00006C   A3           INC     DPTR
   \   00006D   A3           INC     DPTR
   \   00006E   12....       LCALL   ??Subroutine54_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   000071   601D         JZ      ??zclLighting_ProcessInCmd_ColorControl_MoveSat_3
    827              return ( pCBs->pfnColorControl_MoveSaturation( &cmd ) );
   \   000073                ; Setup parameters for indirect call
   \   000073   7402         MOV     A,#0x2
   \   000075   12....       LCALL   ?XSTACK_DISP0_8
   \   000078   AA82         MOV     R2,DPL
   \   00007A   AB83         MOV     R3,DPH
   \   00007C   8C82         MOV     DPL,R4
   \   00007E   8D83         MOV     DPH,R5
   \   000080   A3           INC     DPTR
   \   000081   A3           INC     DPTR
   \   000082   A3           INC     DPTR
   \   000083   A3           INC     DPTR
   \   000084   A3           INC     DPTR
   \   000085   A3           INC     DPTR
   \   000086   A3           INC     DPTR
   \   000087   A3           INC     DPTR
   \   000088   12....       LCALL   ??Subroutine50_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   00008B   12....       LCALL   ?CALL_IND
   \   00008E   8002         SJMP    ??zclLighting_ProcessInCmd_ColorControl_MoveSat_2
    828          
    829            return ( ZFailure );
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveSat_3:
   \   000090   7901         MOV     R1,#0x1
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveSat_2:
   \   000092   02....       LJMP    ?Subroutine2 & 0xFFFF
    830          }

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_RegisterCmdCallbacks?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_RegisterCmdCallbacks

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveToHueCmd?re:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveToHueCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveHueCmd?rela:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveHueCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_StepHueCmd?rela:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_StepHueCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveToSaturatio:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveToSaturationCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveSaturationC:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveSaturationCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_StepSaturationC:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_StepSaturationCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveToHueAndSat:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveToHueAndSaturationCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveToColorCmd?:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveToColorCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveColorCmd?re:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveColorCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_StepColorCmd?re:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_StepColorCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ColorControl_Send_MoveToColorTemp:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ColorControl_Send_MoveToColorTemperatureCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_HdlIncoming?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_HdlIncoming

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ProcessInColorControlCmds?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ProcessInColorControlCmds

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveHue:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ProcessInCmd_ColorControl_MoveHue

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclLighting_ProcessInCmd_ColorControl_MoveSat:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclLighting_ProcessInCmd_ColorControl_MoveSaturation
    831          
    832          /*********************************************************************
    833           * @fn      zclLighting_ProcessInCmd_ColorControl_StepSaturation
    834           *
    835           * @brief   Process in the received Step Saturation Command.
    836           *
    837           * @param   pInMsg - pointer to the incoming message
    838           * @param   pCBs - pointer to the application callbacks
    839           *
    840           * @return  ZStatus_t
    841           */
    842          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_StepSaturation( zclIncoming_t *pInMsg,
    843                                                                      zclLighting_AppCallbacks_t *pCBs )
    844          {
    845            if ( pCBs->pfnColorControl_StepSaturation )
    846            { 
    847              zclCCStepSaturation_t cmd;
    848              
    849              cmd.stepMode = pInMsg->pData[0];
    850              cmd.stepSize = pInMsg->pData[1];
    851              cmd.transitionTime = pInMsg->pData[2];
    852              
    853              return ( pCBs->pfnColorControl_StepSaturation( &cmd ) );
    854            }
    855            
    856            return ( ZFailure );
    857          }
    858          
    859          /*********************************************************************
    860           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveToHueAndSaturation
    861           *
    862           * @brief   Process in the received Move To Hue And Saturation Command.
    863           *
    864           * @param   pInMsg - pointer to the incoming message
    865           * @param   pCBs - pointer to the application callbacks
    866           *
    867           * @return  ZStatus_t
    868           */
    869          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToHueAndSaturation( zclIncoming_t *pInMsg,
    870                                                                              zclLighting_AppCallbacks_t *pCBs )
    871          {
    872            if ( pCBs->pfnColorControl_MoveToHueAndSaturation )
    873            {
    874              zclCCMoveToHueAndSaturation_t cmd;
    875              
    876              cmd.hue = pInMsg->pData[0];
    877              cmd.saturation = pInMsg->pData[1];   
    878              cmd.transitionTime = BUILD_UINT16( pInMsg->pData[2], pInMsg->pData[3] );
    879              
    880              return ( pCBs->pfnColorControl_MoveToHueAndSaturation( &cmd ) );
    881            }
    882            
    883            return ( ZFailure );
    884          }
    885          
    886          /*********************************************************************
    887           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveToColor
    888           *
    889           * @brief   Process in the received Move To Color Command.
    890           *
    891           * @param   pInMsg - pointer to the incoming message
    892           * @param   pCBs - pointer to the application callbacks
    893           *
    894           * @return  ZStatus_t
    895           */
    896          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToColor( zclIncoming_t *pInMsg,
    897                                                                   zclLighting_AppCallbacks_t *pCBs )
    898          {
    899            if ( pCBs->pfnColorControl_MoveToColor )
    900            {
    901              zclCCMoveToColor_t cmd;
    902              
    903              cmd.colorX = BUILD_UINT16( pInMsg->pData[0], pInMsg->pData[1] );
    904              cmd.colorY = BUILD_UINT16( pInMsg->pData[2], pInMsg->pData[3] );
    905              cmd.transitionTime = BUILD_UINT16( pInMsg->pData[4], pInMsg->pData[5] );
    906                  
    907              return ( pCBs->pfnColorControl_MoveToColor( &cmd ) );
    908            }
    909            
    910            return ( ZFailure );
    911          }
    912          
    913          /*********************************************************************
    914           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveColor
    915           *
    916           * @brief   Process in the received Move Color Command.
    917           *
    918           * @param   pInMsg - pointer to the incoming message
    919           * @param   pCBs - pointer to the application callbacks
    920           *
    921           * @return  ZStatus_t
    922           */
    923          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveColor( zclIncoming_t *pInMsg,
    924                                                                 zclLighting_AppCallbacks_t *pCBs )
    925          {
    926            if ( pCBs->pfnColorControl_MoveColor )
    927            {
    928              zclCCMoveColor_t cmd;
    929              
    930              cmd.rateX = BUILD_UINT16( pInMsg->pData[0], pInMsg->pData[1] );
    931              cmd.rateY = BUILD_UINT16( pInMsg->pData[2], pInMsg->pData[3] );
    932                  
    933              pCBs->pfnColorControl_MoveColor( &cmd );
    934              
    935              return ( ZSuccess );
    936            }
    937            
    938            return ( ZFailure );
    939          }
    940          
    941          /*********************************************************************
    942           * @fn      zclLighting_ProcessInCmd_ColorControl_StepColor
    943           *
    944           * @brief   Process in the received Step Color Command.
    945           *
    946           * @param   pInMsg - pointer to the incoming message
    947           * @param   pCBs - pointer to the application callbacks
    948           *
    949           * @return  ZStatus_t
    950           */
    951          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_StepColor( zclIncoming_t *pInMsg,
    952                                                                 zclLighting_AppCallbacks_t *pCBs )
    953          {
    954            if ( pCBs->pfnColorControl_StepColor )
    955            {
    956              zclCCStepColor_t cmd;
    957              
    958              cmd.stepX = BUILD_UINT16( pInMsg->pData[0], pInMsg->pData[1] );
    959              cmd.stepY = BUILD_UINT16( pInMsg->pData[2], pInMsg->pData[3] );
    960              cmd.transitionTime = BUILD_UINT16( pInMsg->pData[4], pInMsg->pData[5] );
    961                  
    962              return ( pCBs->pfnColorControl_StepColor( &cmd ) );
    963            }
    964            
    965            return ( ZFailure );
    966          }
    967          
    968          /*********************************************************************
    969           * @fn      zclLighting_ProcessInCmd_ColorControl_MoveToColorTemperature
    970           *
    971           * @brief   Process in the received Move to Color Temperature Command.
    972           *
    973           * @param   pInMsg - pointer to the incoming message
    974           * @param   pCBs - pointer to the application callbacks
    975           *
    976           * @return  ZStatus_t
    977           */
    978          static ZStatus_t zclLighting_ProcessInCmd_ColorControl_MoveToColorTemperature( zclIncoming_t *pInMsg,
    979                                                                              zclLighting_AppCallbacks_t *pCBs )
    980          {
    981            if ( pCBs->pfnColorControl_MoveToColorTemperature )
    982            {
    983              zclCCMoveToColorTemperature_t cmd;
    984              
    985              cmd.colorTemperature = BUILD_UINT16( pInMsg->pData[0], pInMsg->pData[1] );
    986              cmd.transitionTime = BUILD_UINT16( pInMsg->pData[2], pInMsg->pData[3] );
    987              
    988              return ( pCBs->pfnColorControl_MoveToColorTemperature( &cmd ) );
    989            }
    990            
    991            return ( ZFailure );
    992          }
    993          
    994          /****************************************************************************
    995          ****************************************************************************/

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     zclLighting_ColorControl_Send_MoveColorCmd
                                        1      0     31
       -> zcl_SendCommand               0      0     54
     zclLighting_ColorControl_Send_MoveHueCmd
                                        1      0     26
       -> zcl_SendCommand               0      0     48
     zclLighting_ColorControl_Send_MoveSaturationCmd
                                        1      0     26
       -> zcl_SendCommand               0      0     48
     zclLighting_ColorControl_Send_MoveToColorCmd
                                        1      0     34
       -> zcl_SendCommand               0      0     56
     zclLighting_ColorControl_Send_MoveToColorTemperatureCmd
                                        1      0     30
       -> zcl_SendCommand               0      0     52
     zclLighting_ColorControl_Send_MoveToHueAndSaturationCmd
                                        1      0     31
       -> zcl_SendCommand               0      0     54
     zclLighting_ColorControl_Send_MoveToHueCmd
                                        1      0     31
       -> zcl_SendCommand               0      0     54
     zclLighting_ColorControl_Send_MoveToSaturationCmd
                                        1      0     29
       -> zcl_SendCommand               0      0     52
     zclLighting_ColorControl_Send_StepColorCmd
                                        1      0     35
       -> zcl_SendCommand               0      0     58
     zclLighting_ColorControl_Send_StepHueCmd
                                        1      0     29
       -> zcl_SendCommand               0      0     52
     zclLighting_ColorControl_Send_StepSaturationCmd
                                        1      0     29
       -> zcl_SendCommand               0      0     52
     zclLighting_HdlIncoming            2      0      0
       -> zclLighting_ProcessInColorControlCmds
                                        4      0      0
     zclLighting_ProcessInCmd_ColorControl_MoveHue
                                        1      0     43
       -> zcl_SendDefaultRspCmd         0      0     42
     zclLighting_ProcessInCmd_ColorControl_MoveSaturation
                                        1      0     43
       -> zcl_SendDefaultRspCmd         0      0     42
     zclLighting_ProcessInColorControlCmds
                                        1      0     22
       -> zclLighting_ProcessInCmd_ColorControl_MoveHue
                                        0      0     44
       -> zclLighting_ProcessInCmd_ColorControl_MoveSaturation
                                        0      0     44
     zclLighting_RegisterCmdCallbacks
                                        1      0     14
       -> zcl_registerPlugin            0      0     28
       -> osal_mem_alloc                0      0     24


   Segment part sizes:

     Function/Label                                  Bytes
     --------------                                  -----
     zclLightingCBs                                     2
     zclLightingPluginRegisted                          1
     zclLighting_RegisterCmdCallbacks
                                                      141
     ??Subroutine46_0                                   5
     ??Subroutine48_0                                   6
     ??Subroutine51_0                                   8
     zclLighting_ColorControl_Send_MoveToHueCmd
                                                      120
     ?Subroutine26                                      1
     ??Subroutine42_0                                  12
     ?Subroutine37                                      8
     ?Subroutine0                                       5
     ??Subroutine44_0                                   8
     ??Subroutine45_0                                   3
     ?Subroutine17                                     13
     ?Subroutine15                                      4
     ?Subroutine29                                     12
     ??Subroutine52_0                                   6
     zclLighting_ColorControl_Send_MoveHueCmd
                                                       92
     ?Subroutine25                                      1
     ??Subroutine43_0                                  12
     ?Subroutine6                                      13
     ?Subroutine1                                      13
     ??Subroutine47_0                                   8
     zclLighting_ColorControl_Send_StepHueCmd
                                                      107
     ?Subroutine3                                      16
     zclLighting_ColorControl_Send_MoveToSaturationCmd
                                                      102
     zclLighting_ColorControl_Send_MoveSaturationCmd
                                                       95
     zclLighting_ColorControl_Send_StepSaturationCmd
                                                      110
     zclLighting_ColorControl_Send_MoveToHueAndSaturationCmd
                                                      120
     zclLighting_ColorControl_Send_MoveToColorCmd
                                                      157
     ?Subroutine19                                      8
     ?Subroutine16                                     14
     zclLighting_ColorControl_Send_MoveColorCmd
                                                      151
     zclLighting_ColorControl_Send_StepColorCmd
                                                      180
     zclLighting_ColorControl_Send_MoveToColorTemperatureCmd
                                                      130
     zclLighting_HdlIncoming                          111
     ?Subroutine35                                      3
     ?Subroutine22                                      4
     ??Subroutine49_0                                   2
     ??Subroutine50_0                                   7
     ??Subroutine54_0                                   6
     ?Subroutine38                                      9
     zclLighting_ProcessInColorControlCmds
                                                      592
     ?Subroutine28                                      8
     ?Subroutine27                                     12
     ?Subroutine31                                      5
     ?Subroutine20                                      4
     ?Subroutine18                                      7
     ?Subroutine14                                     19
     ?Subroutine36                                      4
     ?Subroutine13                                      4
     ?Subroutine33                                     13
     ?Subroutine12                                     15
     ?Subroutine11                                      6
     ?Subroutine10                                      6
     ?Subroutine30                                     23
     ?Subroutine39                                      4
     ?Subroutine7                                      13
     ?Subroutine32                                      7
     ?Subroutine40                                     13
     ?Subroutine5                                       4
     ??Subroutine53_0                                  14
     ?Subroutine34                                      6
     ?Subroutine41                                     10
     ?Subroutine4                                       7
     zclLighting_ProcessInCmd_ColorControl_MoveHue
                                                      134
     ?Subroutine2                                      10
     ?Subroutine24                                     17
     ?Subroutine23                                     22
     ?Subroutine21                                      6
     ?Subroutine9                                      28
     ?Subroutine8                                      34
     zclLighting_ProcessInCmd_ColorControl_MoveSaturation
                                                      149
     ??zclLighting_RegisterCmdCallbacks?relay           6
     ??zclLighting_ColorControl_Send_MoveToHueCmd?re    6
     ??zclLighting_ColorControl_Send_MoveHueCmd?rela    6
     ??zclLighting_ColorControl_Send_StepHueCmd?rela    6
     ??zclLighting_ColorControl_Send_MoveToSaturatio    6
     ??zclLighting_ColorControl_Send_MoveSaturationC    6
     ??zclLighting_ColorControl_Send_StepSaturationC    6
     ??zclLighting_ColorControl_Send_MoveToHueAndSat    6
     ??zclLighting_ColorControl_Send_MoveToColorCmd?    6
     ??zclLighting_ColorControl_Send_MoveColorCmd?re    6
     ??zclLighting_ColorControl_Send_StepColorCmd?re    6
     ??zclLighting_ColorControl_Send_MoveToColorTemp    6
     ??zclLighting_HdlIncoming?relay                    6
     ??zclLighting_ProcessInColorControlCmds?relay      6
     ??zclLighting_ProcessInCmd_ColorControl_MoveHue    6
     ??zclLighting_ProcessInCmd_ColorControl_MoveSat    6

 
 3 019 bytes in segment BANKED_CODE
    96 bytes in segment BANK_RELAYS
     3 bytes in segment XDATA_Z
 
 3 115 bytes of CODE  memory
     3 bytes of XDATA memory

Errors: none
Warnings: none
