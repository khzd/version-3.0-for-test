###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         15/Jun/2015  20:13:04 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\Source\AT_ZCL.c            #
#    Command line       =  -f "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\Tools\CC #
#                          2530DB\f8wCoord.cfg" (-DCPU32MHZ                   #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f "S:\zigbee\Myzigbe\version 3.0 for new          #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\Tools\CC #
#                          2530DB\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0      #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0x2015                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "S:\zigbee\Myzigbe\version  #
#                          3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\A #
#                          T commands\AT command 3.2\Source\AT_ZCL.c" -D      #
#                          ZIGBEEPRO -D NWK_AUTO_POLL -D HAL_UART=TRUE -D     #
#                          HOLD_AUTO_START -D NV_RESTORE -D REFLECTOR -D      #
#                          HAL_UART_ISR=1 -D HAL_UART_DMA=0 -D                #
#                          xHAL_UART_ISR_TX_MAX=200 -D xPOWER_SAVING -D       #
#                          ZCL_READ -D ZCL_WRITE -D ZCL_IDENTIFY -D           #
#                          ZCL_ON_OFF -D ZCL_DISCOVER -D xZTOOL_P1 -D         #
#                          xMT_TASK -D xMT_SYS_FUNC -D xMT_ZDO_FUNC -D        #
#                          xLCD_SUPPORTED=DEBUG -D xMT_UART_DEFAULT_OVERFLOW= #
#                          FALSE -lC "S:\zigbee\Myzigbe\version 3.0 for new   #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Lis #
#                          t\" -lA "S:\zigbee\Myzigbe\version 3.0 for new     #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Lis #
#                          t\" --diag_suppress Pe001,Pa010 -o                 #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Obj #
#                          \" -e --no_code_motion --debug --core=plain        #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "S:\zigbee\Myzigbe\version #
#                           3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          AT commands\AT command 3.2\CC2530DB\" -I           #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\Source\" -I    #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\ZMain\TI #
#                          2530DB\" -I "S:\zigbee\Myzigbe\version 3.0 for     #
#                          new ZStack-CC2530-2.5.1a\Projects\zstack\AT        #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\hal\include\" -I                          #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\hal\target\CC2530EB\" -I                  #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\include\" -I                          #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\high_level\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\low_level\srf04\" -I                  #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mac\low_level\srf04\single_chip\" -I      #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\mt\" -I "S:\zigbee\Myzigbe\version 3.0    #
#                          for new ZStack-CC2530-2.5.1a\Projects\zstack\AT    #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\osal\include\" -I                         #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\services\saddr\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\services\sdata\" -I                       #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\af\" -I "S:\zigbee\Myzigbe\version  #
#                          3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\A #
#                          T commands\AT command 3.2\CC2530DB\..\..\..\..\..\ #
#                          Components\stack\nwk\" -I                          #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\sapi\" -I                           #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\sec\" -I "S:\zigbee\Myzigbe\version #
#                           3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          AT commands\AT command 3.2\CC2530DB\..\..\..\..\.. #
#                          \Components\stack\sys\" -I                         #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\stack\zdo\" -I "S:\zigbee\Myzigbe\version #
#                           3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          AT commands\AT command 3.2\CC2530DB\..\..\..\..\.. #
#                          \Components\stack\zcl\" -I                         #
#                          "S:\zigbee\Myzigbe\version 3.0 for new             #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\zmac\" -I "S:\zigbee\Myzigbe\version 3.0  #
#                          for new ZStack-CC2530-2.5.1a\Projects\zstack\AT    #
#                          commands\AT command 3.2\CC2530DB\..\..\..\..\..\Co #
#                          mponents\zmac\f8w\" -Ohz --require_prototypes      #
#    List file          =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Lis #
#                          t\AT_ZCL.lst                                       #
#    Object file        =  S:\zigbee\Myzigbe\version 3.0 for new              #
#                          ZStack-CC2530-2.5.1a\Projects\zstack\AT            #
#                          commands\AT command 3.2\CC2530DB\CoordinatorEB\Obj #
#                          \AT_ZCL.r51                                        #
#                                                                             #
#                                                                             #
###############################################################################

S:\zigbee\Myzigbe\version 3.0 for new ZStack-CC2530-2.5.1a\Projects\zstack\AT commands\AT command 3.2\Source\AT_ZCL.c
      1          
      2          /*********************************************************************
      3           * INCLUDES
      4           */
      5          #include "ZComDef.h"
      6          #include "OSAL.h"
      7          #include "AF.h"
      8          #include "ZDApp.h"
      9          
     10          #include "zcl.h"
     11          #include "zcl_ha.h"
     12          
     13          #include "At_include.h"
     14          
     15          #include "onboard.h"
     16          
     17          /* HAL */
     18          #include "hal_led.h"
     19          #include "hal_key.h"
     20          
     21          /*********************************************************************
     22           * GLOBAL VARIABLES
     23           */
     24          
     25          /**************************variables************************************/
     26          
     27          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     28          AT_ZCL_EP_ENABLE_CBs_t *AT_ZCL_EP_ENABLE_CBs=NULL;
   \                     AT_ZCL_EP_ENABLE_CBs:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     29          
     30          /*********************************************************************
     31           * SIMPLE DESCRIPTOR
     32           */
     33          
     34          #define AT_ZCL_DEVICE_VERSION     0
     35          #define AT_ZCL_FLAGS              0
     36          
     37          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     38          SimpleDescriptionFormat_t AT_ZCL_SimpleDesc =
   \                     AT_ZCL_SimpleDesc:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for AT_ZCL_SimpleDesc>`
   \   00000C                REQUIRE __INIT_XDATA_I
     39          {
     40            AT_ZCL_ENDPOINT,                  //  int Endpoint;
     41            ZCL_HA_PROFILE_ID,                     //  uint16 AppProfId[2];
     42            ZCL_HA_DEVICEID_TEST_DEVICE,           //  uint16 AppDeviceId[2];
     43            AT_ZCL_DEVICE_VERSION,            //  int   AppDevVer:4;
     44            AT_ZCL_FLAGS,                     //  int   AppFlags:4;
     45            0,                              //  byte  AppNumInClusters;
     46            NULL,                           //  byte *pAppInClusterList;
     47            0,                                //  byte  AppNumInClusters;
     48            NULL                              //  byte *pAppInClusterList;
     49          };
     50          
     51          
     52          
     53          
     54          
     55          /****************************functons**********************/
     56          
     57          void AT_ZCL_ProcessIncomingMsg( zclIncomingMsg_t *pInMsg);
     58          static uint8 AT_ZCL_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg );
     59          static uint8 AT_ZCL_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg);
     60          static uint8 AT_ZCL_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg );
     61          static uint8 AT_ZCL_ProcessInDiscoverRspCmd( zclIncomingMsg_t *pInMsg );
     62          static void AT_ZCL_IdentifyQueryRspCB(zclIdentifyQueryRsp_t *pRsp);
     63          
     64          
     65          
     66          /*********************************************************************
     67           * ZCL General Profile Callback table
     68           */
     69          
     70          //just for receiving the response message sent from AT command system.

   \                                 In  segment XDATA_I, align 1, keep-with-next
     71          static zclGeneral_AppCallbacks_t AT_ZCL_GEN_CmdCallbacks =
   \                     AT_ZCL_GEN_CmdCallbacks:
   \   000000                DS 30
   \   00001E                REQUIRE `?<Initializer for AT_ZCL_GEN_CmdCallbacks>`
   \   00001E                REQUIRE __INIT_XDATA_I
     72          { 
     73            NULL,                                     // Basic Cluster Reset command
     74            NULL,                                      // Identify command   
     75            AT_ZCL_IdentifyQueryRspCB,                // Identify Query Response command
     76            NULL,                                     // On/Off cluster command
     77            NULL,                                     // Level Control Move to Level command
     78            NULL,                                     // Level Control Move command
     79            NULL,                                     // Level Control Step command
     80            NULL,                                     // Group Response commands
     81            NULL,                                     // Scene Store Request command
     82            NULL,                                     // Scene Recall Request command
     83            NULL,                                     // Scene Response command
     84            NULL,                                     // Alarm (Response) command
     85            NULL,                                     // RSSI Location commands
     86            NULL,                                     // RSSI Location Response commands
     87          };
     88          
     89          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     90          void AT_ZCL_Init(void )
   \                     AT_ZCL_Init:
     91          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
     92            
     93            // This app is part of the Home Automation Profile
     94            zclHA_Init( &AT_ZCL_SimpleDesc );
   \   000004                ; Setup parameters for call to function zclHA_Init
   \   000004   7A..         MOV     R2,#AT_ZCL_SimpleDesc & 0xff
   \   000006   7B..         MOV     R3,#(AT_ZCL_SimpleDesc >> 8) & 0xff
   \   000008   12....       LCALL   ??zclHA_Init?relay
     95            
     96            //Register the ZCL General Cluster Library callback functions
     97            zclGeneral_RegisterCmdCallbacks( AT_ZCL_ENDPOINT, &AT_ZCL_GEN_CmdCallbacks );
   \   00000B                ; Setup parameters for call to function zclGeneral_RegisterCmdCallbacks
   \   00000B   7A..         MOV     R2,#AT_ZCL_GEN_CmdCallbacks & 0xff
   \   00000D   7B..         MOV     R3,#(AT_ZCL_GEN_CmdCallbacks >> 8) & 0xff
   \   00000F   79CB         MOV     R1,#-0x35
   \   000011   12....       LCALL   ??zclGeneral_RegisterCmdCallbacks?relay
     98          }
   \   000014   D083         POP     DPH
   \   000016   D082         POP     DPL
   \   000018   02....       LJMP    ?BRET
     99          
    100          
    101          
    102          
    103          /*********************************************************************
    104           * @fn      AT_ZCL_ProcessIncomingMsg
    105           *
    106           * @brief   Process ZCL Foundation incoming message
    107           *
    108           * @param   pInMsg - pointer to the received message
    109           *
    110           * @return  none
    111           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    112          void AT_ZCL_ProcessIncomingMsg( zclIncomingMsg_t *pInMsg)
   \                     AT_ZCL_ProcessIncomingMsg:
    113          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    114            switch ( pInMsg->zclHdr.commandID )
   \   000009   8E82         MOV     DPL,R6
   \   00000B   8F83         MOV     DPH,R7
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   E0           MOVX    A,@DPTR
   \   000015   14           DEC     A
   \   000016   600A         JZ      ??AT_ZCL_ProcessIncomingMsg_0
   \   000018   24FD         ADD     A,#-0x3
   \   00001A   600B         JZ      ??AT_ZCL_ProcessIncomingMsg_1
   \   00001C   24F7         ADD     A,#-0x9
   \   00001E   600C         JZ      ??AT_ZCL_ProcessIncomingMsg_2
   \   000020   800F         SJMP    ??AT_ZCL_ProcessIncomingMsg_3
    115            {
    116          
    117          #ifdef ZCL_READ
    118              case ZCL_CMD_READ_RSP:
    119                AT_ZCL_ProcessInReadRspCmd( pInMsg );
   \                     ??AT_ZCL_ProcessIncomingMsg_0:
   \   000022                ; Setup parameters for call to function AT_ZCL_ProcessInReadRspCmd
   \   000022   12....       LCALL   ??AT_ZCL_ProcessInReadRspCmd?relay
    120                break;
   \   000025   800D         SJMP    ??AT_ZCL_ProcessIncomingMsg_4
    121          #endif
    122          #ifdef ZCL_WRITE    
    123              case ZCL_CMD_WRITE_RSP:
    124                AT_ZCL_ProcessInWriteRspCmd( pInMsg );
   \                     ??AT_ZCL_ProcessIncomingMsg_1:
   \   000027                ; Setup parameters for call to function AT_ZCL_ProcessInWriteRspCmd
   \   000027   12....       LCALL   ??AT_ZCL_ProcessInWriteRspCmd?relay
    125                break;
   \   00002A   8008         SJMP    ??AT_ZCL_ProcessIncomingMsg_4
    126          #endif
    127              case ZCL_CMD_DISCOVER_RSP:
    128                AT_ZCL_ProcessInDiscoverRspCmd( pInMsg );
   \                     ??AT_ZCL_ProcessIncomingMsg_2:
   \   00002C                ; Setup parameters for call to function AT_ZCL_ProcessInDiscoverRspCmd
   \   00002C   12....       LCALL   ??AT_ZCL_ProcessInDiscoverRspCmd?relay
    129                break;
   \   00002F   8003         SJMP    ??AT_ZCL_ProcessIncomingMsg_4
    130              case ZCL_CMD_DEFAULT_RSP:
    131                AT_ZCL_ProcessInDefaultRspCmd( pInMsg );
   \                     ??AT_ZCL_ProcessIncomingMsg_3:
   \   000031                ; Setup parameters for call to function AT_ZCL_ProcessInDefaultRspCmd
   \   000031   12....       LCALL   ??AT_ZCL_ProcessInDefaultRspCmd?relay
    132                break;
    133                
    134              default:
    135                AT_ZCL_ProcessInDefaultRspCmd( pInMsg );
    136                break;
    137            }
    138            
    139            if ( pInMsg->attrCmd )
   \                     ??AT_ZCL_ProcessIncomingMsg_4:
   \   000034   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   000037   F8           MOV     R0,A
   \   000038   A3           INC     DPTR
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   F9           MOV     R1,A
   \   00003B   E8           MOV     A,R0
   \   00003C   49           ORL     A,R1
   \   00003D   600A         JZ      ??AT_ZCL_ProcessIncomingMsg_5
    140              osal_mem_free( pInMsg->attrCmd );
   \   00003F                ; Setup parameters for call to function osal_mem_free
   \   00003F   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   000042   FA           MOV     R2,A
   \   000043   A3           INC     DPTR
   \   000044   E0           MOVX    A,@DPTR
   \   000045   FB           MOV     R3,A
   \   000046   12....       LCALL   ??osal_mem_free?relay
    141          }
   \                     ??AT_ZCL_ProcessIncomingMsg_5:
   \   000049                REQUIRE ?Subroutine0
   \   000049                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   EE           MOV     A,R6
   \   000001   2417         ADD     A,#0x17
   \   000003   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   F582         MOV     DPL,A
   \   000002   EF           MOV     A,R7
   \   000003                REQUIRE ??Subroutine33_0
   \   000003                ; // Fall through to label ??Subroutine33_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine33_0:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET
    142          
    143          
    144          #ifdef ZCL_READ
    145          /*********************************************************************
    146           * @fn      AT_ZCL_ProcessInReadRspCmd
    147           *
    148           * @brief   Process the "Profile" Read Response Command
    149           *
    150           * @param   pInMsg - incoming message to process
    151           *
    152           * @return  none
    153           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    154          static uint8 AT_ZCL_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg )
   \                     AT_ZCL_ProcessInReadRspCmd:
    155          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 17
   \   000005   74EF         MOV     A,#-0x11
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine9 & 0xFFFF
    156            zclReadRspCmd_t *readRspCmd;
    157            uint8 i;
    158          
    159            readRspCmd = (zclReadRspCmd_t *)pInMsg->attrCmd;
   \                     ??CrossCallReturnLabel_40:
   \   00000D   F5..         MOV     ?V0 + 4,A
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   F5..         MOV     ?V0 + 5,A
    160            
    161            char str[17];
    162            AT_RESP_START();
   \   000013                ; Setup parameters for call to function AT_HalUARTWrite
   \   000013   7C02         MOV     R4,#0x2
   \   000015   7D00         MOV     R5,#0x0
   \   000017   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000019   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   00001B   7900         MOV     R1,#0x0
   \   00001D   12....       LCALL   ??AT_HalUARTWrite?relay
    163            for (i = 0; i < readRspCmd->numAttr; i++)
   \   000020   7E00         MOV     R6,#0x0
   \   000022   8045         SJMP    ??AT_ZCL_ProcessInReadRspCmd_0
    164            {
    165                  AT_RESP("RESPATR:",8);
    166                  //node id
    167                  if(pInMsg->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
    168                    AT_Int16toChar(pInMsg->srcAddr.addr.shortAddr,str);
    169                    AT_RESP(str,4);
    170                  }else{
    171                    AT_EUI64toChar(pInMsg->srcAddr.addr.extAddr,str);
    172                    AT_RESP(str,16);
    173                  }
    174                  AT_RESP(",",1);
    175                  
    176                  //End ponit
    177                  AT_Int8toChar(pInMsg->srcAddr.endPoint,str);
    178                  AT_RESP(str,2);
    179                  AT_RESP(",",1);
    180                  
    181                  //Cluster ID
    182                  AT_Int16toChar(pInMsg->clusterId,str);
    183                  AT_RESP(str,4);
    184                  AT_RESP(",",1);
    185                  
    186                  //Attribute ID
    187                  AT_Int16toChar(readRspCmd->attrList[i].attrID,str);
    188                  AT_RESP(str,4);
    189                  AT_RESP(",",1);
    190                  
    191                  //status
    192                  AT_Int8toChar(readRspCmd->attrList[i].status,str);
    193                  AT_RESP(str,2);
    194                  AT_RESP(",",1);
    195          
    196                  //data type
    197                  AT_Int8toChar(readRspCmd->attrList[i].dataType,str);
    198                  AT_RESP(str,2);
    199                  AT_RESP(",",1);
    200                  
    201                  //ATTR VALUE
    202                  if(readRspCmd->attrList[i].dataType == ZCL_DATATYPE_CHAR_STR){
    203                    AT_RESP(readRspCmd->attrList[i].data +1,readRspCmd->attrList[i].data[0]);        
    204                  }else if(readRspCmd->attrList[i].dataType == ZCL_DATATYPE_DATA16||
    205                           readRspCmd->attrList[i].dataType == ZCL_DATATYPE_UINT16||
    206                           readRspCmd->attrList[i].dataType == ZCL_DATATYPE_INT16){
    207                    AT_Int16toChar(*((uint16*)readRspCmd->attrList[i].data),str);
    208                    AT_RESP(str,4);
    209                  }else{
    210                    
    211                    AT_Int8toChar((uint8)readRspCmd->attrList[i].data[0],str);
   \                     ??AT_ZCL_ProcessInReadRspCmd_1:
   \   000024                ; Setup parameters for call to function AT_Int8toChar
   \   000024   85..82       MOV     DPL,?XSP + 0
   \   000027   85..83       MOV     DPH,?XSP + 1
   \   00002A   AA82         MOV     R2,DPL
   \   00002C   AB83         MOV     R3,DPH
   \   00002E   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   000031   E0           MOVX    A,@DPTR
   \   000032   F9           MOV     R1,A
   \   000033   12....       LCALL   ??AT_Int8toChar?relay
    212                    AT_RESP(str,2);
   \   000036                ; Setup parameters for call to function AT_HalUARTWrite
   \   000036   7C02         MOV     R4,#0x2
   \                     ??AT_ZCL_ProcessInReadRspCmd_2:
   \   000038   7D00         MOV     R5,#0x0
   \   00003A   85..82       MOV     DPL,?XSP + 0
   \   00003D   85..83       MOV     DPH,?XSP + 1
   \   000040   AA82         MOV     R2,DPL
   \   000042   AB83         MOV     R3,DPH
   \                     ??AT_ZCL_ProcessInReadRspCmd_3:
   \   000044   7900         MOV     R1,#0x0
   \   000046   12....       LCALL   ??AT_HalUARTWrite?relay
    213                  }
    214                  
    215                  if(i<readRspCmd->numAttr-1) AT_NEXT_LINE();
   \   000049   8E..         MOV     ?V0 + 0,R6
   \   00004B   85..82       MOV     DPL,?V0 + 4
   \   00004E   85..83       MOV     DPH,?V0 + 5
   \   000051   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000054   E5..         MOV     A,?V0 + 0
   \   000056   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000059   500D         JNC     ??AT_ZCL_ProcessInReadRspCmd_4
   \   00005B                ; Setup parameters for call to function AT_HalUARTWrite
   \   00005B   7C02         MOV     R4,#0x2
   \   00005D   7D00         MOV     R5,#0x0
   \   00005F   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   000061   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   000063   7900         MOV     R1,#0x0
   \   000065   12....       LCALL   ??AT_HalUARTWrite?relay
   \                     ??AT_ZCL_ProcessInReadRspCmd_4:
   \   000068   0E           INC     R6
   \                     ??AT_ZCL_ProcessInReadRspCmd_0:
   \   000069   85..82       MOV     DPL,?V0 + 4
   \   00006C   85..83       MOV     DPH,?V0 + 5
   \   00006F   E0           MOVX    A,@DPTR
   \   000070   F8           MOV     R0,A
   \   000071   EE           MOV     A,R6
   \   000072   C3           CLR     C
   \   000073   98           SUBB    A,R0
   \   000074   4003         JC      $+5
   \   000076   02....       LJMP    ??AT_ZCL_ProcessInReadRspCmd_5 & 0xFFFF
   \   000079                ; Setup parameters for call to function AT_HalUARTWrite
   \   000079   7C08         MOV     R4,#0x8
   \   00007B   7D00         MOV     R5,#0x0
   \   00007D   7A..         MOV     R2,#`?<Constant "RESPATR:">` & 0xff
   \   00007F   7B..         MOV     R3,#(`?<Constant "RESPATR:">` >> 8) & 0xff
   \   000081   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000084   7005         JNZ     ??AT_ZCL_ProcessInReadRspCmd_6
   \   000086                ; Setup parameters for call to function AT_Int16toChar
   \   000086   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000089   8003         SJMP    ??CrossCallReturnLabel_25
   \                     ??AT_ZCL_ProcessInReadRspCmd_6:
   \   00008B                ; Setup parameters for call to function AT_EUI64toChar
   \   00008B   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00008E   7D00         MOV     R5,#0x0
   \   000090   85..82       MOV     DPL,?XSP + 0
   \   000093   85..83       MOV     DPH,?XSP + 1
   \   000096   AA82         MOV     R2,DPL
   \   000098   AB83         MOV     R3,DPH
   \   00009A   7900         MOV     R1,#0x0
   \   00009C   12....       LCALL   ??AT_HalUARTWrite?relay
   \   00009F   75....       MOV     ?V0 + 2,#`?<Constant ",">` & 0xff
   \   0000A2   75....       MOV     ?V0 + 3,#(`?<Constant ",">` >> 8) & 0xff
   \   0000A5                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000A5   7C01         MOV     R4,#0x1
   \   0000A7   7D00         MOV     R5,#0x0
   \   0000A9   AA..         MOV     R2,?V0 + 2
   \   0000AB   AB..         MOV     R3,?V0 + 3
   \   0000AD   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   0000B0   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   0000B3                ; Setup parameters for call to function AT_Int16toChar
   \   0000B3   85..82       MOV     DPL,?XSP + 0
   \   0000B6   85..83       MOV     DPH,?XSP + 1
   \   0000B9   AC82         MOV     R4,DPL
   \   0000BB   AD83         MOV     R5,DPH
   \   0000BD   85..82       MOV     DPL,?V0 + 6
   \   0000C0   85..83       MOV     DPH,?V0 + 7
   \   0000C3   A3           INC     DPTR
   \   0000C4   A3           INC     DPTR
   \   0000C5   A3           INC     DPTR
   \   0000C6   A3           INC     DPTR
   \   0000C7   A3           INC     DPTR
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   0000CD   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   0000D0                ; Setup parameters for call to function AT_Int16toChar
   \   0000D0   85..82       MOV     DPL,?XSP + 0
   \   0000D3   85..83       MOV     DPH,?XSP + 1
   \   0000D6   AC82         MOV     R4,DPL
   \   0000D8   AD83         MOV     R5,DPH
   \   0000DA   85..82       MOV     DPL,?V0 + 0
   \   0000DD   F583         MOV     DPH,A
   \   0000DF   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   0000E2                ; Setup parameters for call to function AT_Int8toChar
   \   0000E2   85..82       MOV     DPL,?XSP + 0
   \   0000E5   85..83       MOV     DPH,?XSP + 1
   \   0000E8   AA82         MOV     R2,DPL
   \   0000EA   AB83         MOV     R3,DPH
   \   0000EC   85..82       MOV     DPL,?V0 + 0
   \   0000EF   85..83       MOV     DPH,?V0 + 1
   \   0000F2   A3           INC     DPTR
   \   0000F3   A3           INC     DPTR
   \   0000F4   A3           INC     DPTR
   \   0000F5   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   0000F8   E5..         MOV     A,?V0 + 0
   \   0000FA   2404         ADD     A,#0x4
   \   0000FC   F5..         MOV     ?V0 + 0,A
   \   0000FE   E5..         MOV     A,?V0 + 1
   \   000100   3400         ADDC    A,#0x0
   \   000102   F5..         MOV     ?V0 + 1,A
   \   000104                ; Setup parameters for call to function AT_Int8toChar
   \   000104   85..82       MOV     DPL,?XSP + 0
   \   000107   85..83       MOV     DPH,?XSP + 1
   \   00010A   AA82         MOV     R2,DPL
   \   00010C   AB83         MOV     R3,DPH
   \   00010E   85..82       MOV     DPL,?V0 + 0
   \   000111   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   000114   85..82       MOV     DPL,?V0 + 0
   \   000117   85..83       MOV     DPH,?V0 + 1
   \   00011A   E0           MOVX    A,@DPTR
   \   00011B   6442         XRL     A,#0x42
   \   00011D   702D         JNZ     ??AT_ZCL_ProcessInReadRspCmd_7
   \   00011F   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000122   E5..         MOV     A,?V0 + 0
   \   000124   2405         ADD     A,#0x5
   \   000126   F8           MOV     R0,A
   \   000127   E5..         MOV     A,?V0 + 1
   \   000129   3400         ADDC    A,#0x0
   \   00012B   F9           MOV     R1,A
   \   00012C                ; Setup parameters for call to function AT_HalUARTWrite
   \   00012C   8882         MOV     DPL,R0
   \   00012E   8983         MOV     DPH,R1
   \   000130   E0           MOVX    A,@DPTR
   \   000131   FA           MOV     R2,A
   \   000132   A3           INC     DPTR
   \   000133   E0           MOVX    A,@DPTR
   \   000134   F583         MOV     DPH,A
   \   000136   8A82         MOV     DPL,R2
   \   000138   E0           MOVX    A,@DPTR
   \   000139   FC           MOV     R4,A
   \   00013A   7D00         MOV     R5,#0x0
   \   00013C   8882         MOV     DPL,R0
   \   00013E   8983         MOV     DPH,R1
   \   000140   E0           MOVX    A,@DPTR
   \   000141   2401         ADD     A,#0x1
   \   000143   0A           INC     R2
   \   000144   A3           INC     DPTR
   \   000145   E0           MOVX    A,@DPTR
   \   000146   3400         ADDC    A,#0x0
   \   000148   FB           MOV     R3,A
   \   000149   02....       LJMP    ??AT_ZCL_ProcessInReadRspCmd_3 & 0xFFFF
   \                     ??AT_ZCL_ProcessInReadRspCmd_7:
   \   00014C   EE           MOV     A,R6
   \   00014D   75F006       MOV     B,#0x6
   \   000150   A4           MUL     AB
   \   000151   F8           MOV     R0,A
   \   000152   A9F0         MOV     R1,B
   \   000154   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000157   6409         XRL     A,#0x9
   \   000159   6011         JZ      ??AT_ZCL_ProcessInReadRspCmd_8
   \   00015B   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   00015E   6421         XRL     A,#0x21
   \   000160   600A         JZ      ??AT_ZCL_ProcessInReadRspCmd_8
   \   000162   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   000165   6429         XRL     A,#0x29
   \   000167   6003         JZ      $+5
   \   000169   02....       LJMP    ??AT_ZCL_ProcessInReadRspCmd_1 & 0xFFFF
   \                     ??AT_ZCL_ProcessInReadRspCmd_8:
   \   00016C                ; Setup parameters for call to function AT_Int16toChar
   \   00016C   85..82       MOV     DPL,?XSP + 0
   \   00016F   85..83       MOV     DPH,?XSP + 1
   \   000172   AC82         MOV     R4,DPL
   \   000174   AD83         MOV     R5,DPH
   \   000176   12....       LCALL   ?Subroutine10 & 0xFFFF
    216            }
   \                     ??CrossCallReturnLabel_39:
   \   000179   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   00017C   02....       LJMP    ??AT_ZCL_ProcessInReadRspCmd_2 & 0xFFFF
    217            AT_RESP_END(); 
   \                     ??AT_ZCL_ProcessInReadRspCmd_5:
   \   00017F                ; Setup parameters for call to function AT_HalUARTWrite
   \   00017F   12....       LCALL   ?Subroutine18 & 0xFFFF
    218          
    219            return TRUE; 
   \                     ??CrossCallReturnLabel_48:
   \   000182   7411         MOV     A,#0x11
   \   000184   12....       LCALL   ?DEALLOC_XSTACK8
   \   000187   7F08         MOV     R7,#0x8
   \   000189   02....       LJMP    ?BANKED_LEAVE_XDATA
    220          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   8E82         MOV     DPL,R6
   \   000002   E582         MOV     A,DPL
   \   000004   75F006       MOV     B,#0x6
   \   000007   A4           MUL     AB
   \   000008   F8           MOV     R0,A
   \   000009   A9F0         MOV     R1,B
   \   00000B   E5..         MOV     A,?V0 + 4
   \   00000D   28           ADD     A,R0
   \   00000E   F5..         MOV     ?V0 + 0,A
   \   000010   E5..         MOV     A,?V0 + 5
   \   000012   39           ADDC    A,R1
   \   000013   F5..         MOV     ?V0 + 1,A
   \   000015   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   000003                REQUIRE ??Subroutine28_0
   \   000003                ; // Fall through to label ??Subroutine28_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine28_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F8           MOV     R0,A
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F583         MOV     DPH,A
   \   000009   8882         MOV     DPL,R0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   E5..         MOV     A,?V0 + 4
   \   000002   28           ADD     A,R0
   \   000003   F582         MOV     DPL,A
   \   000005   E5..         MOV     A,?V0 + 5
   \   000007   39           ADDC    A,R1
   \   000008   F583         MOV     DPH,A
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   8A..         MOV     ?V0 + 6,R2
   \   000002   8B..         MOV     ?V0 + 7,R3
   \   000004                REQUIRE ??Subroutine29_0
   \   000004                ; // Fall through to label ??Subroutine29_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine29_0:
   \   000000   EA           MOV     A,R2
   \   000001   2417         ADD     A,#0x17
   \   000003   F582         MOV     DPL,A
   \   000005   EB           MOV     A,R3
   \   000006   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   000003   AA..         MOV     R2,?V0 + 2
   \   000005   AB..         MOV     R3,?V0 + 3
   \   000007   7900         MOV     R1,#0x0
   \   000009   12....       LCALL   ??AT_HalUARTWrite?relay
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   F583         MOV     DPH,A
   \   000002                REQUIRE ??Subroutine30_0
   \   000002                ; // Fall through to label ??Subroutine30_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine30_0:
   \   000000   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   000003   AA..         MOV     R2,?V0 + 2
   \   000005   AB..         MOV     R3,?V0 + 3
   \   000007   7900         MOV     R1,#0x0
   \   000009   12....       LCALL   ??AT_HalUARTWrite?relay
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   98           SUBB    A,R0
   \   000001   E4           CLR     A
   \   000002   99           SUBB    A,R1
   \   000003   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000005   65D0         XRL     A,PSW
   \   000007   33           RLC     A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   E5..         MOV     A,?V0 + 6
   \   000002   240A         ADD     A,#0xa
   \   000004   FA           MOV     R2,A
   \   000005   E5..         MOV     A,?V0 + 7
   \   000007   3400         ADDC    A,#0x0
   \   000009   FB           MOV     R3,A
   \   00000A   12....       LCALL   ??AT_EUI64toChar?relay
   \   00000D                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000D                ; Setup parameters for call to function AT_HalUARTWrite
   \   00000D   7C10         MOV     R4,#0x10
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   7C02         MOV     R4,#0x2
   \   000002   7D00         MOV     R5,#0x0
   \   000004                REQUIRE ??Subroutine31_0
   \   000004                ; // Fall through to label ??Subroutine31_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine31_0:
   \   000000   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000002   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000004   7900         MOV     R1,#0x0
   \   000006   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000009   7901         MOV     R1,#0x1
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   7900         MOV     R1,#0x0
   \   000002   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000005                ; Setup parameters for call to function AT_Int8toChar
   \   000005                ; Setup parameters for call to function AT_Int8toChar
   \   000005   85..82       MOV     DPL,?XSP + 0
   \   000008   85..83       MOV     DPH,?XSP + 1
   \   00000B   AA82         MOV     R2,DPL
   \   00000D   AB83         MOV     R3,DPH
   \   00000F   E5..         MOV     A,?V0 + 6
   \   000011   2413         ADD     A,#0x13
   \   000013   F582         MOV     DPL,A
   \   000015   E5..         MOV     A,?V0 + 7
   \   000017   3400         ADDC    A,#0x0
   \   000019   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   24FF         ADD     A,#-0x1
   \   000003   F8           MOV     R0,A
   \   000004   E4           CLR     A
   \   000005   34FF         ADDC    A,#-0x1
   \   000007   F9           MOV     R1,A
   \   000008   C3           CLR     C
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   7900         MOV     R1,#0x0
   \   000002   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000005   E5..         MOV     A,?V0 + 6
   \   000007   2412         ADD     A,#0x12
   \   000009   F582         MOV     DPL,A
   \   00000B   E5..         MOV     A,?V0 + 7
   \   00000D   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000010   6402         XRL     A,#0x2
   \   000012   85..82       MOV     DPL,?XSP + 0
   \   000015   85..83       MOV     DPH,?XSP + 1
   \   000018   AC82         MOV     R4,DPL
   \   00001A   AD83         MOV     R5,DPH
   \   00001C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   85..82       MOV     DPL,?V0 + 6
   \   000003   85..83       MOV     DPH,?V0 + 7
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010                REQUIRE ??Subroutine32_0
   \   000010                ; // Fall through to label ??Subroutine32_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine32_0:
   \   000000   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   12....       LCALL   ??AT_Int16toChar?relay
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008                ; Setup parameters for call to function AT_HalUARTWrite
   \   000008   7C04         MOV     R4,#0x4
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   12....       LCALL   ??AT_Int8toChar?relay
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005                ; Setup parameters for call to function AT_HalUARTWrite
   \   000005   7C02         MOV     R4,#0x2
   \   000007   7D00         MOV     R5,#0x0
   \   000009   85..82       MOV     DPL,?XSP + 0
   \   00000C   85..83       MOV     DPH,?XSP + 1
   \   00000F   AA82         MOV     R2,DPL
   \   000011   AB83         MOV     R3,DPH
   \   000013   7900         MOV     R1,#0x0
   \   000015   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000018                ; Setup parameters for call to function AT_HalUARTWrite
   \   000018                ; Setup parameters for call to function AT_HalUARTWrite
   \   000018                ; Setup parameters for call to function AT_HalUARTWrite
   \   000018                ; Setup parameters for call to function AT_HalUARTWrite
   \   000018                ; Setup parameters for call to function AT_HalUARTWrite
   \   000018   7C01         MOV     R4,#0x1
   \   00001A   7D00         MOV     R5,#0x0
   \   00001C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   A3           INC     DPTR
   \   000001   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000004   7D00         MOV     R5,#0x0
   \   000006   85..82       MOV     DPL,?XSP + 0
   \   000009   85..83       MOV     DPH,?XSP + 1
   \   00000C   AA82         MOV     R2,DPL
   \   00000E   AB83         MOV     R3,DPH
   \   000010   7900         MOV     R1,#0x0
   \   000012   12....       LCALL   ??AT_HalUARTWrite?relay
   \   000015                ; Setup parameters for call to function AT_HalUARTWrite
   \   000015                ; Setup parameters for call to function AT_HalUARTWrite
   \   000015                ; Setup parameters for call to function AT_HalUARTWrite
   \   000015                ; Setup parameters for call to function AT_HalUARTWrite
   \   000015   7C01         MOV     R4,#0x1
   \   000017   7D00         MOV     R5,#0x0
   \   000019   22           RET
    221          #endif // ZCL_READ
    222          
    223          
    224          
    225          #ifdef ZCL_WRITE
    226          /*********************************************************************
    227           * @fn      AT_ZCL_ProcessInWriteRspCmd
    228           *
    229           * @brief   Process the "Profile" Write Response Command
    230           *
    231           * @param   pInMsg - incoming message to process
    232           *
    233           * @return  none
    234           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    235          static uint8 AT_ZCL_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg )
   \                     AT_ZCL_ProcessInWriteRspCmd:
    236          {
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 17
   \   000005   74EF         MOV     A,#-0x11
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine9 & 0xFFFF
    237            zclWriteRspCmd_t *writeRspCmd;
    238            uint8 i;
    239            writeRspCmd = (zclWriteRspCmd_t *)pInMsg->attrCmd;
   \                     ??CrossCallReturnLabel_41:
   \   00000D   F5..         MOV     ?V0 + 8,A
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   F5..         MOV     ?V0 + 9,A
    240            
    241            char str[17];
    242            AT_RESP_START();
   \   000013                ; Setup parameters for call to function AT_HalUARTWrite
   \   000013   7C02         MOV     R4,#0x2
   \   000015   7D00         MOV     R5,#0x0
   \   000017   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000019   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   00001B   7900         MOV     R1,#0x0
   \   00001D   12....       LCALL   ??AT_HalUARTWrite?relay
    243            for (i = 0; i < writeRspCmd->numAttr; i++)
   \   000020   7E00         MOV     R6,#0x0
   \   000022   02....       LJMP    ??AT_ZCL_ProcessInWriteRspCmd_0 & 0xFFFF
    244            {
    245                   AT_RESP("WRITEATR:",9);
    246                   
    247                  //node id
    248                  if(pInMsg->srcAddr.addrMode==(afAddrMode_t)Addr16Bit){
    249                    AT_Int16toChar(pInMsg->srcAddr.addr.shortAddr,str);
    250                    AT_RESP(str,4);
    251                  }else{
    252                    AT_EUI64toChar(pInMsg->srcAddr.addr.extAddr,str);
   \                     ??AT_ZCL_ProcessInWriteRspCmd_1:
   \   000025                ; Setup parameters for call to function AT_EUI64toChar
   \   000025   12....       LCALL   ?Subroutine19 & 0xFFFF
    253                    AT_RESP(str,16);
    254                  }
   \                     ??CrossCallReturnLabel_26:
   \   000028   7D00         MOV     R5,#0x0
   \   00002A   85..82       MOV     DPL,?XSP + 0
   \   00002D   85..83       MOV     DPH,?XSP + 1
   \   000030   AA82         MOV     R2,DPL
   \   000032   AB83         MOV     R3,DPH
   \   000034   7900         MOV     R1,#0x0
   \   000036   12....       LCALL   ??AT_HalUARTWrite?relay
    255                  AT_RESP(",",1);
   \   000039   75....       MOV     ?V0 + 0,#`?<Constant ",">` & 0xff
   \   00003C   75....       MOV     ?V0 + 1,#(`?<Constant ",">` >> 8) & 0xff
   \   00003F                ; Setup parameters for call to function AT_HalUARTWrite
   \   00003F   7C01         MOV     R4,#0x1
   \   000041   7D00         MOV     R5,#0x0
   \   000043   AA..         MOV     R2,?V0 + 0
   \   000045   AB..         MOV     R3,?V0 + 1
   \   000047   12....       LCALL   ?Subroutine15 & 0xFFFF
    256                  
    257                  //End ponit
    258                  AT_Int8toChar(pInMsg->srcAddr.endPoint,str);
   \                     ??CrossCallReturnLabel_19:
   \   00004A   F583         MOV     DPH,A
   \   00004C   12....       LCALL   ?Subroutine6 & 0xFFFF
    259                  AT_RESP(str,2);
    260                  AT_RESP(",",1);
    261                  
    262                  //Cluster ID
    263                  AT_Int16toChar(pInMsg->clusterId,str);
   \                     ??CrossCallReturnLabel_4:
   \   00004F                ; Setup parameters for call to function AT_Int16toChar
   \   00004F   85..82       MOV     DPL,?XSP + 0
   \   000052   85..83       MOV     DPH,?XSP + 1
   \   000055   AC82         MOV     R4,DPL
   \   000057   AD83         MOV     R5,DPH
   \   000059   85..82       MOV     DPL,?V0 + 6
   \   00005C   85..83       MOV     DPH,?V0 + 7
   \   00005F   A3           INC     DPTR
   \   000060   A3           INC     DPTR
   \   000061   A3           INC     DPTR
   \   000062   A3           INC     DPTR
   \   000063   A3           INC     DPTR
   \   000064   A3           INC     DPTR
   \   000065   12....       LCALL   ?Subroutine5 & 0xFFFF
    264                  AT_RESP(str,4);
    265                  AT_RESP(",",1);
    266                  
    267                  //Attribute ID
    268                  AT_Int16toChar(writeRspCmd->attrList[i].attrID,str);
   \                     ??CrossCallReturnLabel_2:
   \   000068   8E82         MOV     DPL,R6
   \   00006A   8582..       MOV     ?V0 + 4,DPL
   \   00006D   E5..         MOV     A,?V0 + 4
   \   00006F   75F003       MOV     B,#0x3
   \   000072   A4           MUL     AB
   \   000073   F8           MOV     R0,A
   \   000074   A9F0         MOV     R1,B
   \   000076   E5..         MOV     A,?V0 + 8
   \   000078   28           ADD     A,R0
   \   000079   F5..         MOV     ?V0 + 2,A
   \   00007B   E5..         MOV     A,?V0 + 9
   \   00007D   39           ADDC    A,R1
   \   00007E   F5..         MOV     ?V0 + 3,A
   \   000080                ; Setup parameters for call to function AT_Int16toChar
   \   000080   85..82       MOV     DPL,?XSP + 0
   \   000083   85..83       MOV     DPH,?XSP + 1
   \   000086   AC82         MOV     R4,DPL
   \   000088   AD83         MOV     R5,DPH
   \   00008A   85..82       MOV     DPL,?V0 + 2
   \   00008D   F583         MOV     DPH,A
   \   00008F   12....       LCALL   ?Subroutine5 & 0xFFFF
    269                  AT_RESP(str,4);
    270                  AT_RESP(",",1);
    271                  
    272                  //status
    273                  AT_Int8toChar(writeRspCmd->attrList[i].status,str);
   \                     ??CrossCallReturnLabel_3:
   \   000092                ; Setup parameters for call to function AT_Int8toChar
   \   000092   85..82       MOV     DPL,?XSP + 0
   \   000095   85..83       MOV     DPH,?XSP + 1
   \   000098   AA82         MOV     R2,DPL
   \   00009A   AB83         MOV     R3,DPH
   \   00009C   85..82       MOV     DPL,?V0 + 2
   \   00009F   85..83       MOV     DPH,?V0 + 3
   \   0000A2   A3           INC     DPTR
   \   0000A3   12....       LCALL   ?Subroutine6 & 0xFFFF
    274                  AT_RESP(str,2);
    275                  AT_RESP(",",1);
    276                  
    277                  if(i < writeRspCmd->numAttr-1) AT_NEXT_LINE();
   \                     ??CrossCallReturnLabel_5:
   \   0000A6   85..82       MOV     DPL,?V0 + 8
   \   0000A9   85..83       MOV     DPH,?V0 + 9
   \   0000AC   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   0000AF   E5..         MOV     A,?V0 + 4
   \   0000B1   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   0000B4   500D         JNC     ??AT_ZCL_ProcessInWriteRspCmd_2
   \   0000B6                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000B6   7C02         MOV     R4,#0x2
   \   0000B8   7D00         MOV     R5,#0x0
   \   0000BA   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   0000BC   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   0000BE   7900         MOV     R1,#0x0
   \   0000C0   12....       LCALL   ??AT_HalUARTWrite?relay
   \                     ??AT_ZCL_ProcessInWriteRspCmd_2:
   \   0000C3   0E           INC     R6
   \                     ??AT_ZCL_ProcessInWriteRspCmd_0:
   \   0000C4   85..82       MOV     DPL,?V0 + 8
   \   0000C7   85..83       MOV     DPH,?V0 + 9
   \   0000CA   E0           MOVX    A,@DPTR
   \   0000CB   F8           MOV     R0,A
   \   0000CC   EE           MOV     A,R6
   \   0000CD   C3           CLR     C
   \   0000CE   98           SUBB    A,R0
   \   0000CF   5016         JNC     ??AT_ZCL_ProcessInWriteRspCmd_3
   \   0000D1                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000D1   7C09         MOV     R4,#0x9
   \   0000D3   7D00         MOV     R5,#0x0
   \   0000D5   7A..         MOV     R2,#`?<Constant "WRITEATR:">` & 0xff
   \   0000D7   7B..         MOV     R3,#(`?<Constant "WRITEATR:">` >> 8) & 0xff
   \   0000D9   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   0000DC   6003         JZ      $+5
   \   0000DE   02....       LJMP    ??AT_ZCL_ProcessInWriteRspCmd_1 & 0xFFFF
   \   0000E1                ; Setup parameters for call to function AT_Int16toChar
   \   0000E1   12....       LCALL   ?Subroutine7 & 0xFFFF
    278            }
   \                     ??CrossCallReturnLabel_53:
   \   0000E4   02....       LJMP    ??CrossCallReturnLabel_26 & 0xFFFF
    279            
    280            AT_RESP_END(); 
   \                     ??AT_ZCL_ProcessInWriteRspCmd_3:
   \   0000E7                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000E7   12....       LCALL   ?Subroutine18 & 0xFFFF
    281          
    282            return TRUE; 
   \                     ??CrossCallReturnLabel_49:
   \   0000EA   7411         MOV     A,#0x11
   \   0000EC   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000EF   7F0A         MOV     R7,#0xa
   \   0000F1   02....       LJMP    ?BANKED_LEAVE_XDATA
    283          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   000003   AA..         MOV     R2,?V0 + 0
   \   000005   AB..         MOV     R3,?V0 + 1
   \   000007   7900         MOV     R1,#0x0
   \   000009   12....       LCALL   ??AT_HalUARTWrite?relay
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   A3           INC     DPTR
   \   000001   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   000004   AA..         MOV     R2,?V0 + 0
   \   000006   AB..         MOV     R3,?V0 + 1
   \   000008   7900         MOV     R1,#0x0
   \   00000A   12....       LCALL   ??AT_HalUARTWrite?relay
   \   00000D   22           RET
    284          #endif // ZCL_WRITE
    285          
    286          
    287          
    288          /*********************************************************************
    289           * @fn      AT_ZCL_ProcessInDefaultRspCmd
    290           *
    291           * @brief   Process the "Profile" Default Response Command
    292           *
    293           * @param   pInMsg - incoming message to process
    294           *
    295           * @return  none
    296          
    297              DFTREP:<NodeID>,<EP>,<ClusterID>,<CMD>,<Status> 
    298                    <NodeID> - represents the address of the device which send back response. 
    299                    <EP> is the endpoint where is the response from. 
    300                    <ClusterID> - shows the cluster which the command belong to. 
    301                    <CMD> - is command ID which the default response responds to. 
    302                    <Status> - indicate if the command is implemented successfully or not.
    303          
    304           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    305          static uint8 AT_ZCL_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg )
   \                     AT_ZCL_ProcessInDefaultRspCmd:
    306          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    307            // zclDefaultRspCmd_t *defaultRspCmd = (zclDefaultRspCmd_t *)pInMsg->attrCmd;
    308             
    309            // Device is notified of the Default Response command.
    310            //(void)pInMsg;
    311            zclDefaultRspCmd_t* pRsp = (zclDefaultRspCmd_t*)pInMsg->attrCmd;
   \   000009   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   00000C   F5..         MOV     ?V0 + 0,A
   \   00000E   A3           INC     DPTR
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   F5..         MOV     ?V0 + 1,A
    312            AT_RESP_START();
   \   000012                ; Setup parameters for call to function AT_HalUARTWrite
   \   000012   7C02         MOV     R4,#0x2
   \   000014   7D00         MOV     R5,#0x0
   \   000016   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000018   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   00001A   7900         MOV     R1,#0x0
   \   00001C   12....       LCALL   ??AT_HalUARTWrite?relay
    313            if(pInMsg->srcAddr.addrMode == (afAddrMode_t)Addr16Bit){
   \   00001F   EE           MOV     A,R6
   \   000020   2412         ADD     A,#0x12
   \   000022   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000025   6402         XRL     A,#0x2
   \   000027   85..82       MOV     DPL,?V0 + 0
   \   00002A   85..83       MOV     DPH,?V0 + 1
   \   00002D   A3           INC     DPTR
   \   00002E   7040         JNZ     ??AT_ZCL_ProcessInDefaultRspCmd_0
    314              printf("DFTREP:%04X,%02X,%04X,%02X,%02X",
    315                     pInMsg->srcAddr.addr.shortAddr,
    316                     pInMsg->srcAddr.endPoint,
    317                     pInMsg->clusterId,
    318                     pRsp->commandID,
    319                     pRsp->statusCode);
   \   000030                ; Setup parameters for call to function printf
   \   000030   12....       LCALL   ?Subroutine12 & 0xFFFF
    320            }else{
   \                     ??CrossCallReturnLabel_11:
   \   000033   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000036   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000039   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   A3           INC     DPTR
   \   000041   A3           INC     DPTR
   \   000042   A3           INC     DPTR
   \   000043   A3           INC     DPTR
   \   000044   A3           INC     DPTR
   \   000045   A3           INC     DPTR
   \   000046   A3           INC     DPTR
   \   000047   A3           INC     DPTR
   \   000048   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00004B   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   8E82         MOV     DPL,R6
   \   000053   8F83         MOV     DPH,R7
   \   000055   A3           INC     DPTR
   \   000056   A3           INC     DPTR
   \   000057   A3           INC     DPTR
   \   000058   A3           INC     DPTR
   \   000059   A3           INC     DPTR
   \   00005A   A3           INC     DPTR
   \   00005B   A3           INC     DPTR
   \   00005C   A3           INC     DPTR
   \   00005D   A3           INC     DPTR
   \   00005E   A3           INC     DPTR
   \   00005F   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000062   7A..         MOV     R2,#`?<Constant "DFTREP:%04X,%02X,%04X...">` & 0xff
   \   000064   7B..         MOV     R3,#(`?<Constant "DFTREP:%04X,%02X,%04X...">` >> 8) & 0xff
   \   000066   12....       LCALL   ??printf?relay
   \   000069   740A         MOV     A,#0xa
   \   00006B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006E   802D         SJMP    ??AT_ZCL_ProcessInDefaultRspCmd_1
    321              printf("DFTREP:UNKNOWN,%02X,%04X,%02X,%02X",
    322                     pInMsg->srcAddr.endPoint,
    323                     pInMsg->clusterId,
    324                     pRsp->commandID,
    325                     pRsp->statusCode);
   \                     ??AT_ZCL_ProcessInDefaultRspCmd_0:
   \   000070                ; Setup parameters for call to function printf
   \   000070   12....       LCALL   ?Subroutine12 & 0xFFFF
    326            }
   \                     ??CrossCallReturnLabel_12:
   \   000073   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000076   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   000079   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007C   8E82         MOV     DPL,R6
   \   00007E   8F83         MOV     DPH,R7
   \   000080   A3           INC     DPTR
   \   000081   A3           INC     DPTR
   \   000082   A3           INC     DPTR
   \   000083   A3           INC     DPTR
   \   000084   A3           INC     DPTR
   \   000085   A3           INC     DPTR
   \   000086   A3           INC     DPTR
   \   000087   A3           INC     DPTR
   \   000088   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00008B   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   00008E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000091   7A..         MOV     R2,#`?<Constant "DFTREP:UNKNOWN,%02X,%...">` & 0xff
   \   000093   7B..         MOV     R3,#(`?<Constant "DFTREP:UNKNOWN,%02X,%...">` >> 8) & 0xff
   \   000095   12....       LCALL   ??printf?relay
   \   000098   7408         MOV     A,#0x8
   \   00009A   12....       LCALL   ?DEALLOC_XSTACK8
    327            AT_RESP_END();
   \                     ??AT_ZCL_ProcessInDefaultRspCmd_1:
   \   00009D                ; Setup parameters for call to function AT_HalUARTWrite
   \   00009D   12....       LCALL   ?Subroutine18 & 0xFFFF
    328            return TRUE; 
   \                     ??CrossCallReturnLabel_50:
   \   0000A0                REQUIRE ?Subroutine1
   \   0000A0                ; // Fall through to label ?Subroutine1
    329          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   EE           MOV     A,R6
   \   000001   2413         ADD     A,#0x13
   \   000003   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   000006   F5..         MOV     ?V0 + 0,A
   \   000008   78..         MOV     R0,#?V0 + 0
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   85..82       MOV     DPL,?V0 + 0
   \   000003   85..83       MOV     DPH,?V0 + 1
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F5..         MOV     ?V0 + 0,A
   \   000009   75..00       MOV     ?V0 + 1,#0x0
   \   00000C   78..         MOV     R0,#?V0 + 0
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 2,A
   \   000003   75..00       MOV     ?V0 + 3,#0x0
   \   000006   78..         MOV     R0,#?V0 + 2
   \   000008   22           RET
    330          /*********************************************************************************
    331          +ATTRDISC - Find Supported Attributs On A Remote Device End Point Execute Command 
    332                  DISCATTR:<Complete code> 
    333                  CLUS:<ClusterID>,ATTR:<AttributeID>,TYPE:<DataType> 
    334          
    335                  Note: <Complete code> represents if all attributes support by this cluster have been discovered. 
    336                  00 C Completed discovery 01 C Uncompleted discovery
    337          ***********************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    338          static uint8 AT_ZCL_ProcessInDiscoverRspCmd( zclIncomingMsg_t *pInMsg ){
   \                     AT_ZCL_ProcessInDiscoverRspCmd:
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    339            zclDiscoverRspCmd_t *Rsp = (zclDiscoverRspCmd_t*) pInMsg->attrCmd;
   \   000009   12....       LCALL   ??Subroutine29_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   00000C   FE           MOV     R6,A
   \   00000D   A3           INC     DPTR
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   FF           MOV     R7,A
    340            
    341            AT_RESP_START();
   \   000010                ; Setup parameters for call to function AT_HalUARTWrite
   \   000010   7C02         MOV     R4,#0x2
   \   000012   7D00         MOV     R5,#0x0
   \   000014   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000016   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000018   7900         MOV     R1,#0x0
   \   00001A   12....       LCALL   ??AT_HalUARTWrite?relay
    342            printf("DISCATTR:%02X",Rsp->discComplete);
   \   00001D                ; Setup parameters for call to function printf
   \   00001D   8E82         MOV     DPL,R6
   \   00001F   8F83         MOV     DPH,R7
   \   000021   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   000024   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000027   7A..         MOV     R2,#`?<Constant "DISCATTR:%02X">` & 0xff
   \   000029   7B..         MOV     R3,#(`?<Constant "DISCATTR:%02X">` >> 8) & 0xff
   \   00002B   12....       LCALL   ??printf?relay
   \   00002E   7402         MOV     A,#0x2
   \   000030   12....       LCALL   ?DEALLOC_XSTACK8
    343            uint8 i;
    344            for(i=0;i<Rsp->numAttr;i++){
   \   000033   75..00       MOV     ?V0 + 2,#0x0
   \   000036   8057         SJMP    ??AT_ZCL_ProcessInDiscoverRspCmd_0
    345              AT_NEXT_LINE();
   \                     ??AT_ZCL_ProcessInDiscoverRspCmd_1:
   \   000038                ; Setup parameters for call to function AT_HalUARTWrite
   \   000038   7A..         MOV     R2,#`?<Constant "\\n\\r">` & 0xff
   \   00003A   7B..         MOV     R3,#(`?<Constant "\\n\\r">` >> 8) & 0xff
   \   00003C   7900         MOV     R1,#0x0
   \   00003E   12....       LCALL   ??AT_HalUARTWrite?relay
    346              printf("CLUS:%04X,ATTR:%04X,TYPE:%02X",
    347                     pInMsg->clusterId,
    348                     Rsp->attrList[i].attrID,
    349                     Rsp->attrList[i].dataType);
   \   000041   E5..         MOV     A,?V0 + 2
   \   000043   75F003       MOV     B,#0x3
   \   000046   A4           MUL     AB
   \   000047   F8           MOV     R0,A
   \   000048   A9F0         MOV     R1,B
   \   00004A   EE           MOV     A,R6
   \   00004B   28           ADD     A,R0
   \   00004C   F8           MOV     R0,A
   \   00004D   EF           MOV     A,R7
   \   00004E   39           ADDC    A,R1
   \   00004F   F9           MOV     R1,A
   \   000050   E8           MOV     A,R0
   \   000051   FA           MOV     R2,A
   \   000052   E9           MOV     A,R1
   \   000053   FB           MOV     R3,A
   \   000054                ; Setup parameters for call to function printf
   \   000054   8A82         MOV     DPL,R2
   \   000056   8B83         MOV     DPH,R3
   \   000058   A3           INC     DPTR
   \   000059   A3           INC     DPTR
   \   00005A   A3           INC     DPTR
   \   00005B   A3           INC     DPTR
   \   00005C   E0           MOVX    A,@DPTR
   \   00005D   F5..         MOV     ?V0 + 4,A
   \   00005F   75..00       MOV     ?V0 + 5,#0x0
   \   000062   78..         MOV     R0,#?V0 + 4
   \   000064   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000067   8A82         MOV     DPL,R2
   \   000069   8B83         MOV     DPH,R3
   \   00006B   A3           INC     DPTR
   \   00006C   A3           INC     DPTR
   \   00006D   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000070   85..82       MOV     DPL,?V0 + 0
   \   000073   85..83       MOV     DPH,?V0 + 1
   \   000076   A3           INC     DPTR
   \   000077   A3           INC     DPTR
   \   000078   A3           INC     DPTR
   \   000079   A3           INC     DPTR
   \   00007A   A3           INC     DPTR
   \   00007B   A3           INC     DPTR
   \   00007C   A3           INC     DPTR
   \   00007D   A3           INC     DPTR
   \   00007E   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000081   7A..         MOV     R2,#`?<Constant "CLUS:%04X,ATTR:%04X,T...">` & 0xff
   \   000083   7B..         MOV     R3,#(`?<Constant "CLUS:%04X,ATTR:%04X,T...">` >> 8) & 0xff
   \   000085   12....       LCALL   ??printf?relay
   \   000088   7406         MOV     A,#0x6
   \   00008A   12....       LCALL   ?DEALLOC_XSTACK8
    350            }
   \   00008D   05..         INC     ?V0 + 2
   \                     ??AT_ZCL_ProcessInDiscoverRspCmd_0:
   \   00008F   8E82         MOV     DPL,R6
   \   000091   8F83         MOV     DPH,R7
   \   000093   A3           INC     DPTR
   \   000094   E0           MOVX    A,@DPTR
   \   000095   F8           MOV     R0,A
   \   000096   E5..         MOV     A,?V0 + 2
   \   000098   C3           CLR     C
   \   000099   98           SUBB    A,R0
   \   00009A   7C02         MOV     R4,#0x2
   \   00009C   7D00         MOV     R5,#0x0
   \   00009E   4098         JC      ??AT_ZCL_ProcessInDiscoverRspCmd_1
    351            
    352            AT_RESP_END();
   \   0000A0                ; Setup parameters for call to function AT_HalUARTWrite
   \   0000A0   12....       LCALL   ??Subroutine31_0 & 0xFFFF
    353            return TRUE;
   \                     ??CrossCallReturnLabel_51:
   \   0000A3                REQUIRE ?Subroutine2
   \   0000A3                ; // Fall through to label ?Subroutine2
    354          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F06         MOV     R7,#0x6
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    355          
    356          /************************************************************************
    357          +IDQUERY C Query If Target Device(s) In Identifying Mode
    358          
    359            IDQUERYRSP:<NodeId>,<EP>,<TimeOut>
    360          ****************************************************************************/
    361          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    362          void AT_ZCL_IdentifyQueryRspCB(zclIdentifyQueryRsp_t *pRsp){
   \                     AT_ZCL_IdentifyQueryRspCB:
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
    363            uint8 ep = pRsp->srcAddr->endPoint;
   \   000005   8A82         MOV     DPL,R2
   \   000007   8B83         MOV     DPH,R3
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   F8           MOV     R0,A
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   F9           MOV     R1,A
   \   00000E   8882         MOV     DPL,R0
   \   000010   8983         MOV     DPH,R1
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   A3           INC     DPTR
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   A3           INC     DPTR
   \   000019   A3           INC     DPTR
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 4,A
    364            uint16 timeout = pRsp->timeout;
   \   00001E   8A82         MOV     DPL,R2
   \   000020   8B83         MOV     DPH,R3
   \   000022   A3           INC     DPTR
   \   000023   A3           INC     DPTR
   \   000024   E0           MOVX    A,@DPTR
   \   000025   F5..         MOV     ?V0 + 2,A
   \   000027   A3           INC     DPTR
   \   000028   E0           MOVX    A,@DPTR
   \   000029   F5..         MOV     ?V0 + 3,A
    365            uint16 addr;
    366            if(pRsp->srcAddr->addrMode==(afAddrMode_t)Addr16Bit){
   \   00002B   8882         MOV     DPL,R0
   \   00002D   8983         MOV     DPH,R1
   \   00002F   A3           INC     DPTR
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   A3           INC     DPTR
   \   000033   A3           INC     DPTR
   \   000034   A3           INC     DPTR
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   E0           MOVX    A,@DPTR
   \   000038   6402         XRL     A,#0x2
   \   00003A   7011         JNZ     ??AT_ZCL_IdentifyQueryRspCB_0
    367               addr = pRsp->srcAddr->addr.shortAddr;
   \   00003C   8A82         MOV     DPL,R2
   \   00003E   8B83         MOV     DPH,R3
   \   000040   A3           INC     DPTR
   \   000041   E0           MOVX    A,@DPTR
   \   000042   F583         MOV     DPH,A
   \   000044   8882         MOV     DPL,R0
   \   000046   E0           MOVX    A,@DPTR
   \   000047   F5..         MOV     ?V0 + 0,A
   \   000049   A3           INC     DPTR
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   F5..         MOV     ?V0 + 1,A
    368            }
    369            AT_RESP_START();
   \                     ??AT_ZCL_IdentifyQueryRspCB_0:
   \   00004D                ; Setup parameters for call to function AT_HalUARTWrite
   \   00004D   7C02         MOV     R4,#0x2
   \   00004F   7D00         MOV     R5,#0x0
   \   000051   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000053   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000055   7900         MOV     R1,#0x0
   \   000057   12....       LCALL   ??AT_HalUARTWrite?relay
    370            printf("IDQUERYRSP:%04X,%02X,%04X",
    371                   addr,ep,timeout);
   \   00005A                ; Setup parameters for call to function printf
   \   00005A   78..         MOV     R0,#?V0 + 2
   \   00005C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005F   75..00       MOV     ?V0 + 5,#0x0
   \   000062   78..         MOV     R0,#?V0 + 4
   \   000064   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000067   78..         MOV     R0,#?V0 + 0
   \   000069   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006C   7A..         MOV     R2,#`?<Constant "IDQUERYRSP:%04X,%02X,...">` & 0xff
   \   00006E   7B..         MOV     R3,#(`?<Constant "IDQUERYRSP:%04X,%02X,...">` >> 8) & 0xff
   \   000070   12....       LCALL   ??printf?relay
   \   000073   7406         MOV     A,#0x6
   \   000075   12....       LCALL   ?DEALLOC_XSTACK8
    372            AT_RESP_END();
   \   000078                ; Setup parameters for call to function AT_HalUARTWrite
   \   000078   7C02         MOV     R4,#0x2
   \   00007A   7D00         MOV     R5,#0x0
   \   00007C   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   00007E   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000080   7900         MOV     R1,#0x0
   \   000082   12....       LCALL   ??AT_HalUARTWrite?relay
    373          }
   \   000085   02....       LJMP    ?Subroutine2 & 0xFFFF
    374          
    375          
    376          /*********************************************************************
    377           * @fn      AT_ZCL_EP_ENABLE
    378           *
    379           * @brief   Enable/Disable ZCL endpoint
    380           *
    381           * @param   pInMsg - incoming message to process
    382           *
    383           * @return  if operation success, return ture. otherwise return false.
    384           */
    385          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    386          bool AT_ZCL_EP_ENABLE( bool isEnable,uint8 endPoint){
   \                     AT_ZCL_EP_ENABLE:
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
   \   000007   EA           MOV     A,R2
   \   000008   FF           MOV     R7,A
    387            
    388            AT_ZCL_EP_ENABLE_CBs_t *pLoop;
    389            pLoop = AT_ZCL_EP_ENABLE_CBs;
   \   000009   90....       MOV     DPTR,#AT_ZCL_EP_ENABLE_CBs
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   FA           MOV     R2,A
   \   00000E   A3           INC     DPTR
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   800C         SJMP    ??AT_ZCL_EP_ENABLE_0
    390            while (pLoop){
    391              if(endPoint==pLoop->ep) break;
    392              pLoop=pLoop->next;
   \                     ??AT_ZCL_EP_ENABLE_1:
   \   000012   8A82         MOV     DPL,R2
   \   000014   8B83         MOV     DPH,R3
   \   000016   E0           MOVX    A,@DPTR
   \   000017   F8           MOV     R0,A
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F9           MOV     R1,A
   \   00001B   E8           MOV     A,R0
   \   00001C   FA           MOV     R2,A
   \   00001D   E9           MOV     A,R1
   \                     ??AT_ZCL_EP_ENABLE_0:
   \   00001E   FB           MOV     R3,A
   \   00001F   EA           MOV     A,R2
   \   000020   4B           ORL     A,R3
   \   000021   6016         JZ      ??AT_ZCL_EP_ENABLE_2
   \   000023   8A82         MOV     DPL,R2
   \   000025   8B83         MOV     DPH,R3
   \   000027   A3           INC     DPTR
   \   000028   A3           INC     DPTR
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   6F           XRL     A,R7
   \   00002B   70E5         JNZ     ??AT_ZCL_EP_ENABLE_1
    393            }
    394            //if found, update the item
    395            if(pLoop){
    396              pLoop->CB(isEnable);
   \   00002D                ; Setup parameters for indirect call
   \   00002D   EE           MOV     A,R6
   \   00002E   F9           MOV     R1,A
   \   00002F   8A82         MOV     DPL,R2
   \   000031   8B83         MOV     DPH,R3
   \   000033   12....       LCALL   ??Subroutine28_0 & 0xFFFF
    397            }else{
   \                     ??CrossCallReturnLabel_37:
   \   000036   12....       LCALL   ?CALL_IND
    398              return false;
    399            }
    400            return false;
   \                     ??AT_ZCL_EP_ENABLE_2:
   \   000039   7900         MOV     R1,#0x0
   \   00003B   02....       LJMP    ?Subroutine0 & 0xFFFF
    401          }
    402          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    403          bool AT_ZCL_EP_ENABLE_Register( uint8 endPoint,AT_ZCL_EP_ENABLE_CB_t CB){
   \                     AT_ZCL_EP_ENABLE_Register:
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 0,R1
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
   \   000009   EB           MOV     A,R3
   \   00000A   FF           MOV     R7,A
    404            AT_ZCL_EP_ENABLE_CBs_t *pLoop;
    405            pLoop = AT_ZCL_EP_ENABLE_CBs;
   \   00000B   90....       MOV     DPTR,#AT_ZCL_EP_ENABLE_CBs
    406            while (pLoop){
    407              if(endPoint==pLoop->ep) break;
    408              pLoop=pLoop->next;
   \                     ??AT_ZCL_EP_ENABLE_Register_0:
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   F8           MOV     R0,A
   \   000010   A3           INC     DPTR
   \   000011   E0           MOVX    A,@DPTR
   \   000012   F9           MOV     R1,A
   \   000013   E8           MOV     A,R0
   \   000014   49           ORL     A,R1
   \   000015   6017         JZ      ??AT_ZCL_EP_ENABLE_Register_1
   \   000017   8882         MOV     DPL,R0
   \   000019   8983         MOV     DPH,R1
   \   00001B   A3           INC     DPTR
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   65..         XRL     A,?V0 + 0
   \   000020   8882         MOV     DPL,R0
   \   000022   8983         MOV     DPH,R1
   \   000024   70E8         JNZ     ??AT_ZCL_EP_ENABLE_Register_0
    409            }
    410            //if found, update the item
    411            if(pLoop){
    412              pLoop->ep = endPoint;
   \   000026   12....       LCALL   ?Subroutine22 & 0xFFFF
    413              pLoop->CB = CB;
   \                     ??CrossCallReturnLabel_31:
   \   000029   F0           MOVX    @DPTR,A
    414              return true;
   \   00002A   7901         MOV     R1,#0x1
   \   00002C   8037         SJMP    ??AT_ZCL_EP_ENABLE_Register_2
    415            }else{
    416              //not found, add it in to the list
    417              pLoop = osal_mem_alloc(sizeof(AT_ZCL_EP_ENABLE_CBs_t));
   \                     ??AT_ZCL_EP_ENABLE_Register_1:
   \   00002E                ; Setup parameters for call to function osal_mem_alloc
   \   00002E   7A05         MOV     R2,#0x5
   \   000030   7B00         MOV     R3,#0x0
   \   000032   12....       LCALL   ??osal_mem_alloc?relay
   \   000035   8A..         MOV     ?V0 + 2,R2
   \   000037   8B..         MOV     ?V0 + 3,R3
   \   000039   A8..         MOV     R0,?V0 + 2
   \   00003B   A9..         MOV     R1,?V0 + 3
    418              if(pLoop){
   \   00003D   E8           MOV     A,R0
   \   00003E   49           ORL     A,R1
   \   00003F   6022         JZ      ??AT_ZCL_EP_ENABLE_Register_3
    419                pLoop->ep = endPoint;
   \   000041   8882         MOV     DPL,R0
   \   000043   8983         MOV     DPH,R1
   \   000045   12....       LCALL   ?Subroutine22 & 0xFFFF
    420                pLoop->CB = CB;
   \                     ??CrossCallReturnLabel_32:
   \   000048   F0           MOVX    @DPTR,A
    421                pLoop->next = AT_ZCL_EP_ENABLE_CBs;
   \   000049   90....       MOV     DPTR,#AT_ZCL_EP_ENABLE_CBs
   \   00004C   E0           MOVX    A,@DPTR
   \   00004D   FA           MOV     R2,A
   \   00004E   A3           INC     DPTR
   \   00004F   E0           MOVX    A,@DPTR
   \   000050   FB           MOV     R3,A
   \   000051   8882         MOV     DPL,R0
   \   000053   8983         MOV     DPH,R1
   \   000055   EA           MOV     A,R2
   \   000056   F0           MOVX    @DPTR,A
   \   000057   A3           INC     DPTR
   \   000058   EB           MOV     A,R3
   \   000059   F0           MOVX    @DPTR,A
    422                AT_ZCL_EP_ENABLE_CBs = pLoop;
   \   00005A   90....       MOV     DPTR,#AT_ZCL_EP_ENABLE_CBs
   \   00005D   E8           MOV     A,R0
   \   00005E   F0           MOVX    @DPTR,A
   \   00005F   A3           INC     DPTR
   \   000060   E9           MOV     A,R1
   \   000061   80C6         SJMP    ??CrossCallReturnLabel_31
    423                return true;
    424              }else{
    425                return false;
   \                     ??AT_ZCL_EP_ENABLE_Register_3:
   \   000063   7900         MOV     R1,#0x0
    426              }
    427            }
   \                     ??AT_ZCL_EP_ENABLE_Register_2:
   \   000065   02....       LJMP    ?Subroutine1 & 0xFFFF
    428          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   E5..         MOV     A,?V0 + 0
   \   000004   F0           MOVX    @DPTR,A
   \   000005   8882         MOV     DPL,R0
   \   000007   8983         MOV     DPH,R1
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   EE           MOV     A,R6
   \   00000D   F0           MOVX    @DPTR,A
   \   00000E   A3           INC     DPTR
   \   00000F   EF           MOV     A,R7
   \   000010   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AT_ZCL_SimpleDesc>`:
   \   000000   CB           DB 203
   \   000001   0401         DW 260
   \   000003   FF00         DW 255
   \   000005   00           DB 0
   \   000006   00           DB 0
   \   000007   0000         DW 0H
   \   000009   00           DB 0
   \   00000A   0000         DW 0H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AT_ZCL_GEN_CmdCallbacks>`:
   \   000000   0000         DW 0H
   \   000002   0000         DW 0H
   \   000004   ....         DW ??AT_ZCL_IdentifyQueryRspCB?relay
   \   000006   0000         DW 0H
   \   000008   0000         DW 0H
   \   00000A   0000         DW 0H
   \   00000C   0000         DW 0H
   \   00000E   0000         DW 0H
   \   000010   0000         DW 0H
   \   000012   0000         DW 0H
   \   000014   0000         DW 0H
   \   000016   0000         DW 0H
   \   000018   0000         DW 0H
   \   00001A   0000         DW 0H
   \   00001C   0000         DB 0, 0

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_ProcessIncomingMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_ProcessIncomingMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_ProcessInReadRspCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_ProcessInReadRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_ProcessInWriteRspCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_ProcessInWriteRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_ProcessInDefaultRspCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_ProcessInDefaultRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_ProcessInDiscoverRspCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_ProcessInDiscoverRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_IdentifyQueryRspCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_IdentifyQueryRspCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_EP_ENABLE?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_EP_ENABLE

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??AT_ZCL_EP_ENABLE_Register?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_ZCL_EP_ENABLE_Register

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\n">`:
   \   000000   0D0A00       DB "\015\012"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "RESPATR:">`:
   \   000000   52455350     DB "RESPATR:"
   \            4154523A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ",">`:
   \   000000   2C00         DB ","

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\n\\r">`:
   \   000000   0A0D00       DB "\012\015"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "WRITEATR:">`:
   \   000000   57524954     DB "WRITEATR:"
   \            45415452
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DFTREP:%04X,%02X,%04X...">`:
   \   000000   44465452     DB "DFTREP:%04X,%02X,%04X,%02X,%02X"
   \            45503A25
   \            3034582C
   \            25303258
   \            2C253034
   \            582C2530
   \            32582C25
   \            30325800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DFTREP:UNKNOWN,%02X,%...">`:
   \   000000   44465452     DB "DFTREP:UNKNOWN,%02X,%04X,%02X,%02X"
   \            45503A55
   \            4E4B4E4F
   \            574E2C25
   \            3032582C
   \            25303458
   \            2C253032
   \            582C2530
   \            325800  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DISCATTR:%02X">`:
   \   000000   44495343     DB "DISCATTR:%02X"
   \            41545452
   \            3A253032
   \            5800    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "CLUS:%04X,ATTR:%04X,T...">`:
   \   000000   434C5553     DB "CLUS:%04X,ATTR:%04X,TYPE:%02X"
   \            3A253034
   \            582C4154
   \            54523A25
   \            3034582C
   \            54595045
   \            3A253032
   \            5800    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "IDQUERYRSP:%04X,%02X,...">`:
   \   000000   49445155     DB "IDQUERYRSP:%04X,%02X,%04X"
   \            45525952
   \            53503A25
   \            3034582C
   \            25303258
   \            2C253034
   \            5800    

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     AT_ZCL_EP_ENABLE                   0      0      9
     AT_ZCL_EP_ENABLE_Register          1      0     12
       -> osal_mem_alloc                0      0     24
     AT_ZCL_IdentifyQueryRspCB          0      0     20
       -> AT_HalUARTWrite               0      0     28
       -> printf                        0      0     40
       -> AT_HalUARTWrite               0      0     28
     AT_ZCL_Init                        2      0      0
       -> zclHA_Init                    4      0      0
       -> zclGeneral_RegisterCmdCallbacks
                                        4      0      0
     AT_ZCL_ProcessInDefaultRspCmd      0      0     31
       -> AT_HalUARTWrite               0      0     24
       -> printf                        0      0     44
       -> printf                        0      0     40
       -> AT_HalUARTWrite               0      0     24
     AT_ZCL_ProcessInDiscoverRspCmd     0      0     29
       -> AT_HalUARTWrite               0      0     28
       -> printf                        0      0     32
       -> AT_HalUARTWrite               0      0     28
       -> printf                        0      0     40
       -> AT_HalUARTWrite               0      0     28
     AT_ZCL_ProcessInReadRspCmd         0      0     42
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int8toChar                 0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int16toChar                0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_EUI64toChar                0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int8toChar                 0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int16toChar                0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int16toChar                0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int8toChar                 0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int8toChar                 0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_Int16toChar                0      0     66
       -> AT_HalUARTWrite               0      0     66
       -> AT_HalUARTWrite               0      0     66
     AT_ZCL_ProcessInWriteRspCmd        0      0     44
       -> AT_HalUARTWrite               0      0     70
       -> AT_EUI64toChar                0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_Int8toChar                 0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_Int16toChar                0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_Int16toChar                0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_Int8toChar                 0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_Int16toChar                0      0     70
       -> AT_HalUARTWrite               0      0     70
       -> AT_HalUARTWrite               0      0     70
     AT_ZCL_ProcessIncomingMsg          0      0      9
       -> AT_ZCL_ProcessInReadRspCmd
                                        0      0     18
       -> AT_ZCL_ProcessInWriteRspCmd
                                        0      0     18
       -> AT_ZCL_ProcessInDiscoverRspCmd
                                        0      0     18
       -> AT_ZCL_ProcessInDefaultRspCmd
                                        0      0     18
       -> osal_mem_free                 0      0     18


   Segment part sizes:

     Function/Label                             Bytes
     --------------                             -----
     AT_ZCL_EP_ENABLE_CBs                          2
     AT_ZCL_SimpleDesc                            12
     AT_ZCL_GEN_CmdCallbacks                      30
     AT_ZCL_Init                                  27
     AT_ZCL_ProcessIncomingMsg                    73
     ?Subroutine0                                  5
     ?Subroutine8                                  7
     ?Subroutine25                                 3
     ??Subroutine33_0                              6
     AT_ZCL_ProcessInReadRspCmd                  396
     ?Subroutine20                                22
     ?Subroutine16                                 7
     ?Subroutine10                                 3
     ??Subroutine28_0                             12
     ?Subroutine26                                13
     ?Subroutine9                                  4
     ??Subroutine29_0                             10
     ?Subroutine4                                 13
     ?Subroutine3                                  2
     ??Subroutine30_0                             13
     ?Subroutine21                                 9
     ?Subroutine19                                16
     ?Subroutine18                                 4
     ??Subroutine31_0                             12
     ?Subroutine15                                26
     ?Subroutine13                                10
     ?Subroutine11                                29
     ?Subroutine7                                 16
     ??Subroutine32_0                              4
     ?Subroutine27                                11
     ?Subroutine24                                29
     ?Subroutine23                                26
     AT_ZCL_ProcessInWriteRspCmd                 244
     ?Subroutine6                                 13
     ?Subroutine5                                 14
     AT_ZCL_ProcessInDefaultRspCmd               160
     ?Subroutine1                                  5
     ?Subroutine17                                11
     ?Subroutine14                                15
     ?Subroutine12                                 9
     AT_ZCL_ProcessInDiscoverRspCmd              163
     ?Subroutine2                                  5
     AT_ZCL_IdentifyQueryRspCB                   136
     AT_ZCL_EP_ENABLE                             62
     AT_ZCL_EP_ENABLE_Register                   104
     ?Subroutine22                                17
     ?<Initializer for AT_ZCL_SimpleDesc>         12
     ?<Initializer for AT_ZCL_GEN_CmdCallbacks>   30
     ??AT_ZCL_Init?relay                           6
     ??AT_ZCL_ProcessIncomingMsg?relay             6
     ??AT_ZCL_ProcessInReadRspCmd?relay            6
     ??AT_ZCL_ProcessInWriteRspCmd?relay           6
     ??AT_ZCL_ProcessInDefaultRspCmd?relay         6
     ??AT_ZCL_ProcessInDiscoverRspCmd?relay        6
     ??AT_ZCL_IdentifyQueryRspCB?relay             6
     ??AT_ZCL_EP_ENABLE?relay                      6
     ??AT_ZCL_EP_ENABLE_Register?relay             6
     ?<Constant "\r\n">                            3
     ?<Constant "RESPATR:">                        9
     ?<Constant ",">                               2
     ?<Constant "\n\r">                            3
     ?<Constant "WRITEATR:">                      10
     ?<Constant "DFTREP:%04X,%02X,%04X...">       32
     ?<Constant "DFTREP:UNKNOWN,%02X,%...">       35
     ?<Constant "DISCATTR:%02X">                  14
     ?<Constant "CLUS:%04X,ATTR:%04X,T...">       30
     ?<Constant "IDQUERYRSP:%04X,%02X,...">       26

 
 1 766 bytes in segment BANKED_CODE
    54 bytes in segment BANK_RELAYS
    42 bytes in segment XDATA_I
    42 bytes in segment XDATA_ID
   164 bytes in segment XDATA_ROM_C
     2 bytes in segment XDATA_Z
 
 1 862 bytes of CODE  memory
   164 bytes of CONST memory
    44 bytes of XDATA memory

Errors: none
Warnings: none
